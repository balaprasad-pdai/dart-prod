"use strict";(self.webpackChunkDart_website=self.webpackChunkDart_website||[]).push([[46],{9046:(Me,R,Z)=>{Z.r(R),Z.d(R,{BookingsModule:()=>dt});var P=Z(6814),i=Z(1120),M=Z(5861),e=Z(4769),V=Z(4165),N=Z(1940),W=Z(3767),K=Z(4832),j=Z(7358),X=Z(5525);const y=function(o){return{active:o}};function B(o,d){if(1&o){const t=e.EpF();e.TgZ(0,"span")(1,"div",61),e.NdJ("click",function(n){e.CHM(t);const g=e.oxw();return e.KtG(g.getServiceSlot(n))}),e._uU(2),e.qZA()()}if(2&o){const t=d.$implicit,l=e.oxw();e.xp6(1),e.Q6J("ngClass",e.VKq(2,y,l.selectedSlot==t)),e.xp6(1),e.hij(" ",t," ")}}function Y(o,d){if(1&o&&(e.TgZ(0,"div",62),e._UZ(1,"app-selected-packages",63),e.qZA()),2&o){const t=e.oxw();e.xp6(1),e.Q6J("activeCartList",t.activeCartList)("page","booking-detail")("orderParams",t.orderParamsList)}}let se=(()=>{var o;class d{constructor(l,n,g){var C=this;this.router=l,this.bookingService=n,this.orderService=g,this.months=["January","February","March","April","May","June","July","August","September","October","November","December"],this.slots=["10 am - 11 am","11 am - 12 pm","12 pm - 01 pm","01 pm - 02 pm","02 pm - 03 pm","03 pm - 04 pm"],this.addressList=[],this.orderComplete=!1,this.loadActiveCartList=(0,M.Z)(function*(){if(localStorage.getItem("loggedIn")){const D=localStorage.getItem("customerId");try{const r=yield C.bookingService.getActiveCartService(D).toPromise();if(r){C.activeCartList=r;const{orderMeta:a,paymentTotal:s,id:_}=r;a.selectedDate=C.selectedDate?C.selectedDate:null,C.orderParamsList={orderMeta:a,paymentTotal:s,id:_}}}catch{}}}),this.getServiceDay=x=>{if(!x.target.className.includes("disabled")){this.selectedDate=new Date(this.currYear,this.currMonth,x.target.textContent);const r=document.querySelector(".days").children;for(let s=0;s<r.length;s++)r[s].className.includes(" active")&&(r[s].className=r[s].className.replace(" active",""));const{orderMeta:a}=this.orderParamsList;a.selectedDate=this.selectedDate,x.target.className=x.target.className?x.target.className.includes(" active")?x.target.className.replaceAll(" active",""):`${x.target.className} active`:" active"}},this.getServiceSlot=x=>{this.selectedSlot=x.target.innerText;const{orderMeta:D}=this.orderParamsList;D.selectedSlot=this.selectedSlot},this.navigateToUrl=x=>{this.router.navigate([x])},this.prevMonth=()=>{this.currMonth=this.currMonth-1,(this.currMonth<0||this.currMonth>11)&&(this.currYear=this.currYear-1,this.currMonth=this.currMonth<0?11:0),this.renderCalendar()},this.nextMonth=()=>{this.currMonth=this.currMonth+1,(this.currMonth<0||this.currMonth>11)&&(this.currYear=this.currYear+1,this.currMonth=this.currMonth<0?11:0),this.renderCalendar()},this.prevNextMonths=()=>{document.querySelectorAll(".icons span").forEach(D=>{D.addEventListener("click",()=>{this.currMonth="prev"===D.id?this.currMonth-1:this.currMonth+1,(this.currMonth<0||this.currMonth>11)&&(this.currYear="prev"===D.id?this.currYear-1:this.currYear+1,this.currMonth=this.currMonth<0?11:0),this.renderCalendar()})})},this.renderCalendar=()=>{this.date=new Date(this.currYear,this.currMonth,1);const x=document.querySelector(".days"),D=document.querySelector(".current-date");let r=this.date.getDay(),a=new Date(this.currYear,this.currMonth+1,0).getDate(),s=new Date(this.currYear,this.currMonth,a).getDay(),_=new Date(this.currYear,this.currMonth,0).getDate(),h="";for(let m=r;m>0;m--)h+=`<li class="inactive">${_-m+1}</li>`;for(let m=1;m<=a;m++){const v=new Date,O=v.getTime(),b=new Date(`${this.currYear}-${this.currMonth+1}-${m}`).getTime(),G=this.selectedDate?{date:new Date(this.selectedDate).getDate(),month:new Date(this.selectedDate).getMonth(),year:new Date(this.selectedDate).getFullYear()}:{date:v.getDate(),month:v.getMonth(),year:v.getFullYear()};h+=`<li class="${m===G.date&&this.currMonth===G.month&&this.currYear===G.year?"selectableday active":O>b?"inactive disabled":"selectableday"}">${m}</li>`}for(let m=s;m<6;m++)h+=`<li class="inactive">${m-s+1}</li>`;D.innerText=`${this.months[this.currMonth]} ${this.currYear}`,x.innerHTML=h},this.addressSelection=x=>{const{orderMeta:D}=this.orderParamsList;D.address=x}}ngOnInit(){this.currYear=(new Date).getFullYear(),this.currMonth=(new Date).getMonth(),this.selectedDate=new Date,this.renderCalendar(),this.loadActiveCartList()}}return(o=d).\u0275fac=function(l){return new(l||o)(e.Y36(i.F0),e.Y36(V.F),e.Y36(N.p))},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-bookings-detail"]],decls:114,vars:3,consts:[["id","ModalCheckout","role","dialog",1,"modal","fade"],[1,"modal-dialog","modal-md",2,"max-width","560px"],[1,"modal-content"],[1,"modal-login-popup-wpr"],[1,"m-header"],[1,"close-btn"],["type","button","data-dismiss","modal",1,"close"],[1,"fa","fa-close"],[1,"login-form-wpr","plr-30"],[1,"input-group-wpr"],[1,"status_icon_wpr"],["width","116","height","116","viewBox","0 0 116 116","fill","none","xmlns","http://www.w3.org/2000/svg"],["d","M95.8543 50.7494L94.0335 55.2536C93.4585 56.7869 93.4585 58.4161 94.0335 59.9494L95.8543 64.4536C96.9085 67.1369 96.046 70.2036 93.6501 71.9286L89.6251 74.7077C88.2835 75.6661 87.421 77.1036 87.0376 78.6369L86.1751 83.4286C85.6001 86.3036 83.2043 88.4119 80.3293 88.5077L75.4418 88.6994C73.8126 88.7952 72.2793 89.4661 71.1293 90.6161L67.7751 94.1619C65.7626 96.2702 62.6001 96.7494 60.1085 95.3119L55.8918 92.8202C54.4543 91.9577 52.8251 91.7661 51.196 92.1494L46.4043 93.2994C43.6251 93.9702 40.6543 92.6286 39.3126 90.0411L37.1085 85.6327C36.3418 84.1952 35.096 83.0452 33.5626 82.5661L28.9626 81.0327C26.1835 80.0744 24.4585 77.3911 24.746 74.5161L25.2251 69.6286C25.4168 67.9994 24.9376 66.3702 23.8835 65.1244L20.8168 61.2911C18.996 58.9911 18.996 55.8286 20.8168 53.5286L23.8835 49.6952C24.9376 48.4494 25.4168 46.8202 25.2251 45.1911L24.746 40.3036C24.4585 37.4286 26.1835 34.7452 28.9626 33.7869L33.5626 32.2536C35.096 31.7744 36.3418 30.6244 37.1085 29.1869L39.3126 24.7786C40.6543 22.1911 43.5293 20.8494 46.4043 21.5202L51.196 22.6702C52.7293 23.0536 54.4543 22.8619 55.8918 21.9994L60.1085 19.5077C62.6001 18.0702 65.7626 18.4536 67.7751 20.6577L71.1293 24.2036C72.2793 25.3536 73.8126 26.1202 75.4418 26.1202L80.3293 26.3119C83.2043 26.4077 85.696 28.5161 86.1751 31.3911L87.0376 36.1827C87.3251 37.8119 88.2835 39.2494 89.6251 40.1119L93.6501 42.8911C96.046 44.9994 97.0043 48.0661 95.8543 50.7494Z","fill","#00D566"],["opacity","0.15"],["d","M42.0918 89.7536L39.8876 85.3452C39.121 83.9077 37.8751 82.7577 36.3418 82.2786L31.7418 80.7452C28.9626 79.7869 27.2376 77.1036 27.5251 74.2286L28.0043 69.3411C28.196 67.7119 27.7168 66.0827 26.6626 64.8369L23.596 61.0036C21.7751 58.7036 21.7751 55.5411 23.596 53.2411L26.6626 49.4077C27.7168 48.1619 28.196 46.5327 28.0043 44.9036L27.5251 40.0161C27.2376 37.1411 28.9626 34.4577 31.7418 33.4994L36.3418 31.9661C37.8751 31.4869 39.121 30.3369 39.8876 28.8994L42.0918 24.4911C42.8585 22.9577 44.2001 21.9036 45.6376 21.4244C43.0501 21.0411 40.4626 22.3827 39.3126 24.7786L37.1085 29.1869C36.3418 30.6244 35.096 31.7744 33.5626 32.2536L28.9626 33.7869C26.1835 34.7452 24.4585 37.4286 24.746 40.3036L25.2251 45.1911C25.4168 46.8202 24.9376 48.4494 23.8835 49.6952L20.8168 53.5286C18.996 55.8286 18.996 58.9911 20.8168 61.2911L23.8835 65.1244C24.9376 66.3702 25.4168 67.9994 25.2251 69.6286L24.746 74.5161C24.4585 77.3911 26.1835 80.0744 28.9626 81.0327L33.5626 82.5661C35.096 83.0452 36.3418 84.1952 37.1085 85.6327L39.3126 90.0411C40.6543 92.6286 43.5293 93.9702 46.4043 93.2994L46.9793 93.2036C44.871 92.8202 43.0501 91.6702 42.0918 89.7536Z","fill","black"],["d","M58.5747 21.7119L62.7913 19.2202C63.1747 19.0286 63.558 18.8369 63.9413 18.7411C62.5997 18.5494 61.1622 18.8369 60.0122 19.5077L55.7955 21.9994C55.4122 22.1911 55.0288 22.3827 54.6455 22.4786C55.9872 22.6702 57.3288 22.4786 58.5747 21.7119Z","fill","black"],["d","M78.1249 88.3161C77.6457 88.3161 77.1665 88.4119 76.7832 88.5077L80.2332 88.3161C80.7124 88.3161 81.0957 88.2202 81.5749 88.1244L78.1249 88.3161Z","fill","black"],["d","M62.7922 94.9286L58.5755 92.4369C57.138 91.5744 55.5089 91.3827 53.8797 91.7661L53.3047 91.8619C54.1672 91.9577 54.9339 92.2452 55.7005 92.6286L59.9172 95.1202C61.5464 96.0786 63.3672 96.1744 65.0922 95.5994C64.3255 95.5994 63.5589 95.4077 62.7922 94.9286Z","fill","black"],["d","M42.667 51.5161L54.6462 65.2202L79.1795 45.4786","fill","#00D566"],["d","M51.7711 72.3119C50.4294 72.3119 49.0877 71.7369 48.1294 70.6827L36.1502 56.9786C34.4252 54.9661 34.6169 51.9952 36.5336 50.1744C38.5461 48.4494 41.5169 48.6411 43.3377 50.5577L52.3461 60.8119L73.3336 43.9452C75.3461 42.3161 78.4127 42.6036 80.0419 44.7119C81.6711 46.8202 81.3836 49.7911 79.2752 51.4202L54.7419 71.2577C53.8794 71.9286 52.8252 72.3119 51.7711 72.3119Z","fill","white"],[1,"label_txt"],[1,"time_status_blk"],[1,"col_time_blk"],[1,"fa","fa-calendar"],[1,"fa","fa-clock"],[1,"billing_wpr"],[1,"row"],[1,"col-md-6"],[1,"title"],[1,"address_blk"],[1,"name"],[1,"desc"],[1,"billing_amount_wpr"],[1,"row_info"],[1,"title_info"],[1,"title_val"],[1,"row_info","head"],[1,"page-section","bg_gray","top_section_padding"],[1,"container"],[1,"row","g-4"],[1,"col-md-9"],[1,"page_nav_wpr"],[1,"icon",3,"click"],[1,"fa","fa-arrow-left"],[1,"wpr","appointment_wpr"],[1,"col-md-7"],[1,"calendar_wrapper"],[1,"current-date"],[1,"icons"],["id","prev",3,"click"],[1,"fa","fa","fa-arrow-left"],["id","next",3,"click"],[1,"fa","fa-arrow-right"],[1,"calendar"],[1,"weeks"],[1,"days",3,"click"],[1,"col-md-5"],[1,"time_slot_wpr"],[4,"ngFor","ngForOf"],[3,"cartPageList","addressSelection"],["class","col-md-3",4,"ngIf"],[1,"row_slot",3,"ngClass","click"],[1,"col-md-3"],[3,"activeCartList","page","orderParams"]],template:function(l,n){1&l&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5)(6,"button",6),e._UZ(7,"i",7),e.qZA()()(),e.TgZ(8,"div",8)(9,"div",9)(10,"div",10),e.O4$(),e.TgZ(11,"svg",11),e._UZ(12,"path",12),e.TgZ(13,"g",13),e._UZ(14,"path",14)(15,"path",15)(16,"path",16)(17,"path",17),e.qZA(),e._UZ(18,"path",18)(19,"path",19),e.qZA()(),e.kcU(),e.TgZ(20,"h2"),e._uU(21," Your Comprehensive "),e._UZ(22,"br"),e._uU(23," Service is booked ! "),e.qZA(),e.TgZ(24,"label",20),e._uU(25,"Your OTP has been successfully verified. Go head and "),e._UZ(26,"br"),e._uU(27," explore all the best services at amazing prices!"),e.qZA()(),e.TgZ(28,"div",21)(29,"div",22),e._UZ(30,"i",23),e._uU(31," 02 March, 2023 "),e.qZA(),e.TgZ(32,"div",22),e._UZ(33,"i",24),e._uU(34," 10 am - 11 am "),e.qZA()(),e.TgZ(35,"div",25)(36,"div",26)(37,"div",27)(38,"div",28),e._uU(39,"Booking Address"),e.qZA(),e.TgZ(40,"div",29)(41,"div",30),e._uU(42,"Albin Joseph"),e.qZA(),e.TgZ(43,"div",31),e._uU(44," Lulu Cyber Park,Infopark Kochi "),e._UZ(45,"br"),e._uU(46," Kerala, 670803 "),e._UZ(47,"br"),e._uU(48," Mobile: +91 9048528552 "),e.qZA()()(),e.TgZ(49,"div",27)(50,"div",28),e._uU(51,"Payment Details"),e.qZA(),e.TgZ(52,"div",32)(53,"div",33)(54,"span",34),e._uU(55,"Total Price"),e.qZA(),e.TgZ(56,"span",35),e._uU(57,"\u20b94,000"),e.qZA()(),e.TgZ(58,"div",33)(59,"span",34),e._uU(60,"GST (18%)"),e.qZA(),e.TgZ(61,"span",35),e._uU(62,"\u20b94,000"),e.qZA()(),e._UZ(63,"hr"),e.TgZ(64,"div",36)(65,"span",34),e._uU(66,"Total Price"),e.qZA(),e.TgZ(67,"span",35),e._uU(68,"\u20b94,000"),e.qZA()()()()()()()()()()(),e._UZ(69,"app-header"),e.TgZ(70,"section",37)(71,"div",38)(72,"div",39)(73,"div",40)(74,"div",41)(75,"span",42),e.NdJ("click",function(){return n.navigateToUrl("bookings")}),e._UZ(76,"i",43),e.qZA(),e.TgZ(77,"span",28),e._uU(78,"Choose your pickup date & time"),e.qZA()(),e.TgZ(79,"div",44)(80,"div",26)(81,"div",45)(82,"div",46)(83,"header"),e._UZ(84,"p",47),e.TgZ(85,"div",48)(86,"span",49),e.NdJ("click",function(){return n.prevMonth()}),e._UZ(87,"i",50),e.qZA(),e.TgZ(88,"span",51),e.NdJ("click",function(){return n.nextMonth()}),e._UZ(89,"i",52),e.qZA()()(),e.TgZ(90,"div",53)(91,"ul",54)(92,"li"),e._uU(93,"Sun"),e.qZA(),e.TgZ(94,"li"),e._uU(95,"Mon"),e.qZA(),e.TgZ(96,"li"),e._uU(97,"Tue"),e.qZA(),e.TgZ(98,"li"),e._uU(99,"Wed"),e.qZA(),e.TgZ(100,"li"),e._uU(101,"Thu"),e.qZA(),e.TgZ(102,"li"),e._uU(103,"Fri"),e.qZA(),e.TgZ(104,"li"),e._uU(105,"Sat"),e.qZA()(),e.TgZ(106,"ul",55),e.NdJ("click",function(C){return n.getServiceDay(C)}),e.qZA()()()(),e.TgZ(107,"div",56)(108,"div",57),e.YNc(109,B,3,4,"span",58),e.qZA()()(),e.TgZ(110,"div",26)(111,"app-profile-address",59),e.NdJ("addressSelection",function(C){return n.addressSelection(C)}),e.qZA()()()(),e.YNc(112,Y,2,3,"div",60),e.qZA()()(),e._UZ(113,"app-footer-nav")),2&l&&(e.xp6(109),e.Q6J("ngForOf",n.slots),e.xp6(2),e.Q6J("cartPageList",!0),e.xp6(1),e.Q6J("ngIf",null==n.activeCartList?null:n.activeCartList.id))},dependencies:[P.mk,P.sg,P.O5,W.G,K.c,j.H,X.W],styles:[".show[_ngcontent-%COMP%]{display:block;opacity:1}select[_ngcontent-%COMP%]{float:left;margin-bottom:10px;border:solid 1px #D9D9D9;border-radius:6px;padding:10px;text-align:center;cursor:pointer;font-weight:600}.calendar_wrapper[_ngcontent-%COMP%]{max-width:100%}"]}),d})();var ie=Z(8391),z=Z(2021);function ce(o,d){if(1&o&&(e.TgZ(0,"span",40),e._UZ(1,"i",41),e._uU(2),e.ALo(3,"date"),e.qZA()),2&o){const t=e.oxw();e.xp6(2),e.hij(" ",e.xi3(3,1,t.orderDetailList.orderMeta.selectedDate,"dd MMMM, yyyy"),"")}}function de(o,d){if(1&o&&(e.TgZ(0,"span",40),e._UZ(1,"i",42),e._uU(2),e.qZA()),2&o){const t=e.oxw();e.xp6(2),e.hij(" ",null==t.orderDetailList||null==t.orderDetailList.orderMeta?null:t.orderDetailList.orderMeta.selectedSlot,"")}}const _e=function(o,d,t){return{pending:o,inprogress:d,completed:t}};let ge=(()=>{var o;class d{constructor(l,n,g,C){this.router=l,this.orderService=n,this.loginService=g,this.util=C,this.navigateToUrl=x=>{this.router.navigate([x])}}ngOnInit(){this.orderDetailList=sessionStorage.getItem("orderDetail")?JSON.parse(sessionStorage.getItem("orderDetail")||"{}"):{}}}return(o=d).\u0275fac=function(l){return new(l||o)(e.Y36(i.F0),e.Y36(N.p),e.Y36(ie.r),e.Y36(z.fK))},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-bookings-history-detail"]],decls:90,vars:29,consts:[[1,"page-section","bg_gray","top_section_padding"],[1,"container"],[1,"row","g-4"],[1,"col-md-3"],[1,"my_account_nav_wpr"],[1,"nav_wpr","min_ht"],[1,"row_blk",3,"click"],[1,"icon"],[1,"ti","ti-user"],[1,"title"],[1,"ti","ti-location-pin"],[1,"ti","ti-file"],[1,"nav_wpr"],[1,"ti","ti-power-off"],[1,"col-md-9"],[1,"card_wpr"],[1,"booking_wpr"],[1,"head_wpr"],[1,"go-back",3,"click"],[1,"fa","fa-arrow-left"],[1,"booking_id"],[1,"booklist_wpr"],[1,"row_book"],[1,"col_txt"],[1,"label"],[1,"title_service"],[1,"status",3,"ngClass"],[1,"label_2"],["class","col_blk",4,"ngIf"],[1,"billing_wpr","mt-25"],[1,"row","my-3","g-3"],[1,"col-md-4"],[1,"address_blk"],[1,"name"],[1,"desc"],[1,"billing_amount_wpr"],[1,"row_info"],[1,"title_info"],[1,"title_val"],[1,"row_info","head"],[1,"col_blk"],[1,"fa","fa-calendar"],[1,"fa","fa-clock"]],template:function(l,n){1&l&&(e._UZ(0,"app-header"),e.TgZ(1,"section",0)(2,"div",1)(3,"div",2)(4,"div",3)(5,"div",4)(6,"div",5)(7,"div",6),e.NdJ("click",function(){return n.navigateToUrl("profile")}),e.TgZ(8,"span",7),e._UZ(9,"i",8),e.qZA(),e.TgZ(10,"span",9),e._uU(11,"Personal Information"),e.qZA()(),e.TgZ(12,"div",6),e.NdJ("click",function(){return n.navigateToUrl("profile/profile-address")}),e.TgZ(13,"span",7),e._UZ(14,"i",10),e.qZA(),e.TgZ(15,"span",9),e._uU(16,"Address"),e.qZA()(),e.TgZ(17,"div",6),e.NdJ("click",function(){return n.navigateToUrl("bookings/history")}),e.TgZ(18,"span",7),e._UZ(19,"i",11),e.qZA(),e.TgZ(20,"span",9),e._uU(21,"Booking History"),e.qZA()()(),e.TgZ(22,"div",12)(23,"div",6),e.NdJ("click",function(){return n.loginService.logout()}),e.TgZ(24,"span",7),e._UZ(25,"i",13),e.qZA(),e.TgZ(26,"span",9),e._uU(27,"Logout"),e.qZA()()()()(),e.TgZ(28,"div",14)(29,"div",15)(30,"div",16)(31,"div",17)(32,"div",9)(33,"span",18),e.NdJ("click",function(){return n.navigateToUrl("/bookings/history")}),e._UZ(34,"i",19),e.qZA(),e._uU(35," Booking History "),e.TgZ(36,"span",20),e._uU(37),e.qZA()()(),e.TgZ(38,"div",21)(39,"div",22)(40,"div",23)(41,"div",24),e._uU(42),e.qZA(),e.TgZ(43,"div",25),e._uU(44),e.TgZ(45,"span",26),e._uU(46),e.qZA()(),e.TgZ(47,"div",27),e.YNc(48,ce,4,4,"span",28),e.YNc(49,de,3,1,"span",28),e.qZA()()()(),e.TgZ(50,"div",29)(51,"div",30)(52,"div",31)(53,"div",9),e._uU(54,"Booking Address"),e.qZA(),e.TgZ(55,"div",32)(56,"div",33),e._uU(57),e.qZA(),e.TgZ(58,"div",34),e._uU(59),e._UZ(60,"br"),e._uU(61),e._UZ(62,"br"),e._uU(63),e._UZ(64,"br"),e._uU(65),e.qZA()()(),e.TgZ(66,"div",31)(67,"div",9),e._uU(68,"Payment Details"),e.qZA(),e.TgZ(69,"div",35)(70,"div",36)(71,"span",37),e._uU(72,"Sub Total"),e.qZA(),e.TgZ(73,"span",38),e._uU(74),e.ALo(75,"currency"),e.qZA()(),e.TgZ(76,"div",36)(77,"span",37),e._uU(78,"GST (18%)"),e.qZA(),e.TgZ(79,"span",38),e._uU(80),e.ALo(81,"currency"),e.qZA()(),e._UZ(82,"hr"),e.TgZ(83,"div",39)(84,"span",37),e._uU(85,"Total Price"),e.qZA(),e.TgZ(86,"span",38),e._uU(87),e.ALo(88,"currency"),e.qZA()()()()()()()()()()()(),e._UZ(89,"app-footer-nav")),2&l&&(e.xp6(37),e.hij("Booking ID : ",n.util.getOrderId(null==n.orderDetailList?null:n.orderDetailList.id),""),e.xp6(5),e.hij(" Car Name: ",null==n.orderDetailList||null==n.orderDetailList.orderMeta||null==n.orderDetailList.orderMeta.vehicleData?null:n.orderDetailList.orderMeta.vehicleData.name," "),e.xp6(2),e.hij(" ",n.orderService.getServicesLists(null==n.orderDetailList||null==n.orderDetailList.orderMeta?null:n.orderDetailList.orderMeta.package,"+")," "),e.xp6(1),e.Q6J("ngClass",e.kEZ(25,_e,"awaiting-confirmation"===(null==n.orderDetailList?null:n.orderDetailList.status)||"rejected"===(null==n.orderDetailList?null:n.orderDetailList.status)||"approved"===(null==n.orderDetailList?null:n.orderDetailList.status)&&!(null!=n.orderDetailList&&n.orderDetailList.staffId),"approved"===(null==n.orderDetailList?null:n.orderDetailList.status)&&(null==n.orderDetailList?null:n.orderDetailList.staffId)&&!(null!=n.orderDetailList&&n.orderDetailList.paymentStatus),"approved"===(null==n.orderDetailList?null:n.orderDetailList.status)&&(null==n.orderDetailList?null:n.orderDetailList.paymentStatus))),e.xp6(1),e.Oqu("awaiting-confirmation"!==(null==n.orderDetailList?null:n.orderDetailList.status)&&"rejected"!==(null==n.orderDetailList?null:n.orderDetailList.status)&&("approved"!==(null==n.orderDetailList?null:n.orderDetailList.status)||null!=n.orderDetailList&&n.orderDetailList.staffId)?"approved"!==(null==n.orderDetailList?null:n.orderDetailList.status)||null==n.orderDetailList||!n.orderDetailList.staffId||null!=n.orderDetailList&&n.orderDetailList.paymentStatus?"approved"===(null==n.orderDetailList?null:n.orderDetailList.status)&&null!=n.orderDetailList&&n.orderDetailList.paymentStatus?"Completed":"":"Staff Assigned":"Service Booked"),e.xp6(2),e.Q6J("ngIf",null==n.orderDetailList||null==n.orderDetailList.orderMeta?null:n.orderDetailList.orderMeta.selectedDate),e.xp6(1),e.Q6J("ngIf",null==n.orderDetailList||null==n.orderDetailList.orderMeta?null:n.orderDetailList.orderMeta.selectedSlot),e.xp6(8),e.hij(" ",null==n.orderDetailList||null==n.orderDetailList.orderMeta||null==n.orderDetailList.orderMeta.address?null:n.orderDetailList.orderMeta.address.name," "),e.xp6(2),e.hij(" ",null==n.orderDetailList||null==n.orderDetailList.orderMeta||null==n.orderDetailList.orderMeta.address||null==n.orderDetailList.orderMeta.address.address?null:n.orderDetailList.orderMeta.address.address.address1," "),e.xp6(2),e.hij(" ",null==n.orderDetailList||null==n.orderDetailList.orderMeta||null==n.orderDetailList.orderMeta.address||null==n.orderDetailList.orderMeta.address.address?null:n.orderDetailList.orderMeta.address.address.landmark," "),e.xp6(2),e.AsE(" ",null==n.orderDetailList||null==n.orderDetailList.orderMeta||null==n.orderDetailList.orderMeta.address||null==n.orderDetailList.orderMeta.address.address?null:n.orderDetailList.orderMeta.address.address.city,", ",null==n.orderDetailList||null==n.orderDetailList.orderMeta||null==n.orderDetailList.orderMeta.address||null==n.orderDetailList.orderMeta.address.address?null:n.orderDetailList.orderMeta.address.address.state," "),e.xp6(2),e.hij(" Mobile: +91-",null==n.orderDetailList||null==n.orderDetailList.orderMeta||null==n.orderDetailList.orderMeta.address||null==n.orderDetailList.orderMeta.address.address?null:n.orderDetailList.orderMeta.address.address.number," "),e.xp6(9),e.Oqu(e.xi3(75,16,null==n.orderDetailList||null==n.orderDetailList.orderMeta?null:n.orderDetailList.orderMeta.totalAmount,"INR")),e.xp6(6),e.Oqu(e.xi3(81,19,null==n.orderDetailList||null==n.orderDetailList.orderMeta?null:n.orderDetailList.orderMeta.gstAmount,"INR")),e.xp6(7),e.Oqu(e.xi3(88,22,null==n.orderDetailList?null:n.orderDetailList.paymentTotal,"INR")))},dependencies:[P.mk,P.O5,W.G,K.c,P.H9,P.uU],styles:[".go-back[_ngcontent-%COMP%]{padding:5px 10px;cursor:pointer}"]}),d})();var Q=Z(6223);function pe(o,d){if(1&o&&(e.TgZ(0,"span",31),e._UZ(1,"i",37),e._uU(2),e.ALo(3,"date"),e.qZA()),2&o){const t=e.oxw(2).$implicit;e.xp6(2),e.hij(" ",e.xi3(3,1,t.orderMeta.selectedDate,"dd MMMM, yyyy"),"")}}function ue(o,d){if(1&o&&(e.TgZ(0,"span",31),e._UZ(1,"i",38),e._uU(2),e.qZA()),2&o){const t=e.oxw(2).$implicit;e.xp6(2),e.hij(" ",t.orderMeta.selectedSlot,"")}}const he=function(o,d,t){return{pending:o,inprogress:d,completed:t}};function f(o,d){if(1&o){const t=e.EpF();e.ynx(0),e.TgZ(1,"div",27)(2,"div",28)(3,"div",29),e._uU(4),e.qZA(),e.TgZ(5,"div",30)(6,"div",31),e._uU(7),e.qZA(),e._UZ(8,"br"),e._uU(9),e.TgZ(10,"span",32),e._uU(11),e.qZA()(),e.TgZ(12,"div",33),e.YNc(13,pe,4,4,"span",34),e.YNc(14,ue,3,1,"span",34),e.qZA()(),e.TgZ(15,"div",35)(16,"div",36),e.NdJ("click",function(){e.CHM(t);const n=e.oxw().$implicit,g=e.oxw();return e.KtG(g.bookingDetailList(n))}),e._uU(17," View Detail "),e.qZA()()(),e.BQk()}if(2&o){const t=e.oxw().$implicit,l=e.oxw();e.xp6(4),e.hij(" Booking ID : ",l.util.getOrderId(null==t?null:t.id)," "),e.xp6(3),e.hij(" Car Name: ",null==t||null==t.orderMeta||null==t.orderMeta.vehicleData?null:t.orderMeta.vehicleData.name," "),e.xp6(2),e.hij(" ",l.orderService.getServicesLists(t.orderMeta.package,"+")," "),e.xp6(1),e.Q6J("ngClass",e.kEZ(7,he,"awaiting-confirmation"===(null==t?null:t.status)||"rejected"===(null==t?null:t.status)||"approved"===(null==t?null:t.status)&&!(null!=t&&t.staffId),"approved"===(null==t?null:t.status)&&(null==t?null:t.staffId)&&!(null!=t&&t.paymentStatus),"approved"===(null==t?null:t.status)&&(null==t?null:t.paymentStatus))),e.xp6(1),e.Oqu("awaiting-confirmation"!==(null==t?null:t.status)&&"rejected"!==(null==t?null:t.status)&&("approved"!==(null==t?null:t.status)||null!=t&&t.staffId)?"approved"!==(null==t?null:t.status)||null==t||!t.staffId||null!=t&&t.paymentStatus?"approved"===(null==t?null:t.status)&&null!=t&&t.paymentStatus?"Completed":"":"Staff Assigned":"Service Booked"),e.xp6(2),e.Q6J("ngIf",null==t||null==t.orderMeta?null:t.orderMeta.selectedDate),e.xp6(1),e.Q6J("ngIf",null==t||null==t.orderMeta?null:t.orderMeta.selectedSlot)}}function q(o,d){if(1&o&&(e.ynx(0),e.YNc(1,f,18,11,"ng-container",26),e.BQk()),2&o){const t=d.index,l=e.oxw();e.xp6(1),e.Q6J("ngIf",t<5*l.count)}}function c(o,d){if(1&o){const t=e.EpF();e.TgZ(0,"div",39),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.loadMoreList())}),e.TgZ(1,"span",40),e._uU(2,"Load More"),e.qZA()()}}let A=(()=>{var o;class d{constructor(l,n,g,C){var x=this;this.router=l,this.orderService=n,this.loginService=g,this.util=C,this.orderList=[],this.orderSortList=[],this.count=1,this.sortData="recent",this.sortBookingList=()=>{if("car_name"===this.sortData)return this.orderList=[],void(this.orderList=this.orderSortList.sort((D,r)=>{const a=D.orderMeta?.vehicleData?.name?D.orderMeta.vehicleData.name:"",s=r.orderMeta?.vehicleData?.name?r.orderMeta.vehicleData.name:"";return a<s?-1:a>s?1:0}));"recent"===this.sortData&&(this.orderList=this.orderSortList)},this.navigateToUrl=D=>{this.router.navigate([D])},this.loadOrderServiceList=(0,M.Z)(function*(){const D=localStorage.getItem("customerId");try{const r=yield x.orderService.getAllOrderDetails(D).toPromise();r?.length&&(x.orderList=r,x.orderSortList=r)}catch{}}),this.bookingDetailList=D=>{sessionStorage.setItem("orderDetail",JSON.stringify(D)),this.navigateToUrl("bookings/history-details")},this.loadMoreList=()=>{this.count++}}ngOnInit(){this.loadOrderServiceList()}}return(o=d).\u0275fac=function(l){return new(l||o)(e.Y36(i.F0),e.Y36(N.p),e.Y36(ie.r),e.Y36(z.fK))},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-bookings-history"]],decls:47,vars:6,consts:[[1,"page-section","bg_gray","top_section_padding"],[1,"container"],[1,"row","g-4"],[1,"col-md-3"],[1,"my_account_nav_wpr"],[1,"nav_wpr","min_ht"],[1,"row_blk",3,"click"],[1,"icon"],[1,"ti","ti-user"],[1,"title"],[1,"ti","ti-location-pin"],[1,"row_blk","active"],[1,"ti","ti-file"],[1,"nav_wpr"],[1,"ti","ti-power-off"],[1,"col-md-9"],[1,"card_wpr"],[1,"booking_wpr"],[1,"head_wpr"],[1,"sort"],[1,"sel_sort",3,"ngModel","ngModelChange","change"],["value","recent"],["value","car_name"],[1,"booklist_wpr"],[4,"ngFor","ngForOf"],["class","btn_loadmore_wpr",3,"click",4,"ngIf"],[4,"ngIf"],[1,"row_book"],[1,"col_txt"],[1,"label"],[1,"title_service"],[1,"col_blk"],[1,"status",3,"ngClass"],[1,"label_2"],["class","col_blk",4,"ngIf"],[1,"col_action"],[1,"btn_action",3,"click"],[1,"fa","fa-calendar"],[1,"fa","fa-clock"],[1,"btn_loadmore_wpr",3,"click"],[1,"btn_loadmore"]],template:function(l,n){1&l&&(e._UZ(0,"app-header"),e.TgZ(1,"section",0)(2,"div",1)(3,"div",2)(4,"div",3)(5,"div",4)(6,"div",5)(7,"div",6),e.NdJ("click",function(){return n.navigateToUrl("profile")}),e.TgZ(8,"span",7),e._UZ(9,"i",8),e.qZA(),e.TgZ(10,"span",9),e._uU(11,"Personal Information"),e.qZA()(),e.TgZ(12,"div",6),e.NdJ("click",function(){return n.navigateToUrl("profile/profile-address")}),e.TgZ(13,"span",7),e._UZ(14,"i",10),e.qZA(),e.TgZ(15,"span",9),e._uU(16,"Address"),e.qZA()(),e.TgZ(17,"div",11)(18,"span",7),e._UZ(19,"i",12),e.qZA(),e.TgZ(20,"span",9),e._uU(21,"Booking History"),e.qZA()()(),e.TgZ(22,"div",13)(23,"div",6),e.NdJ("click",function(){return n.loginService.logout()}),e.TgZ(24,"span",7),e._UZ(25,"i",14),e.qZA(),e.TgZ(26,"span",9),e._uU(27,"Logout"),e.qZA()()()()(),e.TgZ(28,"div",15)(29,"div",16)(30,"div",17)(31,"div",18)(32,"div",9),e._uU(33,"Booking History"),e.qZA(),e.TgZ(34,"div",19)(35,"label"),e._uU(36,"Sort by: "),e.qZA(),e.TgZ(37,"select",20),e.NdJ("ngModelChange",function(C){return n.sortData=C})("change",function(){return n.sortBookingList()}),e.TgZ(38,"option",21),e._uU(39,"Recent"),e.qZA(),e.TgZ(40,"option",22),e._uU(41,"Car Name"),e.qZA()()()(),e.TgZ(42,"div",23),e.YNc(43,q,2,1,"ng-container",24),e.ALo(44,"reverse"),e.qZA(),e.YNc(45,c,3,0,"div",25),e.qZA()()()()()(),e._UZ(46,"app-footer-nav")),2&l&&(e.xp6(37),e.Q6J("ngModel",n.sortData),e.xp6(6),e.Q6J("ngForOf",e.xi3(44,3,n.orderList,"recent"===n.sortData?"id":"")),e.xp6(2),e.Q6J("ngIf",n.orderList&&n.orderList.length>5*n.count))},dependencies:[P.mk,P.sg,P.O5,W.G,K.c,Q.YN,Q.Kr,Q.EJ,Q.JJ,Q.On,P.uU,z.B5],styles:[".row_book[_ngcontent-%COMP%]{cursor:pointer}"]}),d})();var T=Z(2425),E=Z(6472);function oe(o,d){if(1&o&&(e.TgZ(0,"div",105),e._uU(1),e.qZA()),2&o){const t=e.oxw();e.xp6(1),e.hij(" Showing ",t.filteredPackageList&&t.filteredPackageList.length?t.filteredPackageList.length:""," plans for ")}}function me(o,d){if(1&o){const t=e.EpF();e.TgZ(0,"div",106),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return n.showDropdown=0,e.KtG(n.showDropdownInner=!1)}),e.qZA()}}function ve(o,d){if(1&o){const t=e.EpF();e.TgZ(0,"div",108),e.NdJ("click",function(){e.CHM(t);const n=e.oxw().$implicit,g=e.oxw();return e.KtG(g.showFuelTypeDropdown(n))}),e.TgZ(1,"span",28),e._UZ(2,"img",109),e.qZA(),e.TgZ(3,"span",30),e._uU(4),e.qZA()()}if(2&o){const t=e.oxw().$implicit;e.xp6(2),e.Q6J("src",null==t?null:t.sizedPhoto,e.LSH),e.xp6(2),e.AsE("",null==t||null==t.brand?null:t.brand.name," ",null==t?null:t.name,"")}}function p(o,d){if(1&o&&(e.ynx(0),e.YNc(1,ve,5,3,"div",107),e.BQk()),2&o){const t=d.index;e.xp6(1),e.Q6J("ngIf",t<5)}}function u(o,d){if(1&o){const t=e.EpF();e.ynx(0),e.TgZ(1,"div",110),e.NdJ("click",function(){const g=e.CHM(t).$implicit,C=e.oxw();return e.KtG(C.selectModel(C.car,g))}),e.TgZ(2,"span",111),e._UZ(3,"img",29),e.qZA(),e.TgZ(4,"span",30),e._uU(5),e.qZA()(),e.BQk()}if(2&o){const t=d.$implicit,l=e.oxw();e.xp6(3),e.Q6J("src",l.getFuelImage(t),e.LSH),e.xp6(2),e.Oqu(t)}}function k(o,d){if(1&o){const t=e.EpF();e.TgZ(0,"div",106),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.showDropdown=0)}),e.qZA()}}function w(o,d){if(1&o){const t=e.EpF();e.TgZ(0,"div",108),e.NdJ("click",function(){const g=e.CHM(t).$implicit,C=e.oxw();return e.KtG(C.selectService(g))}),e.TgZ(1,"span",28),e._UZ(2,"img",112),e.qZA(),e.TgZ(3,"span",30),e._uU(4),e.qZA()()}if(2&o){const t=d.$implicit;e.xp6(2),e.Q6J("src",null==t?null:t.logoUrl,e.LSH),e.xp6(2),e.Oqu(t.name)}}function U(o,d){if(1&o&&(e.TgZ(0,"div",135)(1,"span",136),e._UZ(2,"img",137),e.qZA(),e.TgZ(3,"span",30),e._uU(4),e.qZA()()),2&o){const t=e.oxw(2).$implicit;e.xp6(4),e.hij("Take ",null==t?null:t.turnAroundTime,"")}}function ee(o,d){if(1&o&&(e.TgZ(0,"div",135)(1,"span",136),e._UZ(2,"img",138),e.qZA(),e.TgZ(3,"span",30),e._uU(4),e.qZA()()),2&o){const t=e.oxw(2).$implicit;e.xp6(4),e.hij("",null==t?null:t.warrantyPeriod," Warranty")}}function re(o,d){if(1&o&&(e.TgZ(0,"div",135)(1,"span",136),e._UZ(2,"img",139),e.qZA(),e.TgZ(3,"span",30),e._uU(4),e.qZA()()),2&o){const t=e.oxw(2).$implicit;e.xp6(4),e.hij("Every ",null==t?null:t.whenToGetItDone,"")}}function Pe(o,d){if(1&o){const t=e.EpF();e.TgZ(0,"a",140),e.NdJ("click",function(){e.CHM(t);const n=e.oxw(2).$implicit,g=e.oxw(4);return e.KtG(g.showWholeDesc(n))}),e._uU(1,"View more"),e.qZA()}}function fe(o,d){if(1&o){const t=e.EpF();e.TgZ(0,"a",140),e.NdJ("click",function(){e.CHM(t);const n=e.oxw(2).$implicit,g=e.oxw(4);return e.KtG(g.showLess(n))}),e._uU(1,"Show less"),e.qZA()}}function ke(o,d){if(1&o){const t=e.EpF();e.TgZ(0,"a",141),e.NdJ("click",function(){e.CHM(t);const n=e.oxw(6);return n.utilService.showModelSelectModal=!0,e.KtG(n.utilService.showLoginModal=!0)}),e._UZ(1,"i",142),e._uU(2,"Unlock Best prices"),e.qZA()}}function $(o,d){if(1&o&&(e.TgZ(0,"div",143)(1,"span")(2,"span")(3,"span",147),e._uU(4),e.qZA()()(),e.TgZ(5,"span",148),e._uU(6),e.qZA()()),2&o){const t=e.oxw(3).$implicit,l=e.oxw(4);e.xp6(4),e.hij("\u20b9",null==t?null:t.price,""),e.xp6(2),e.Oqu(l.calculatePercentage(t))}}function ae(o,d){if(1&o&&(e.ynx(0),e.TgZ(1,"div",143)(2,"span")(3,"span")(4,"span",144),e._uU(5),e.qZA()()(),e.TgZ(6,"span",145),e._uU(7,"+GST"),e.qZA()(),e.YNc(8,$,7,2,"div",146),e.BQk()),2&o){const t=e.oxw(2).$implicit;e.xp6(5),e.hij("\u20b9",null!=t&&t.slashedPrice?null==t?null:t.slashedPrice:null==t?null:t.price,""),e.xp6(3),e.Q6J("ngIf",null==t?null:t.slashedPrice)}}function Ze(o,d){if(1&o){const t=e.EpF();e.TgZ(0,"div",150),e.NdJ("click",function(){e.CHM(t);const n=e.oxw(3).$implicit,g=e.oxw(4);return e.KtG(g.removeServiceFromCart(n))}),e.TgZ(1,"div",151),e._uU(2," Remove Service "),e.qZA()()}}function Ce(o,d){if(1&o){const t=e.EpF();e.TgZ(0,"div",150),e.NdJ("click",function(){e.CHM(t);const n=e.oxw(3).$implicit,g=e.oxw(4);return e.KtG(g.replaceServiceFromCart(n,"denting"))}),e.TgZ(1,"div",71),e._uU(2," Replace Service "),e.qZA()()}}function Te(o,d){if(1&o){const t=e.EpF();e.TgZ(0,"div",150),e.NdJ("click",function(){e.CHM(t);const n=e.oxw(3).$implicit,g=e.oxw(4);return e.KtG(g.serviceAddToCart(n,g.getPackageWorksTypes(null==n?null:n.typeOfWorkId,"typedata")))}),e.TgZ(1,"div",71),e._uU(2,"Add Service"),e.qZA()()}}function we(o,d){if(1&o&&(e.ynx(0),e.YNc(1,Ze,3,0,"div",149),e.YNc(2,Ce,3,0,"div",149),e.YNc(3,Te,3,0,"div",149),e.BQk()),2&o){const t=e.oxw(2).$implicit,l=e.oxw(4);e.xp6(1),e.Q6J("ngIf",1===l.addOrRemoveServiceButton(t,"denting")),e.xp6(1),e.Q6J("ngIf",2===l.addOrRemoveServiceButton(t,"denting")),e.xp6(1),e.Q6J("ngIf",3===l.addOrRemoveServiceButton(t,"denting"))}}const te=function(o){return{"full-description":o}};function ye(o,d){if(1&o&&(e.TgZ(0,"div",122)(1,"div",3)(2,"div",8)(3,"div",40)(4,"span",123),e._UZ(5,"img",124),e.qZA(),e.TgZ(6,"span",125)(7,"h2",126),e._uU(8),e.qZA(),e.TgZ(9,"label",127),e._uU(10),e.qZA()()(),e.TgZ(11,"div",128),e.YNc(12,U,5,1,"div",129),e.YNc(13,ee,5,1,"div",129),e.YNc(14,re,5,1,"div",129),e.qZA(),e._UZ(15,"div",130),e.YNc(16,Pe,2,0,"a",131),e.YNc(17,fe,2,0,"a",131),e.qZA(),e.TgZ(18,"div",5)(19,"div",132)(20,"div",133),e.YNc(21,ke,3,0,"a",134),e.YNc(22,ae,9,2,"ng-container",55),e.qZA(),e.YNc(23,we,4,3,"ng-container",55),e.qZA()()()()),2&o){const t=e.oxw().$implicit,l=e.oxw(4);e.xp6(5),e.Q6J("src",l.getPackageWorksTypes(null==t?null:t.typeOfWorkId,"logoUrl"),e.LSH),e.xp6(3),e.hij(" ",l.getPackageWorksTypes(null==t?null:t.typeOfWorkId,"name")," "),e.xp6(2),e.Oqu(null==t?null:t.desc),e.xp6(2),e.Q6J("ngIf",null==t?null:t.turnAroundTime),e.xp6(1),e.Q6J("ngIf",(null==t?null:t.warrantyPeriod)&&"0"!=(null==t?null:t.warrantyPeriod)),e.xp6(1),e.Q6J("ngIf",(null==t?null:t.whenToGetItDone)&&"0"!=(null==t?null:t.whenToGetItDone)),e.xp6(1),e.Q6J("ngClass",e.VKq(13,te,1==(null==t?null:t.viewMore)))("innerHTML",l.getPackageWorksTypes(null==t?null:t.typeOfWorkId,"description"),e.oJD),e.xp6(1),e.Q6J("ngIf",!0!==(null==t?null:t.viewMore)),e.xp6(1),e.Q6J("ngIf",!0===(null==t?null:t.viewMore)),e.xp6(4),e.Q6J("ngIf",!l.headerService.showAuthWpr),e.xp6(1),e.Q6J("ngIf",l.headerService.showAuthWpr),e.xp6(1),e.Q6J("ngIf",l.headerService.showAuthWpr)}}function Se(o,d){if(1&o&&(e.ynx(0),e.YNc(1,ye,24,15,"div",121),e.BQk()),2&o){const t=d.$implicit,l=e.oxw(4);e.xp6(1),e.Q6J("ngIf",l.getPackageWorksTypes(null==t?null:t.typeOfWorkId,"length"))}}function Ae(o,d){if(1&o&&(e.ynx(0),e.TgZ(1,"div"),e.YNc(2,Se,2,1,"ng-container",24),e.qZA(),e.BQk()),2&o){const t=e.oxw().$implicit;e.xp6(2),e.Q6J("ngForOf",null==t?null:t.selectedPanelWorkList)}}const le=function(o){return{active:o}};function xe(o,d){if(1&o){const t=e.EpF();e.ynx(0),e.TgZ(1,"div",114)(2,"div",115)(3,"div",116),e.NdJ("click",function(){const g=e.CHM(t).$implicit,C=e.oxw(2);return e.KtG(C.selectPanel(g))}),e.TgZ(4,"span",117),e._UZ(5,"img",12),e.qZA(),e.TgZ(6,"span",118)(7,"h2",119),e._uU(8),e.qZA()(),e._UZ(9,"div",120),e.qZA(),e.YNc(10,Ae,3,1,"ng-container",55),e.qZA()(),e.BQk()}if(2&o){const t=d.$implicit;e.xp6(5),e.s9C("src",null==t||null==t.carPanel?null:t.carPanel.sizedPhoto,e.LSH),e.xp6(3),e.Oqu(null==t||null==t.carPanel?null:t.carPanel.name),e.xp6(1),e.Q6J("ngClass",e.VKq(4,le,null==t?null:t.clicked)),e.xp6(1),e.Q6J("ngIf",null==t?null:t.clicked)}}function be(o,d){if(1&o&&(e.ynx(0),e.TgZ(1,"div",113)(2,"div",3),e.YNc(3,xe,11,6,"ng-container",24),e.qZA()(),e.BQk()),2&o){const t=e.oxw();e.xp6(3),e.Q6J("ngForOf",t.selectedPanelList)}}function Ie(o,d){if(1&o&&(e.TgZ(0,"div",135)(1,"span",136),e._UZ(2,"img",137),e.qZA(),e.TgZ(3,"span",30),e._uU(4),e.qZA()()),2&o){const t=e.oxw().$implicit;e.xp6(4),e.hij("Take ",null==t?null:t.turnAroundTime,"")}}function Ue(o,d){if(1&o&&(e.TgZ(0,"div",135)(1,"span",136),e._UZ(2,"img",138),e.qZA(),e.TgZ(3,"span",30),e._uU(4),e.qZA()()),2&o){const t=e.oxw().$implicit;e.xp6(4),e.hij("",null==t?null:t.warrantyPeriod," Warranty")}}function De(o,d){if(1&o&&(e.TgZ(0,"div",135)(1,"span",136),e._UZ(2,"img",139),e.qZA(),e.TgZ(3,"span",30),e._uU(4),e.qZA()()),2&o){const t=e.oxw().$implicit;e.xp6(4),e.hij("Every ",null==t?null:t.whenToGetItDone,"")}}function Oe(o,d){if(1&o){const t=e.EpF();e.TgZ(0,"a",140),e.NdJ("click",function(){e.CHM(t);const n=e.oxw().$implicit,g=e.oxw(2);return e.KtG(g.showWholeDesc(n))}),e._uU(1,"View more"),e.qZA()}}function qe(o,d){if(1&o){const t=e.EpF();e.TgZ(0,"a",140),e.NdJ("click",function(){e.CHM(t);const n=e.oxw().$implicit,g=e.oxw(2);return e.KtG(g.showLess(n))}),e._uU(1,"Show less"),e.qZA()}}function Be(o,d){if(1&o){const t=e.EpF();e.TgZ(0,"a",141),e.NdJ("click",function(){e.CHM(t);const n=e.oxw(3);return n.utilService.showModelSelectModal=!0,e.KtG(n.utilService.showLoginModal=!0)}),e._UZ(1,"i",142),e._uU(2,"Unlock Best prices"),e.qZA()}}function Ne(o,d){if(1&o&&(e.ynx(0),e.TgZ(1,"span",148),e._uU(2),e.qZA(),e.BQk()),2&o){const t=e.oxw().$implicit,l=e.oxw(7);e.xp6(2),e.Oqu(l.calculatePercentage(t))}}function Je(o,d){if(1&o&&(e.ynx(0),e.YNc(1,Ne,3,1,"ng-container",55),e.BQk()),2&o){const t=d.$implicit,l=e.oxw(5).$implicit;e.xp6(1),e.Q6J("ngIf",(null==t?null:t.packageId)==(null==l?null:l.id))}}function Qe(o,d){if(1&o&&(e.TgZ(0,"div",143)(1,"span")(2,"span")(3,"span",147),e._uU(4),e.qZA()()(),e.YNc(5,Je,2,1,"ng-container",24),e.qZA()),2&o){const t=e.oxw(2).$implicit,l=e.oxw(4);e.xp6(4),e.hij("\u20b9",null==t?null:t.price,""),e.xp6(1),e.Q6J("ngForOf",l.selectedPackagePriceList)}}function Fe(o,d){if(1&o&&(e.ynx(0),e.TgZ(1,"div",143)(2,"span")(3,"span")(4,"span",144),e._uU(5),e.qZA()()(),e.TgZ(6,"span",145),e._uU(7,"+GST"),e.qZA()(),e.YNc(8,Qe,6,2,"div",146),e.BQk()),2&o){const t=e.oxw().$implicit;e.xp6(5),e.hij("\u20b9",null!=t&&t.slashedPrice?null==t?null:t.slashedPrice:null==t?null:t.price,""),e.xp6(3),e.Q6J("ngIf",null==t?null:t.slashedPrice)}}function Ye(o,d){if(1&o&&(e.ynx(0),e.YNc(1,Fe,9,2,"ng-container",55),e.BQk()),2&o){const t=d.$implicit,l=e.oxw(2).$implicit;e.xp6(1),e.Q6J("ngIf",(null==t?null:t.packageId)==(null==l?null:l.id))}}function Ee(o,d){if(1&o&&(e.ynx(0),e.YNc(1,Ye,2,1,"ng-container",24),e.BQk()),2&o){const t=e.oxw(3);e.xp6(1),e.Q6J("ngForOf",t.selectedPackagePriceList)}}function $e(o,d){if(1&o){const t=e.EpF();e.TgZ(0,"div",150),e.NdJ("click",function(){e.CHM(t);const n=e.oxw(2).$implicit,g=e.oxw(2);return e.KtG(g.removeServiceFromCart(n))}),e.TgZ(1,"div",151),e._uU(2,"Remove Service"),e.qZA()()}}function He(o,d){if(1&o){const t=e.EpF();e.TgZ(0,"div",150),e.NdJ("click",function(){e.CHM(t);const n=e.oxw(2).$implicit,g=e.oxw(2);return e.KtG(g.replaceServiceFromCart(n,"normal"))}),e.TgZ(1,"div",151),e._uU(2,"Replace Service"),e.qZA()()}}function We(o,d){if(1&o){const t=e.EpF();e.TgZ(0,"div",150),e.NdJ("click",function(){e.CHM(t);const n=e.oxw(2).$implicit,g=e.oxw(2);return e.KtG(g.serviceAddToCart(n))}),e.TgZ(1,"div",71),e._uU(2,"Add Service"),e.qZA()()}}function je(o,d){if(1&o&&(e.ynx(0),e.YNc(1,$e,3,0,"div",149),e.YNc(2,He,3,0,"div",149),e.YNc(3,We,3,0,"div",149),e.BQk()),2&o){const t=e.oxw().$implicit,l=e.oxw(2);e.xp6(1),e.Q6J("ngIf",1===l.addOrRemoveServiceButton(t,"normal")),e.xp6(1),e.Q6J("ngIf",2===l.addOrRemoveServiceButton(t,"normal")),e.xp6(1),e.Q6J("ngIf",3===l.addOrRemoveServiceButton(t,"normal"))}}function Ge(o,d){if(1&o&&(e.ynx(0),e.TgZ(1,"div",113)(2,"div",3)(3,"div",8)(4,"div",40)(5,"span",28),e._UZ(6,"img",12),e.qZA(),e.TgZ(7,"span",118)(8,"h2",119),e._uU(9),e.qZA(),e.TgZ(10,"label",127),e._uU(11),e.qZA()()(),e.TgZ(12,"div",128),e.YNc(13,Ie,5,1,"div",129),e.YNc(14,Ue,5,1,"div",129),e.YNc(15,De,5,1,"div",129),e.qZA(),e._UZ(16,"div",130),e.YNc(17,Oe,2,0,"a",131),e.YNc(18,qe,2,0,"a",131),e.qZA(),e.TgZ(19,"div",5)(20,"div",132)(21,"div",133),e.YNc(22,Be,3,0,"a",134),e.YNc(23,Ee,2,1,"ng-container",55),e.qZA(),e.YNc(24,je,4,3,"ng-container",55),e.qZA()()()(),e.BQk()),2&o){const t=d.$implicit,l=e.oxw(2);e.xp6(6),e.Q6J("src",l.selectedService.logoUrl?l.selectedService.logoUrl:"assets/images/services/1.png",e.LSH),e.xp6(3),e.Oqu(null==t?null:t.name),e.xp6(2),e.Oqu(null==t?null:t.desc),e.xp6(2),e.Q6J("ngIf",(null==t?null:t.turnAroundTime)&&"0"!==(null==t?null:t.turnAroundTime)),e.xp6(1),e.Q6J("ngIf",(null==t?null:t.warrantyPeriod)&&"0"!==(null==t?null:t.warrantyPeriod)),e.xp6(1),e.Q6J("ngIf",(null==t?null:t.whenToGetItDone)&&"0"!==(null==t?null:t.whenToGetItDone)),e.xp6(1),e.Q6J("ngClass",e.VKq(13,te,1==(null==t?null:t.viewMore)))("innerHTML",null==t?null:t.packageMetaData,e.oJD),e.xp6(1),e.Q6J("ngIf",!0!==(null==t?null:t.viewMore)),e.xp6(1),e.Q6J("ngIf",!0===(null==t?null:t.viewMore)),e.xp6(4),e.Q6J("ngIf",!l.headerService.showAuthWpr),e.xp6(1),e.Q6J("ngIf",l.headerService.showAuthWpr),e.xp6(1),e.Q6J("ngIf",l.headerService.showAuthWpr)}}const Ke=function(o,d){return{id:"package_pagination",itemsPerPage:o,currentPage:d}};function ze(o,d){if(1&o&&(e.ynx(0),e.YNc(1,Ge,25,15,"ng-container",24),e.ALo(2,"paginate"),e.BQk()),2&o){const t=e.oxw();e.xp6(1),e.Q6J("ngForOf",e.xi3(2,1,t.filteredPackageList,e.WLB(4,Ke,t.itemsPerpage,t.page)))}}function Re(o,d){if(1&o&&(e.ynx(0),e.TgZ(1,"div",152)(2,"span",153),e._uU(3),e.qZA()(),e.BQk()),2&o){const t=e.oxw();e.xp6(3),e.hij(" ",t.noDataFound," ")}}function Ve(o,d){if(1&o){const t=e.EpF();e.TgZ(0,"div",154)(1,"pagination-controls",155),e.NdJ("pageChange",function(n){e.CHM(t);const g=e.oxw();return e.KtG(g.page=n)}),e.qZA()()}2&o&&(e.xp6(1),e.Q6J("maxSize",5))}function Xe(o,d){if(1&o){const t=e.EpF();e.TgZ(0,"div",5)(1,"app-selected-packages",156),e.NdJ("buttonClicked",function(n){e.CHM(t);const g=e.oxw();return e.KtG(g.onButtonClicked(n))}),e.qZA()()}if(2&o){const t=e.oxw();e.xp6(1),e.Q6J("activeCartList",t.activeCartList)("page","booking")("orderParams",null)}}function et(o,d){1&o&&(e.TgZ(0,"div",159),e._UZ(1,"div"),e.TgZ(2,"span",160),e._uU(3,"RECOMMENDED"),e.qZA(),e._UZ(4,"div",161),e.qZA())}function tt(o,d){if(1&o){const t=e.EpF();e.ynx(0),e.TgZ(1,"div",157),e.NdJ("click",function(){const g=e.CHM(t).$implicit,C=e.oxw();return e.KtG(C.addonSelect(g))}),e.YNc(2,et,5,0,"div",158),e.TgZ(3,"div",3)(4,"div",8)(5,"div",40)(6,"span",28),e._UZ(7,"img",12),e.qZA(),e.TgZ(8,"span",118)(9,"h2",119),e._uU(10),e.qZA(),e.TgZ(11,"label",127),e._uU(12),e.qZA()()()(),e.TgZ(13,"div",5)(14,"div",132)(15,"div",133)(16,"div",143)(17,"span")(18,"span",144),e._uU(19),e.qZA()(),e.TgZ(20,"span",145),e._uU(21,"+GST"),e.qZA()(),e.TgZ(22,"div",143)(23,"span")(24,"span",147),e._uU(25),e.qZA()(),e.TgZ(26,"span",148),e._uU(27),e.qZA()()()()()()(),e.BQk()}if(2&o){const t=d.$implicit,l=e.oxw();e.xp6(1),e.Q6J("ngClass",e.VKq(8,le,t.selected)),e.xp6(1),e.Q6J("ngIf",null==t||null==t.gradeList?null:t.gradeList.recommended),e.xp6(5),e.Q6J("src",null!=t&&null!=t.gradeList&&t.gradeList.photoUrl?t.gradeList.photoUrl:"assets/images/services/1.png",e.LSH),e.xp6(3),e.hij(" ",null==t||null==t.gradeList?null:t.gradeList.oilName," "),e.xp6(2),e.Oqu(null==t||null==t.gradeList?null:t.gradeList.description),e.xp6(7),e.hij("\u20b9",null==t?null:t.slashedPrice,""),e.xp6(6),e.hij("\u20b9",null==t?null:t.price,""),e.xp6(2),e.Oqu(l.calculatePercentage(t))}}function nt(o,d){if(1&o&&(e.ynx(0),e._uU(1),e.BQk()),2&o){const t=e.oxw();e.xp6(1),e.Oqu(t.selectedPackageList.slashedPrice+(null==t.selectedPackageList.addons?null:t.selectedPackageList.addons.slashedPrice))}}function it(o,d){if(1&o&&(e.ynx(0),e._uU(1),e.BQk()),2&o){const t=e.oxw();e.xp6(1),e.Oqu(null!=t.selectedPackageList&&t.selectedPackageList.slashedPrice?t.selectedPackageList.slashedPrice:0)}}const Le=function(o,d){return{show:o,"zIndex-2000":d}},ot=function(o,d){return{show:o,"zIndex-2001":d}},rt=[{path:"",component:(()=>{var o;class d{constructor(l,n,g,C,x,D){var r=this;this.router=l,this.bookingService=n,this.orderService=g,this.utilService=C,this.headerService=x,this.toastr=D,this.servicesList=[],this.servicesListFiltered=[],this.packagePrice=[],this.selectedPackagePriceList=[],this.filteredPackageList=[],this.showDropdown=0,this.selectedService={name:"Select Service",logoUrl:"assets/images/services/1.png"},this.modelSearchTerm="",this.carsFiltered=[],this.modelsList=[],this.service=[],this.selectedPanelList=[],this.addOnList=[],this.filteredAddonList=[],this.serviceSearchTerm="",this.typeOfWorkList=[],this.showModal=!1,this.gradeList=[],this.selectedPackageList={addons:null},this.noDataFound="",this.packageList=[],this.showDropdownInner=!1,this.clicked=!1,this.showOrderSuccessModal=!1,this.page=1,this.itemsPerpage=5,this.searchPackageList=()=>{this.packageId=sessionStorage.getItem("packageId"),this.modelId=sessionStorage.getItem("modelId"),this.cityId=localStorage.getItem("cityId"),this.fuelType=sessionStorage.getItem("fuelType"),this.packageId&&this.modelId&&this.cityId&&this.fuelType?(this.clicked=!1,this.getAllPackages()):!this.packageId&&this.modelId&&this.cityId&&this.fuelType?this.toastr.error("Select service category"):this.utilService.showModelSelectModal=!0},this.navigateToUrl=a=>{this.router.navigate([a])},this.getSelectedPackages=(0,M.Z)(function*(){r.utilService.showSpinnerData=!0;try{const a=yield r.bookingService.getPackagePricesByQuery(r.modelId,r.cityId,r.fuelType).toPromise();if(a)return r.selectedPackagePriceList=a,void(r.utilService.showSpinnerData=!1);r.utilService.showSpinnerData=!1}catch{r.utilService.showSpinnerData=!1}}),this.getAllPackages=(0,M.Z)(function*(){r.utilService.showSpinnerData=!0;try{const a=yield r.bookingService.getPackagePricesByQuery(r.modelId,r.cityId,r.fuelType).toPromise();a&&(r.selectedPackagePriceList=a);const s=r.packageId?`?categoryId=${r.packageId}`:"",_=yield r.bookingService.getAllPackages(s).toPromise(),h=yield r.bookingService.getAllPackagesPrice().toPromise();r.filteredPackageList=[],_?.length?(r.packageList=_?.filter(m=>"active"===m.status),r.packagePrice=h,r.getTypeOfWork(),r.panelPricing(),a?.length&&r.selectedPackagePriceList.forEach(m=>{const v=r.packageList.find(O=>O.id==m.packageId);v&&""!==JSON.stringify(v)&&(r.filteredPackageList=[...r.filteredPackageList,v])}),r.utilService.showSpinnerData=!1,r.noDataFound=""):(r.noDataFound="No matching package found.",r.utilService.showSpinnerData=!1)}catch{r.utilService.showSpinnerData=!1,r.noDataFound="No matching package found."}}),this.getTypeOfWork=(0,M.Z)(function*(){r.utilService.showSpinnerData=!0;try{const a=yield r.bookingService.getTypeOfWork().toPromise();a?.length&&(r.typeOfWorkList=a?.filter(s=>"active"===s.status),r.utilService.showSpinnerData=!1)}catch{r.utilService.showSpinnerData=!1}}),this.selectPanel=function(){var a=(0,M.Z)(function*(s){r.utilService.showSpinnerData=!0,r.selectedPanelList.map(_=>_.clicked=_?.id===s?.id&&_.clicked),s.clicked=!s.clicked,r.utilService.showSpinnerData=!1});return function(s){return a.apply(this,arguments)}}(),this.showWholeDesc=function(){var a=(0,M.Z)(function*(s){s.viewMore=!0});return function(s){return a.apply(this,arguments)}}(),this.showLess=function(){var a=(0,M.Z)(function*(s){s.viewMore=!1});return function(s){return a.apply(this,arguments)}}(),this.serviceAddToCart=function(){var a=(0,M.Z)(function*(s,_=void 0){r.utilService.showSpinnerData=!0;const h=localStorage.getItem("loggedIn"),m=sessionStorage.getItem("brandId"),v=localStorage.getItem("cityId"),O=sessionStorage.getItem("modelId"),L=sessionStorage.getItem("fuelType");if(!h)return void(v&&m&&O&&L?r.utilService.showLoginModal=!0:r.utilService.showModelSelectModal=!0);r.filteredAddonList=r.addOnList.filter(S=>S.packageId===s.id&&S.cityId===Number(v)&&S.modelId===Number(O)&&S.fuelType===L),r.utilService.showSpinnerData=!1;const b=r.packagePrice?.length?r.packagePrice.filter(S=>S.packageId===s.id&&S.cityId===Number(v)&&S.modelId===Number(O)&&S.fuelType===L):[],G=b?.length?{price:b[0].price,slashedPrice:b[0].slashedPrice,fuelType:b[0].fuelType,modelId:b[0].modelId,cityId:b[0].cityId}:{price:0,slashedPrice:0,fuelType:"",modelId:0,cityId:0};if(_){const I={name:_.name,status:_.status,price:s.price,slashedPrice:s.slashedPrice,...s};r.selectedPackageList=I}else{const S={...s,...G};r.selectedPackageList=S}if(r.filteredAddonList?.length)return r.modalAddOn&&r.modalAddOn.dispose(),r.modalAddOn=new window.bootstrap.Modal(document.getElementById("modalAddOn")),r.modalAddOn.show(),r.filteredAddonList.map(S=>S.selected=!1),void(r.replaceService=null);h?(localStorage.getItem("customerId"),r.selectedPackageList.addons={},_&&(r.selectedPackageList.name=_.name,r.selectedPackageList.status=_.status),r.getActiveCartData(r.selectedPackageList)):r.utilService.headerShowModal=1});return function(s){return a.apply(this,arguments)}}(),this.closeModal=()=>{this.modalAddOn.hide(),this.filteredAddonList.map(a=>a.selected=!1)},this.panelPricing=(0,M.Z)(function*(){r.utilService.showSpinnerData=!0;try{const a=yield r.bookingService.panelPriceLoading(r.modelId,r.cityId,r.fuelType,r.packageId).toPromise();a&&(r.selectedPanelList=[],r.addOnList=[],a.forEach(s=>{const _=r.packageList.find(m=>m?.id==s?.packageId&&-1===r.selectedPanelList.findIndex(v=>v?.carPanel?.part?.id===s?.carPanel?.part?.id&&"active"===s?.carPanel?.part?.status)&&!s?.gradeId);if(_&&""!==JSON.stringify(_)){const m=a.filter(v=>v?.carPanel?.part?.id===s?.carPanel?.part?.id&&"active"===s?.carPanel?.part?.status);if(m?.length){const v={...s,selectedPanelWorkList:m};r.selectedPanelList.push(v)}}const h=r.filteredPackageList.find(m=>m?.id==s?.packageId&&-1===r.addOnList.findIndex(v=>v?.gradeId===s?.gradeId)&&s?.gradeId);h&&""!==JSON.stringify(h)&&(s.gradeList=r.gradeList?.length?r.getAddOnGradeList(s.gradeId):{},r.addOnList.push(s))}),r.noDataFound=r.selectedPanelList.length||r.filteredPackageList.length?"":"No matching package found.")}catch{r.utilService.showSpinnerData=!1}}),this.startDragging=a=>{setTimeout(()=>{},10)},this.selectModel=(a,s)=>{if(sessionStorage.setItem("modelId",a.id),sessionStorage.setItem("fuelType",s),sessionStorage.setItem("brandId",a.brand.id),sessionStorage.setItem("selectedCar",JSON.stringify(a)),this.showDropdown=0,this.showDropdownInner=!1,this.searchPackageList(),this.activeCartList){const{orderMeta:_}=this.activeCartList;if(_?.package?.length&&(_.package[0].modelId!==a.id||_.package[0].fuelType!==s)){const{id:h,status:m,userId:v}=this.activeCartList;this.addOrUpdateToCart(v,{orderMeta:{package:[],totalAmount:0},id:h,paymentTotal:0,status:m,userId:v})}this.dropdownHideAndShow(0)}},this.getFuelImage=a=>{const s=this.utilService.fuels.filter(_=>_.name==a);return s?.length?s[0]?.image:""},this.showFuelTypeDropdown=a=>{this.car=a,this.showDropdownInner=!0,this.showDropdown=0},this.selectService=a=>{this.selectedService=a,this.selectedPanelList=[],this.filteredPackageList=[],sessionStorage.setItem("packageId",a.id),this.showDropdown=0,this.searchPackageList()},this.matches=(a,s,_)=>"car-service"===_?a.name?.toLowerCase().includes(s.toLowerCase()):a.carModel?.toLowerCase().includes(s.toLowerCase()),this.searchModel=a=>{this.carsFiltered=this.modelsList.filter(s=>this.matches(s,a,"car-model"))},this.searchService=a=>{this.servicesListFiltered=this.servicesList.filter(s=>this.matches(s,a,"car-service"))},this.dropdownHideAndShow=a=>{this.showDropdown=this.showDropdown==a?0:a},this.loadData=(0,M.Z)(function*(){r.utilService.showSpinnerData=!0;try{r.getAddOnList();const a=yield r.bookingService.getCarModels().toPromise();a&&(r.modelsList=[],r.carsFiltered=[],a.map(_=>{const h={..._,carModel:`${_.brand.name} ${_.name}`};r.modelsList.push(h),r.carsFiltered.push(h)}));const s=yield r.bookingService.getServiceCategory().toPromise();if(s){if(r.servicesList=s,r.servicesListFiltered=r.servicesList,r.packageId){const _=s.filter(h=>h.id===Number(r.packageId));r.selectedService=_.length?_[0]:null}r.utilService.showSpinnerData=!1}}catch{r.utilService.showSpinnerData=!1}}),this.getActiveCartData=(0,M.Z)(function*(a=void 0){if(localStorage.getItem("loggedIn")){const _=localStorage.getItem("customerId");try{const h=yield r.bookingService.getActiveCartService(_).toPromise();if(h?.id)if(r.activeCartList=h,a){const{orderMeta:m,id:v,status:O,userId:L}=h,{package:b}=m,G=[...b,a];let S=0;G.map(H=>{H?.addons?.slashedPrice?S+=H.addons.slashedPrice:H?.addons?.price&&(S+=H.addons.price),S+=H.slashedPrice?H.slashedPrice:H.price}),r.addOrUpdateToCart(L,{orderMeta:{package:G,totalAmount:S},id:v,paymentTotal:S,status:O,userId:L})}else r.utilService.showSpinnerData=!1;else if(a){const m=[a];let v=0;m.map(b=>{b?.addons?.slashedPrice?v+=b.addons.slashedPrice:b?.addons?.price&&(v+=b.addons.price),b.slashedPrice?v+=b.slashedPrice:b.price&&(v+=b.price)}),r.addOrUpdateToCart(_,{orderMeta:{package:m,totalAmount:v},paymentTotal:v,status:"active",userId:_})}else r.utilService.showSpinnerData=!1}catch{r.utilService.showSpinnerData=!1}}}),this.calculatePercentage=a=>{const s=a?.slashedPrice&&a?.price&&a.price>a.slashedPrice?Math.round((a.price-a.slashedPrice)/a.price*1e4)/100:null;return s?`${s} % off`:""},this.calculatePercentageBy2Numbers=(a,s)=>{const _=s&&a&&a>s?Math.round((a-s)/a*1e4)/100:null;return _?`${_} % off`:""},this.getActiveService=()=>{const a=sessionStorage.getItem("packageId"),s=this.servicesListFiltered?.filter(_=>_.id===Number(a));return s.length?s[0].name:""},this.getAddOnList=(0,M.Z)(function*(){if(r.utilService.showSpinnerData=!0,localStorage.getItem("loggedIn")){localStorage.getItem("customerId");try{const h=yield r.bookingService.getAddOnList().toPromise();h?.length&&(r.gradeList=h)}catch{r.utilService.showSpinnerData=!1}}}),this.getPackageWorksTypes=(a,s)=>{if("length"==s){const _=this.typeOfWorkList?.filter(h=>h.id===a);return _?.length?_:null}if("name"==s){const _=this.typeOfWorkList?.filter(h=>h.id===a);return _?.length?_[0].name:""}if("typedata"==s){const _=this.typeOfWorkList?.filter(h=>h.id===a);return _?.length?_[0]:""}if("logoUrl"==s){const _=this.typeOfWorkList?.filter(h=>h.id===a);return _?.length?_[0]?.metaInfo?.logoUrl:""}if("description"==s){const _=this.typeOfWorkList?.filter(h=>h.id===a);return _?.length?_[0]?.metaInfo?.description:""}},this.getAddOnGradeList=a=>{const s=this.gradeList?.filter(_=>_.id===a);return s?.length?s[0]:{}},this.addonSelect=a=>{if(this.filteredAddonList.map(s=>s.selected=!1),this.replaceService){const{orderMeta:s,userId:_,status:h}=this.replaceService,{package:m}=s;m.map(L=>{L.id===a.packageId&&(L.addons=a)});const v=m?.length?m?.map(L=>(L?.slashedPrice?L.slashedPrice:L.price?L.price:0)+(L?.addons?.slashedPrice?L.addons.slashedPrice:L.addons.price?L.addons.price:0)).reduce((L,b)=>L+b):0;this.replaceService={orderMeta:{package:m,totalAmount:v},paymentTotal:v,status:h,userId:_}}this.selectedPackageList.addons=a,a.selected=!0},this.addAddonToSelectedPackageAndUpdateCart=(0,M.Z)(function*(){if(localStorage.getItem("loggedIn")){if(r.replaceService)return void r.addOrUpdateToCart(r.replaceService.userId,r.replaceService);r.getActiveCartData(r.selectedPackageList)}}),this.addOrUpdateToCart=function(){var a=(0,M.Z)(function*(s,_){try{const h=yield r.bookingService.addToCartService(s,_).toPromise();h?.id&&(r.utilService.showSpinnerData=!1,r.activeCartList=h,h?.orderMeta?.package?.length?sessionStorage.setItem("cart","true"):sessionStorage.setItem("cart","false"),r.closeModal())}catch{r.utilService.showSpinnerData=!1}});return function(s,_){return a.apply(this,arguments)}}(),this.addOrRemoveServiceButton=(a,s)=>{if("normal"===s){const _=this.activeCartList?.orderMeta?.package?.filter(m=>m.id===a.id),h=this.activeCartList?.orderMeta?.package?.filter(m=>m?.categoryId===a?.categoryId);return _?.length?1:h?.length?2:3}{const _=this.activeCartList?.orderMeta?.package?.filter(m=>m?.carPanel?.partTypeId===a?.carPanel?.partTypeId&&m?.typeOfWorkId===a?.typeOfWorkId),h=this.activeCartList?.orderMeta?.package?.filter(m=>m?.carPanel?.partTypeId===a?.carPanel?.partTypeId);return _?.length?1:h?.length?2:3}},this.calculateGST=a=>.18*Number(a),this.parseInt=a=>Number(a),this.getServiceDescription=a=>{const s=this.getPackageWorksTypes(a?.typeOfWorkId,"name");return"Remove all Dents"===s?'<h4 class="hidden font-semibold md:flex">Defect</h4><p class="hidden col-span-5 md:flex">123456789 When the shape of the car panel is deformed such that there is no tear of the metal sheet</p><h4 class="font-semibold">Reason</h4><p class="col-span-5">When the panel comes in contact with another object and impact is such that the original shape of the panel is deformed</p><h4 class="font-semibold">Our Solution</h4><p class="col-span-5">The dent is removed completely through an electronic dent puller with minimal impact on metal sheet strength. After dent removal, a fresh 3-coat matching paint is applied in a dust-free paint booth environment to bring back the panel to its factory-finish</p>':"Remove all Scratches"===s?'<h4 class="hidden font-semibold md:flex">Defect</h4><p class="hidden col-span-5 md:flex">Either paint fade, peel or chip in the panel</p><h4 class="font-semibold">Reason</h4><p class="col-span-5">When the panel comes in contact with another object and the impact is such that the complete clear coat, and/or base coat is removed</p><h4 class="font-semibold">Our Solution</h4><p class="col-span-5">The paint is completely removed from the impacted panel and a fresh 3-coat matching paint is applied in a dust-free paint booth environment to bring back the panel to its factory-finish</p>':"Fix Severe Damage"===s?'<h4 class="hidden font-semibold md:flex">Defect</h4><p class="hidden col-span-5 md:flex">When there is a tear in the sheet metal of the panel or damage which cannot be repaired through standard denting equipment</p><h4 class="font-semibold">Reason</h4><p class="col-span-5">When the contact of the car with the other object is substantial such that the damage is beyond repair</p><h4 class="font-semibold">Our Solution</h4><p class="col-span-5">The panels wherever the damage is such that it cannot be repaired we provide replacement with OEM/OES parts as per customer\'s preference. The new part is painted with a 3-coat system in a dust-free paint booth environment to match the color of the new part with the rest of the car body</p>':null},this.removeServiceFromCart=a=>{this.utilService.showSpinnerData=!0;const{orderMeta:s,userId:_,status:h}=this.activeCartList,{package:m}=s,v=this.bookingService.removeServiceFromCart(a,m,_,h);this.addOrUpdateToCart(_,v)},this.replaceServiceFromCart=(a,s)=>{const{orderMeta:_,userId:h,status:m}=this.activeCartList,{package:v}=_,O=[...v],L="denting"===s?v?.findIndex(I=>I?.carPanel?.partTypeId===a?.carPanel?.partTypeId):v?.findIndex(I=>I?.categoryId===a?.categoryId);if(-1!==L){let I={};if("denting"===s){const J=this.getPackageWorksTypes(a?.typeOfWorkId,"typedata");I={name:J.name,status:J.status,price:a.price,slashedPrice:a.slashedPrice,addons:{},...a},O[L]={...I}}else{const J=this.packagePrice?.length?this.packagePrice.filter(ne=>ne.packageId===a.id):[],H=J?.length?{price:J[0].price,slashedPrice:J[0].slashedPrice,fuelType:J[0].fuelType,modelId:J[0].modelId,cityId:J[0].cityId}:{price:0,slashedPrice:0,fuelType:"",modelId:0,cityId:0};if(I={...a,...H},this.selectedPackageList=I,this.filteredAddonList=this.addOnList.filter(ne=>ne.packageId===a.id),this.filteredAddonList?.length){this.modalAddOn&&this.modalAddOn.dispose(),this.modalAddOn=new window.bootstrap.Modal(document.getElementById("modalAddOn")),this.modalAddOn.show(),this.filteredAddonList.map(F=>F.selected=!1),O[L]={...I};const ne=v?.length?v?.map(F=>(F?.slashedPrice?F.slashedPrice:F.price?F.price:0)+(F?.addons?.slashedPrice?F.addons.slashedPrice:F.addons.price?F.addons.price:0)).reduce((F,gt)=>F+gt):0;return void(this.replaceService={orderMeta:{package:O,totalAmount:ne},paymentTotal:ne,status:m,userId:h})}this.replaceService=null,O[L]={...I}}}this.utilService.showSpinnerData=!0;const b=v?.length?v?.map(I=>(I?.slashedPrice?I.slashedPrice:I.price?I.price:0)+(I?.addons?.slashedPrice?I.addons.slashedPrice:I.addons.price?I.addons.price:0)).reduce((I,J)=>I+J):0;this.addOrUpdateToCart(h,{orderMeta:{package:O,totalAmount:b},paymentTotal:b,status:m,userId:h})},this.onButtonClicked=a=>{a&&(this.getActiveCartData(),this.loadData(),this.searchPackageList())}}ngOnInit(){this.packageId=sessionStorage.getItem("packageId"),this.modelId=sessionStorage.getItem("modelId"),this.cityId=localStorage.getItem("cityId"),this.getActiveCartData(),this.loadData(),this.searchPackageList()}ngAfterViewInit(){setTimeout(()=>{this.orderService.orderComplete&&(this.order=JSON.parse(localStorage.getItem("orderDetails")||"{}"),this.modalCheckout&&this.modalCheckout.dispose(),this.modalCheckout=new window.bootstrap.Modal(document.getElementById("ModalCheckout")),this.modalCheckout.show(),this.orderService.orderComplete=!1)},2e3)}ngDoCheck(){const l=sessionStorage.getItem("selectedCar");this.selectedCarModel=l?JSON.parse(l):"Select Car model",this.fuelType=sessionStorage.getItem("fuelType")}}return(o=d).\u0275fac=function(l){return new(l||o)(e.Y36(i.F0),e.Y36(V.F),e.Y36(N.p),e.Y36(z.fK),e.Y36(ie.r),e.Y36(T._W))},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-bookings"]],decls:269,vars:68,consts:[[3,"activeLink"],[1,"booking_top_wpr"],[1,"container"],[1,"row"],[1,"col-md-10"],[1,"col-md-3"],["class","title_label",4,"ngIf"],[1,"title_label_head"],[1,"col-md-9"],["id","search-group",1,"search-blk"],[1,"col-search-blk",3,"ngClass"],[1,"icon","input-icon"],["alt","",3,"src"],[1,"search-input",3,"click"],["id","model-wpr",1,"wpr"],[1,"fuel-wpr"],["class","back-drop-dropdown",3,"click",4,"ngIf"],["id","car-dropdown",1,"dropdown_popup",3,"ngClass"],[1,"head_search_blk"],[1,"search_input"],["type","search","name","","placeholder","Search Car",1,"search_input_txt",3,"ngModel","ngModelChange"],[1,"search_icon"],[1,"fa","fa-search"],[1,"body_search_blk"],[4,"ngFor","ngForOf"],[1,"row_search_blk"],[1,"icon","me-3","ms-2",2,"width","25px","height","25px"],["src","../../../assets/images/icons/leftarrow.png",3,"click"],[1,"icon"],[3,"src"],[1,"title"],[1,"dropdown_popup_inner",3,"ngClass"],["alt","",2,"max-width","35px",3,"src"],[1,"dropdown_popup",3,"ngClass"],["type","search","name","","placeholder","Select service",1,"search_input_txt",3,"ngModel","ngModelChange"],["class","row_search_blk",3,"click",4,"ngFor","ngForOf"],[1,"btn-search",3,"click"],["id","filter_popup_wpr",1,"filter_popup_wpr"],[1,"overlay"],[1,"filter_popup_blk"],[1,"head_blk"],[1,"close-btn"],[1,"fa","fa-close"],[1,"body_blk"],[1,"filter_cate_wpr","active"],[1,"head_cat"],[1,"title_cate"],[1,"nav_icon"],[1,"fa","fa-angle-down"],[1,"body_cat"],[1,"row_blk"],["type","checkbox","name",""],[1,"load_more"],[1,"filter_cate_wpr"],[1,"page-section","bg_gray","filter_section_padding"],[4,"ngIf"],["class","d-flex justify-content-center paginate_wpr",4,"ngIf"],["class","col-md-3",4,"ngIf"],["id","modalAddOn","role","dialog",1,"modal","fade"],[1,"modal-dialog","modal-md",2,"max-width","720px"],[1,"modal-content","p-3"],[1,"modal-login-popup-wpr"],[1,"m-header","mb-3"],[1,"mt-5","addon-head"],[1,"close-btn",3,"click"],["type","button","data-dismiss","modal",1,"close"],[1,"footer"],[1,"col-md-8","select-service-head"],[1,"select-service"],[1,"select-service-price"],[1,"services_card_wpr","p-0",3,"click"],[1,"btn_action"],["id","ModalCheckout","role","dialog",1,"modal","fade"],[1,"modal-dialog","modal-md",2,"max-width","560px"],[1,"modal-content"],[1,"m-header"],["type","button","data-dismiss","modal",1,"close",3,"click"],[1,"login-form-wpr","plr-30"],[1,"input-group-wpr"],[1,"status_icon_wpr"],["width","116","height","116","viewBox","0 0 116 116","fill","none","xmlns","http://www.w3.org/2000/svg"],["d","M95.8543 50.7494L94.0335 55.2536C93.4585 56.7869 93.4585 58.4161 94.0335 59.9494L95.8543 64.4536C96.9085 67.1369 96.046 70.2036 93.6501 71.9286L89.6251 74.7077C88.2835 75.6661 87.421 77.1036 87.0376 78.6369L86.1751 83.4286C85.6001 86.3036 83.2043 88.4119 80.3293 88.5077L75.4418 88.6994C73.8126 88.7952 72.2793 89.4661 71.1293 90.6161L67.7751 94.1619C65.7626 96.2702 62.6001 96.7494 60.1085 95.3119L55.8918 92.8202C54.4543 91.9577 52.8251 91.7661 51.196 92.1494L46.4043 93.2994C43.6251 93.9702 40.6543 92.6286 39.3126 90.0411L37.1085 85.6327C36.3418 84.1952 35.096 83.0452 33.5626 82.5661L28.9626 81.0327C26.1835 80.0744 24.4585 77.3911 24.746 74.5161L25.2251 69.6286C25.4168 67.9994 24.9376 66.3702 23.8835 65.1244L20.8168 61.2911C18.996 58.9911 18.996 55.8286 20.8168 53.5286L23.8835 49.6952C24.9376 48.4494 25.4168 46.8202 25.2251 45.1911L24.746 40.3036C24.4585 37.4286 26.1835 34.7452 28.9626 33.7869L33.5626 32.2536C35.096 31.7744 36.3418 30.6244 37.1085 29.1869L39.3126 24.7786C40.6543 22.1911 43.5293 20.8494 46.4043 21.5202L51.196 22.6702C52.7293 23.0536 54.4543 22.8619 55.8918 21.9994L60.1085 19.5077C62.6001 18.0702 65.7626 18.4536 67.7751 20.6577L71.1293 24.2036C72.2793 25.3536 73.8126 26.1202 75.4418 26.1202L80.3293 26.3119C83.2043 26.4077 85.696 28.5161 86.1751 31.3911L87.0376 36.1827C87.3251 37.8119 88.2835 39.2494 89.6251 40.1119L93.6501 42.8911C96.046 44.9994 97.0043 48.0661 95.8543 50.7494Z","fill","#00D566"],["opacity","0.15"],["d","M42.0918 89.7536L39.8876 85.3452C39.121 83.9077 37.8751 82.7577 36.3418 82.2786L31.7418 80.7452C28.9626 79.7869 27.2376 77.1036 27.5251 74.2286L28.0043 69.3411C28.196 67.7119 27.7168 66.0827 26.6626 64.8369L23.596 61.0036C21.7751 58.7036 21.7751 55.5411 23.596 53.2411L26.6626 49.4077C27.7168 48.1619 28.196 46.5327 28.0043 44.9036L27.5251 40.0161C27.2376 37.1411 28.9626 34.4577 31.7418 33.4994L36.3418 31.9661C37.8751 31.4869 39.121 30.3369 39.8876 28.8994L42.0918 24.4911C42.8585 22.9577 44.2001 21.9036 45.6376 21.4244C43.0501 21.0411 40.4626 22.3827 39.3126 24.7786L37.1085 29.1869C36.3418 30.6244 35.096 31.7744 33.5626 32.2536L28.9626 33.7869C26.1835 34.7452 24.4585 37.4286 24.746 40.3036L25.2251 45.1911C25.4168 46.8202 24.9376 48.4494 23.8835 49.6952L20.8168 53.5286C18.996 55.8286 18.996 58.9911 20.8168 61.2911L23.8835 65.1244C24.9376 66.3702 25.4168 67.9994 25.2251 69.6286L24.746 74.5161C24.4585 77.3911 26.1835 80.0744 28.9626 81.0327L33.5626 82.5661C35.096 83.0452 36.3418 84.1952 37.1085 85.6327L39.3126 90.0411C40.6543 92.6286 43.5293 93.9702 46.4043 93.2994L46.9793 93.2036C44.871 92.8202 43.0501 91.6702 42.0918 89.7536Z","fill","black"],["d","M58.5747 21.7119L62.7913 19.2202C63.1747 19.0286 63.558 18.8369 63.9413 18.7411C62.5997 18.5494 61.1622 18.8369 60.0122 19.5077L55.7955 21.9994C55.4122 22.1911 55.0288 22.3827 54.6455 22.4786C55.9872 22.6702 57.3288 22.4786 58.5747 21.7119Z","fill","black"],["d","M78.1249 88.3161C77.6457 88.3161 77.1665 88.4119 76.7832 88.5077L80.2332 88.3161C80.7124 88.3161 81.0957 88.2202 81.5749 88.1244L78.1249 88.3161Z","fill","black"],["d","M62.7922 94.9286L58.5755 92.4369C57.138 91.5744 55.5089 91.3827 53.8797 91.7661L53.3047 91.8619C54.1672 91.9577 54.9339 92.2452 55.7005 92.6286L59.9172 95.1202C61.5464 96.0786 63.3672 96.1744 65.0922 95.5994C64.3255 95.5994 63.5589 95.4077 62.7922 94.9286Z","fill","black"],["d","M42.667 51.5161L54.6462 65.2202L79.1795 45.4786","fill","#00D566"],["d","M51.7711 72.3119C50.4294 72.3119 49.0877 71.7369 48.1294 70.6827L36.1502 56.9786C34.4252 54.9661 34.6169 51.9952 36.5336 50.1744C38.5461 48.4494 41.5169 48.6411 43.3377 50.5577L52.3461 60.8119L73.3336 43.9452C75.3461 42.3161 78.4127 42.6036 80.0419 44.7119C81.6711 46.8202 81.3836 49.7911 79.2752 51.4202L54.7419 71.2577C53.8794 71.9286 52.8252 72.3119 51.7711 72.3119Z","fill","white"],[1,"label_txt"],[1,"services-list"],[1,"time_status_blk"],[1,"col_time_blk"],[1,"fa","fa-calendar"],[1,"fa","fa-clock"],[1,"billing_wpr"],[1,"col-md-6"],[1,"address_blk"],[1,"name"],[1,"desc"],[1,"billing_amount_wpr"],[1,"row_info"],[1,"title_info"],[1,"title_val"],[1,"row_info","head"],[1,"title_label"],[1,"back-drop-dropdown",3,"click"],["class","row_search_blk",3,"click",4,"ngIf"],[1,"row_search_blk",3,"click"],[1,"car-img",3,"src"],[1,"row_search_blk","py-2",3,"click"],[1,"icon",2,"width","30px","height","30px"],["alt","",2,"width","30px","height","30px",3,"src"],[1,"services_card_wpr"],[1,"col-md-12","padding-5"],[1,"panel-service-border","padding-5"],[1,"head_blk",3,"click"],[1,"img-icon"],[1,"title_wpr"],[1,"head_title"],[1,"col","col-search-blk",3,"ngClass"],["class","services_card_wpr p-5 pt-3 pb-3",4,"ngIf"],[1,"services_card_wpr","p-5","pt-3","pb-3"],[1,"service-icon"],["alt","car work types",3,"src"],[1,"title_wpr","denting-title"],[1,"head_sub_title"],[1,"lable_title"],[1,"tag_wpr"],["class","tag_blk",4,"ngIf"],[1,"desc_li_wpr","ps-2",3,"ngClass","innerHTML"],["href","javascript:void(0)","class","btn-viewall",3,"click",4,"ngIf"],[1,"action_wpr"],[1,"amount_main_wpr"],["href","javascript:void(0)","class","unlock-price-link",3,"click",4,"ngIf"],[1,"tag_blk"],[1,"icon_img"],["src","assets/images/icons/3.svg","alt",""],["src","assets/images/icons/2.svg","alt",""],["src","assets/images/icons/1.svg","alt",""],["href","javascript:void(0)",1,"btn-viewall",3,"click"],["href","javascript:void(0)",1,"unlock-price-link",3,"click"],[1,"ti","ti-lock","mx-2","fw-bold"],[1,"amount_wpr"],[1,"amount"],[1,"amount_unit"],["class","amount_wpr",4,"ngIf"],[1,"amount_offer"],[1,"amount_offer_per"],["class","btn_wpr",3,"click",4,"ngIf"],[1,"btn_wpr",3,"click"],[1,"btn_action_1"],[1,"no-data-container"],[1,"no-data-found"],[1,"d-flex","justify-content-center","paginate_wpr"],["id","package_pagination",1,"float-right",3,"maxSize","pageChange"],[3,"activeCartList","page","orderParams","buttonClicked"],[1,"services_card_wpr","p-t-35",2,"border","1px solid #939393",3,"ngClass","click"],["class","recomended",4,"ngIf"],[1,"recomended"],[1,"mx-auto","text-center","self-center","text-xs"],[1,"arrow-right"]],template:function(l,n){1&l&&(e._UZ(0,"app-header",0),e.TgZ(1,"section",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",3)(6,"div",5),e.YNc(7,oe,2,1,"div",6),e.TgZ(8,"h5",7),e._uU(9),e.qZA()(),e.TgZ(10,"div",8)(11,"div",9)(12,"div",10)(13,"span",11),e._UZ(14,"img",12),e.qZA(),e.TgZ(15,"div",13),e.NdJ("click",function(){return n.dropdownHideAndShow(1)}),e.TgZ(16,"span",14),e._uU(17),e.qZA(),e.TgZ(18,"small",15),e._uU(19),e.qZA()(),e.YNc(20,me,1,0,"div",16),e.TgZ(21,"div",17)(22,"div",18)(23,"div",19)(24,"input",20),e.NdJ("ngModelChange",function(C){return n.modelSearchTerm=C})("ngModelChange",function(C){return n.searchModel(C)}),e.qZA(),e.TgZ(25,"span",21),e._UZ(26,"i",22),e.qZA()()(),e.TgZ(27,"div",23),e.YNc(28,p,2,1,"ng-container",24),e.qZA()(),e.TgZ(29,"div",17)(30,"div",23)(31,"div",25)(32,"span",26)(33,"img",27),e.NdJ("click",function(){return n.showDropdownInner=!1,n.dropdownHideAndShow(1)}),e.qZA()(),e.TgZ(34,"span",28),e._UZ(35,"img",29),e.qZA(),e.TgZ(36,"span",30),e._uU(37),e.qZA()(),e.TgZ(38,"div",31)(39,"div",23),e.YNc(40,u,6,2,"ng-container",24),e.qZA()()()()(),e.TgZ(41,"div",10)(42,"span",11),e._UZ(43,"img",32),e.qZA(),e.TgZ(44,"div",13),e.NdJ("click",function(){return n.dropdownHideAndShow(2)}),e._uU(45),e.qZA(),e.YNc(46,k,1,0,"div",16),e.TgZ(47,"div",33)(48,"div",18)(49,"div",19)(50,"input",34),e.NdJ("ngModelChange",function(C){return n.serviceSearchTerm=C})("ngModelChange",function(C){return n.searchService(C)}),e.qZA(),e.TgZ(51,"span",21),e._UZ(52,"i",22),e.qZA()()(),e.TgZ(53,"div",23),e.YNc(54,w,5,2,"div",35),e.qZA()()(),e.TgZ(55,"div",36),e.NdJ("click",function(){return n.searchPackageList()}),e._UZ(56,"i",22),e._uU(57," Search Packages "),e.qZA()()()()()()()(),e.TgZ(58,"div",37),e._UZ(59,"div",38),e.TgZ(60,"div",39)(61,"div",40)(62,"span",30),e._uU(63,"Filters"),e.qZA(),e.TgZ(64,"span",41),e._UZ(65,"i",42),e.qZA()(),e.TgZ(66,"div",43)(67,"div",44)(68,"div",45)(69,"span",46),e._uU(70,"Duration"),e.qZA(),e.TgZ(71,"span",47),e._UZ(72,"i",48),e.qZA()(),e.TgZ(73,"div",49)(74,"div",50),e._UZ(75,"input",51),e.TgZ(76,"label"),e._uU(77,"1 hour"),e.qZA()(),e.TgZ(78,"div",50),e._UZ(79,"input",51),e.TgZ(80,"label"),e._uU(81,"1 hour 30 min"),e.qZA()(),e.TgZ(82,"div",50),e._UZ(83,"input",51),e.TgZ(84,"label"),e._uU(85,"2 hour"),e.qZA()(),e.TgZ(86,"div",50),e._UZ(87,"input",51),e.TgZ(88,"label"),e._uU(89,"2 hour 30 min"),e.qZA()(),e.TgZ(90,"div",52),e._uU(91,"Load more"),e.qZA()()(),e.TgZ(92,"div",53)(93,"div",45)(94,"span",46),e._uU(95,"Warranty"),e.qZA(),e.TgZ(96,"span",47),e._UZ(97,"i",48),e.qZA()(),e.TgZ(98,"div",49)(99,"div",50),e._UZ(100,"input",51),e.TgZ(101,"label"),e._uU(102,"1 hour"),e.qZA()(),e.TgZ(103,"div",50),e._UZ(104,"input",51),e.TgZ(105,"label"),e._uU(106,"1 hour 30 min"),e.qZA()(),e.TgZ(107,"div",50),e._UZ(108,"input",51),e.TgZ(109,"label"),e._uU(110,"2 hour"),e.qZA()(),e.TgZ(111,"div",50),e._UZ(112,"input",51),e.TgZ(113,"label"),e._uU(114,"2 hour 30 min"),e.qZA()(),e.TgZ(115,"div",52),e._uU(116,"Load more"),e.qZA()()(),e.TgZ(117,"div",53)(118,"div",45)(119,"span",46),e._uU(120,"Price"),e.qZA(),e.TgZ(121,"span",47),e._UZ(122,"i",48),e.qZA()(),e.TgZ(123,"div",49)(124,"div",50),e._UZ(125,"input",51),e.TgZ(126,"label"),e._uU(127,"1 hour"),e.qZA()(),e.TgZ(128,"div",50),e._UZ(129,"input",51),e.TgZ(130,"label"),e._uU(131,"1 hour 30 min"),e.qZA()(),e.TgZ(132,"div",50),e._UZ(133,"input",51),e.TgZ(134,"label"),e._uU(135,"2 hour"),e.qZA()(),e.TgZ(136,"div",50),e._UZ(137,"input",51),e.TgZ(138,"label"),e._uU(139,"2 hour 30 min"),e.qZA()(),e.TgZ(140,"div",52),e._uU(141,"Load more"),e.qZA()()(),e.TgZ(142,"div",53)(143,"div",45)(144,"span",46),e._uU(145,"Discount"),e.qZA(),e.TgZ(146,"span",47),e._UZ(147,"i",48),e.qZA()(),e.TgZ(148,"div",49)(149,"div",50),e._UZ(150,"input",51),e.TgZ(151,"label"),e._uU(152,"1 hour"),e.qZA()(),e.TgZ(153,"div",50),e._UZ(154,"input",51),e.TgZ(155,"label"),e._uU(156,"1 hour 30 min"),e.qZA()(),e.TgZ(157,"div",50),e._UZ(158,"input",51),e.TgZ(159,"label"),e._uU(160,"2 hour"),e.qZA()(),e.TgZ(161,"div",50),e._UZ(162,"input",51),e.TgZ(163,"label"),e._uU(164,"2 hour 30 min"),e.qZA()(),e.TgZ(165,"div",52),e._uU(166,"Load more"),e.qZA()()()()()(),e.TgZ(167,"section",54)(168,"div",2)(169,"div",3)(170,"div",8),e.YNc(171,be,4,1,"ng-container",55),e.YNc(172,ze,3,7,"ng-container",55),e.YNc(173,Re,4,1,"ng-container",55),e.YNc(174,Ve,2,1,"div",56),e.qZA(),e.YNc(175,Xe,2,3,"div",57),e.qZA()()(),e._UZ(176,"app-footer-nav"),e.TgZ(177,"div",58)(178,"div",59)(179,"div",60)(180,"div",61)(181,"div",62)(182,"h1",63),e._uU(183,"Customize your selected package"),e.qZA(),e.TgZ(184,"div",64),e.NdJ("click",function(){return n.closeModal()}),e.TgZ(185,"button",65),e._UZ(186,"i",42),e.qZA()()(),e.YNc(187,tt,28,10,"ng-container",24),e.ALo(188,"assend"),e.TgZ(189,"div",66)(190,"div",67)(191,"span",68),e._uU(192),e.qZA(),e.TgZ(193,"span",69),e._uU(194,"+ "),e.YNc(195,nt,2,1,"ng-container",55),e.YNc(196,it,2,1,"ng-container",55),e.TgZ(197,"span"),e._uU(198," + GST"),e.qZA()()(),e.TgZ(199,"div",70),e.NdJ("click",function(){return n.addAddonToSelectedPackageAndUpdateCart()}),e.TgZ(200,"div",71),e._uU(201,"Add to worklist"),e.qZA()()()()()()(),e.TgZ(202,"div",72)(203,"div",73)(204,"div",74)(205,"div",61)(206,"div",75)(207,"div",41)(208,"button",76),e.NdJ("click",function(){return n.modalCheckout.hide()}),e._UZ(209,"i",42),e.qZA()()(),e.TgZ(210,"div",77)(211,"div",78)(212,"div",79),e.O4$(),e.TgZ(213,"svg",80),e._UZ(214,"path",81),e.TgZ(215,"g",82),e._UZ(216,"path",83)(217,"path",84)(218,"path",85)(219,"path",86),e.qZA(),e._UZ(220,"path",87)(221,"path",88),e.qZA()(),e.kcU(),e.TgZ(222,"h2"),e._uU(223,"Your Service is booked !"),e.qZA(),e.TgZ(224,"label",89)(225,"span",90),e._uU(226),e.qZA()()(),e.TgZ(227,"div",91)(228,"div",92),e._UZ(229,"i",93),e._uU(230),e.ALo(231,"date"),e.qZA(),e.TgZ(232,"div",92),e._UZ(233,"i",94),e._uU(234),e.qZA()(),e.TgZ(235,"div",95)(236,"div",3)(237,"div",96)(238,"div",30),e._uU(239,"Booking Address"),e.qZA(),e.TgZ(240,"div",97)(241,"div",98),e._uU(242),e.qZA(),e.TgZ(243,"div",99),e._uU(244),e._UZ(245,"br"),e._uU(246),e._UZ(247,"br"),e._uU(248),e.qZA()()(),e.TgZ(249,"div",96)(250,"div",30),e._uU(251,"Payment Details"),e.qZA(),e.TgZ(252,"div",100)(253,"div",101)(254,"span",102),e._uU(255,"Sub Total"),e.qZA(),e.TgZ(256,"span",103),e._uU(257),e.qZA()(),e.TgZ(258,"div",101)(259,"span",102),e._uU(260,"GST (18%)"),e.qZA(),e.TgZ(261,"span",103),e._uU(262),e.qZA()(),e._UZ(263,"hr"),e.TgZ(264,"div",104)(265,"span",102),e._uU(266,"Total Price"),e.qZA(),e.TgZ(267,"span",103),e._uU(268),e.qZA()()()()()()()()()()()),2&l&&(e.Q6J("activeLink","Services"),e.xp6(7),e.Q6J("ngIf",!(null!=n.selectedPanelList&&n.selectedPanelList.length)),e.xp6(2),e.Oqu(n.getActiveService()),e.xp6(3),e.Q6J("ngClass",e.VKq(52,le,1==n.showDropdown)),e.xp6(2),e.Q6J("src",null==n.selectedCarModel?null:n.selectedCarModel.sizedPhoto,e.LSH),e.xp6(3),e.AsE(" ",null==n.selectedCarModel||null==n.selectedCarModel.brand?null:n.selectedCarModel.brand.name," ",null==n.selectedCarModel?null:n.selectedCarModel.name," "),e.xp6(2),e.Oqu(n.fuelType),e.xp6(1),e.Q6J("ngIf",1==n.showDropdown||n.showDropdownInner),e.xp6(1),e.Q6J("ngClass",e.WLB(54,Le,1==n.showDropdown,1==n.showDropdown)),e.xp6(3),e.Q6J("ngModel",n.modelSearchTerm),e.xp6(4),e.Q6J("ngForOf",n.carsFiltered),e.xp6(1),e.Q6J("ngClass",e.WLB(57,Le,n.showDropdownInner,n.showDropdownInner)),e.xp6(6),e.Q6J("src",null==n.car?null:n.car.sizedPhoto,e.LSH),e.xp6(2),e.AsE("",null==n.car||null==n.car.brand?null:n.car.brand.name," ",null==n.car?null:n.car.name,""),e.xp6(1),e.Q6J("ngClass",e.WLB(60,ot,n.showDropdownInner,n.showDropdownInner)),e.xp6(2),e.Q6J("ngForOf",null==n.car?null:n.car.fuelType),e.xp6(1),e.Q6J("ngClass",e.VKq(63,le,2==n.showDropdown)),e.xp6(2),e.Q6J("src",n.selectedService.logoUrl,e.LSH),e.xp6(2),e.hij(" ",n.selectedService.name," "),e.xp6(1),e.Q6J("ngIf",2==n.showDropdown),e.xp6(1),e.Q6J("ngClass",e.WLB(65,Le,2==n.showDropdown,2==n.showDropdown)),e.xp6(3),e.Q6J("ngModel",n.serviceSearchTerm),e.xp6(4),e.Q6J("ngForOf",n.servicesListFiltered),e.xp6(117),e.Q6J("ngIf",(null==n.selectedPanelList?null:n.selectedPanelList.length)&&"Select Service"!==n.selectedService.name),e.xp6(1),e.Q6J("ngIf",!(null!=n.selectedPanelList&&n.selectedPanelList.length||n.clicked||"Select Service"===n.selectedService.name)),e.xp6(1),e.Q6J("ngIf",!(null!=n.selectedPanelList&&n.selectedPanelList.length||null!=n.filteredPackageList&&n.filteredPackageList.length)),e.xp6(1),e.Q6J("ngIf",null==n.filteredPackageList?null:n.filteredPackageList.length),e.xp6(1),e.Q6J("ngIf",(null==n.activeCartList?null:n.activeCartList.id)&&(null==n.activeCartList||null==n.activeCartList.orderMeta||null==n.activeCartList.orderMeta.package?null:n.activeCartList.orderMeta.package.length)),e.xp6(12),e.Q6J("ngForOf",e.xi3(188,46,n.filteredAddonList,"slashedPrice")),e.xp6(5),e.hij(" ",null==n.selectedPackageList?null:n.selectedPackageList.name," "),e.xp6(3),e.Q6J("ngIf","{}"!==(null==n.selectedPackageList?null:n.selectedPackageList.addons)),e.xp6(1),e.Q6J("ngIf","{}"===(null==n.selectedPackageList?null:n.selectedPackageList.addons)),e.xp6(30),e.Oqu(n.orderService.getServicesLists(null==n.order||null==n.order.orderMeta?null:n.order.orderMeta.package,",")),e.xp6(4),e.hij(" ",e.xi3(231,49,null==n.order||null==n.order.orderMeta?null:n.order.orderMeta.selectedDate,"mediumDate")," "),e.xp6(4),e.hij(" ",null==n.order||null==n.order.orderMeta?null:n.order.orderMeta.selectedSlot," "),e.xp6(8),e.Oqu(null==n.order||null==n.order.orderMeta||null==n.order.orderMeta.address?null:n.order.orderMeta.address.name),e.xp6(2),e.AsE(" ",null==n.order||null==n.order.orderMeta||null==n.order.orderMeta.address||null==n.order.orderMeta.address.address?null:n.order.orderMeta.address.address.address1,",",null==n.order||null==n.order.orderMeta||null==n.order.orderMeta.address||null==n.order.orderMeta.address.address?null:n.order.orderMeta.address.address.landmark," "),e.xp6(2),e.AsE(" ",null==n.order||null==n.order.orderMeta||null==n.order.orderMeta.address||null==n.order.orderMeta.address.address?null:n.order.orderMeta.address.address.city,", ",null==n.order||null==n.order.orderMeta||null==n.order.orderMeta.address||null==n.order.orderMeta.address.address?null:n.order.orderMeta.address.address.state,""),e.xp6(2),e.hij(" Mobile: +91-",null==n.order||null==n.order.orderMeta||null==n.order.orderMeta.address||null==n.order.orderMeta.address.address?null:n.order.orderMeta.address.address.number," "),e.xp6(9),e.hij("\u20b9",null==n.order||null==n.order.orderMeta?null:n.order.orderMeta.totalAmount,""),e.xp6(5),e.hij("\u20b9",null==n.order||null==n.order.orderMeta?null:n.order.orderMeta.gstAmount,""),e.xp6(6),e.hij("\u20b9",null==n.order?null:n.order.paymentTotal,""))},dependencies:[P.mk,P.sg,P.O5,W.G,K.c,Q.Fj,Q.JJ,Q.On,E.LS,X.W,P.uU,E._s,z.wQ],styles:[".col-search-blk.active[_ngcontent-%COMP%]   .dropdown_popup.show[_ngcontent-%COMP%], .show[_ngcontent-%COMP%]{display:block;z-index:2;animation:animate_dropdown linear .2s;animation-iteration-count:1;transition:.3s;-moz-transition:.3s;-webkit-transition:.3s;-o-transition:.3s;-ms-transition:.3s}.btn-viewall[_ngcontent-%COMP%]{font-size:13px;font-weight:500}.full-description[_ngcontent-%COMP%]{max-height:100%}.arrow-right[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center}.backdrop[_ngcontent-%COMP%]{background-color:#0009;position:fixed;top:0;left:0;width:100vw;height:100vh;z-index:1000;animation:animate_dropdown linear .2s;animation-iteration-count:1;transition:.3s;-moz-transition:.3s;-webkit-transition:.3s;-o-transition:.3s;-ms-transition:.3s}#ModalOTP[_ngcontent-%COMP%], #ModalCheckout[_ngcontent-%COMP%]{z-index:1000}.addon-head[_ngcontent-%COMP%]{font-size:1.5rem;line-height:2rem;text-align:center;font-weight:600;padding-left:1.25rem;padding-right:1.25rem;width:100%;margin-top:0!important}.services_card_wpr[_ngcontent-%COMP%]{position:relative}.services_card_wpr.active[_ngcontent-%COMP%]{border-color:#1c0293!important;box-shadow:2px 2px 4px 4px #0000ff0d,2px 2px 8px 4px #ff00000d}.recomended[_ngcontent-%COMP%]{--tw-text-opacity: 1;color:#fff;font-weight:600;z-index:20;position:absolute;left:0;margin-top:0;display:flex;top:6px}.recomended[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:12px;background:red;padding-bottom:1px}#modalAddOn[_ngcontent-%COMP%]{z-index:1000}#modalAddOn[_ngcontent-%COMP%]   .footer[_ngcontent-%COMP%]{display:flex;width:100%;justify-content:space-between;padding:10px}.select-service-head[_ngcontent-%COMP%]{display:flex;flex-direction:column}.select-service-price[_ngcontent-%COMP%]{font-size:.875rem;line-height:1.25rem;font-weight:600}.select-service-price[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:.75rem;line-height:1rem;font-weight:400}#modalAddOn[_ngcontent-%COMP%]   .footer[_ngcontent-%COMP%]   .select-service[_ngcontent-%COMP%]{font-size:1.5rem;line-height:2rem;font-weight:600}.services-list[_ngcontent-%COMP%]{font-size:16px;font-weight:600;color:#212529}.services_card_wpr[_ngcontent-%COMP%]   .head_title[_ngcontent-%COMP%]{font-size:1.25rem;line-height:1.75rem;font-weight:600}.head_blk[_ngcontent-%COMP%]{height:50px}.head_blk[_ngcontent-%COMP%]   .img-icon[_ngcontent-%COMP%]{width:3rem;margin-right:1.25rem}.service-icon[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-width:150px}.denting-title[_ngcontent-%COMP%]   .head_sub_title[_ngcontent-%COMP%]{font-size:1.15rem;line-height:1.75rem;font-weight:700}  .desc_li_wpr .font-semibold{font-size:1.05rem;font-weight:700}  .desc_li_wpr p{font-size:.85rem;margin:5px 15px}.padding-5[_ngcontent-%COMP%]{padding:5px}.panel-service-border[_ngcontent-%COMP%]{border:1px solid #6f252c57;border-radius:10px;height:100%}.no-data-found[_ngcontent-%COMP%]{display:inline-block;width:100%;text-align:center;font-size:1rem;color:#828282;font-weight:600}.p-t-35[_ngcontent-%COMP%]{padding-top:35px}.p-t-35[_ngcontent-%COMP%]   .lable_title[_ngcontent-%COMP%]{max-height:50px;overflow:hidden}.arrow-right[_ngcontent-%COMP%]{width:0;height:0;border-top:10px solid transparent;border-bottom:10px solid transparent;border-left:10px solid #ff0000;position:absolute;right:-9px}#ModalCheckout[_ngcontent-%COMP%], #modalAddOn[_ngcontent-%COMP%]{position:fixed;z-index:1051}.page-section[_ngcontent-%COMP%]{display:flex;align-items:start}.no-data-section[_ngcontent-%COMP%]{width:100%;float:left;padding:60px 0;overflow:hidden;min-height:calc(100vh - 80px);display:flex;justify-content:center;align-items:center;position:relative}.no-data-container[_ngcontent-%COMP%]{width:100%;height:calc(100vh - 280px)!important;display:flex;align-items:center;justify-content:center}@media (max-width:1028px){.page-section[_ngcontent-%COMP%]{margin-top:20px}}@media (max-width:768px){.search-blk[_ngcontent-%COMP%]   .col-search-blk[_ngcontent-%COMP%]:nth-child(1){border-right:none;padding-left:0;margin-top:10px}.booking_top_wpr[_ngcontent-%COMP%]   .search-blk[_ngcontent-%COMP%]   .search-input[_ngcontent-%COMP%]{height:auto;display:flex;align-items:center}#model-wpr[_ngcontent-%COMP%]{width:-moz-fit-content;width:fit-content;max-width:calc(100% - 65px);word-break:break-word;padding-right:5px}.fuel-wpr[_ngcontent-%COMP%]{line-height:1.5rem}.page-section[_ngcontent-%COMP%]{margin-top:180px}}.dropdown_popup[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{padding-left:5px}.unlock-price-link[_ngcontent-%COMP%]{font-size:13px;font-weight:600;color:#9a1c1f;float:right}  .ngx-pagination{display:flex}  .ngx-pagination li{margin:2px 5px!important;border:none;border-radius:25px;background-color:transparent;color:#000;font-weight:500;min-width:35px;display:inline-block;align-items:center;justify-content:center;height:35px;text-align:center;vertical-align:middle}  .ngx-pagination li a,   .ngx-pagination li.current span,   .ngx-pagination li.pagination-previous a,   .ngx-pagination li.pagination-next a{width:100%;height:100%;display:flex;align-items:center;justify-content:center}  .ngx-pagination .pagination-previous a:before,   .ngx-pagination .pagination-previous.disabled:before,   .ngx-pagination .pagination-next a:before,   .ngx-pagination .pagination-next.disabled:before{margin-right:.2rem}  .ngx-pagination li.current{background-color:#000;color:#fff;border-radius:50%}  .ngx-pagination li.pagination-previous,   .ngx-pagination li.pagination-next{border:solid 1px #000000;color:#000;border-radius:25px!important}  .ngx-pagination li.pagination-previous.disabled,   .ngx-pagination li.pagination-next.disabled{border:solid 1px #858585;color:#858585;border-radius:25px!important}  .ngx-pagination li a:hover{background-color:#fff0}  .ngx-pagination .pagination-previous,   .ngx-pagination .pagination-next{width:120px}"]}),d})()},{path:"details",component:se},{path:"history",component:A},{path:"history-details",component:ge}];let at=(()=>{var o;class d{}return(o=d).\u0275fac=function(l){return new(l||o)},o.\u0275mod=e.oAB({type:o}),o.\u0275inj=e.cJS({imports:[i.Bz.forChild(rt),i.Bz]}),d})();var st=Z(324),lt=Z(7097),ct=Z(7413);let dt=(()=>{var o;class d{}return(o=d).\u0275fac=function(l){return new(l||o)},o.\u0275mod=e.oAB({type:o}),o.\u0275inj=e.cJS({imports:[P.ez,at,st.HeaderModule,lt.HomePagesModule,Q.u5,ct.ProfilePagesModule,Q.UX,E.JX]}),d})()},1940:(Me,R,Z)=>{Z.d(R,{p:()=>V});var P=Z(4769),i=Z(9862),M=Z(2021);let e,V=(()=>{var N;class W{constructor(j,X){this.http=j,this.util=X,this.orderComplete=!1,this.getCarModels=()=>(this.util.activeUrl=1,this.http.get("/api/public/car-model",{headers:e})),this.getBrands=()=>this.http.get("/api/brands",{headers:e}),this.getServiceCategory=()=>this.http.get("/api/categories",{headers:e}),this.getAllPackages=(y=void 0)=>this.http.get(y?`/api/package${y}`:"/api/package",{headers:e}),this.getAllPackagesPrice=()=>this.http.get("/api/package-price",{headers:e}),this.getPackagePricesByQuery=(y,B,Y)=>this.http.get(`/api/package-price?modelId=${y}&cityId=${B}&fuelType=${Y}`,{headers:e}),this.addToCartService=(y,B)=>(this.util.activeUrl=2,this.http.post(`/api/shopping-cart/${y}/modify`,B,{headers:e})),this.getActiveCartService=y=>(this.util.activeUrl=2,this.http.get(`/api/shopping-cart/${y}/active`,{headers:e})),this.updateActiveCartService=(y,B)=>(this.util.activeUrl=2,this.http.patch(`/api/shopping-cart/${y}/modify`,B,{headers:e})),this.createOrderService=(y,B)=>(this.util.activeUrl=2,this.http.post(`/api/order/${y}/modify`,B,{headers:e})),this.panelPriceLoading=(y,B,Y,se)=>(this.util.activeUrl=1,this.http.get(`/api/panel-price/public/filters?modelId=${y}&cityId=${B}&fuelType=${Y}`,{headers:e})),this.getActiveOrderDetailService=y=>(this.util.activeUrl=2,this.http.get(`/api/order/${y}/me`,{headers:e})),this.updateTimeLineOrder=(y,B,Y)=>(this.util.activeUrl=2,this.http.post(`/api/order/${y}/${B}/timeline`,Y,{headers:e})),this.getAddOnList=()=>(this.util.activeUrl=1,this.http.get("/api/grade",{headers:e})),this.getTypeOfWork=()=>(this.util.activeUrl=1,this.http.get("/api/type-of-works",{headers:e})),this.getAllOrderDetails=y=>(this.util.activeUrl=2,this.http.get(`/api/order?userId=${y}`,{headers:e})),this.getServicesLists=(y,B)=>y?.map(Y=>Y.name).join(B),e=this.util.getHttpHeaders()}}return(N=W).\u0275fac=function(j){return new(j||N)(P.LFG(i.eN),P.LFG(M.fK))},N.\u0275prov=P.Yz7({token:N,factory:N.\u0275fac,providedIn:"root"}),W})()},5525:(Me,R,Z)=>{Z.d(R,{W:()=>he});var P=Z(5861),i=Z(4769),M=Z(6223),e=Z(1120),V=Z(4165),N=Z(2425),W=Z(1940),K=Z(8097),j=Z(6814);function X(f,q){if(1&f){const c=i.EpF();i.TgZ(0,"div",36),i.NdJ("click",function(){i.CHM(c);const T=i.oxw().$implicit,E=i.oxw();return i.KtG(E.removeServiceFromCartList(T))}),i._UZ(1,"i",19),i.qZA()}}function y(f,q){if(1&f&&(i.TgZ(0,"div",37),i._uU(1),i.qZA()),2&f){const c=i.oxw().$implicit;i.xp6(1),i.hij(" ",null==c||null==c.carPanel||null==c.carPanel.part?null:c.carPanel.part.name," ")}}function B(f,q){if(1&f&&(i.TgZ(0,"div",37),i._uU(1),i.qZA()),2&f){const c=i.oxw().$implicit;i.xp6(1),i.hij(" Addon - ",null==c||null==c.addons||null==c.addons.gradeList?null:c.addons.gradeList.oilName," ")}}function Y(f,q){if(1&f&&(i.TgZ(0,"div",38),i._uU(1),i.qZA()),2&f){const c=i.oxw().$implicit;i.xp6(1),i.hij(" \u20b9",null!=c&&null!=c.addons&&c.addons.slashedPrice?(null==c?null:c.slashedPrice)+(null==c||null==c.addons?null:c.addons.slashedPrice):null==c?null:c.slashedPrice," ")}}function se(f,q){if(1&f&&(i.TgZ(0,"div",38),i._uU(1),i.qZA()),2&f){const c=i.oxw().$implicit;i.xp6(1),i.hij(" \u20b9",null!=c&&null!=c.addons&&c.addons.slashedPrice?(null==c?null:c.price)+(null==c||null==c.addons?null:c.addons.slashedPrice):null==c?null:c.price," ")}}function ie(f,q){if(1&f&&(i.TgZ(0,"div",39)(1,"span",40),i._uU(2),i.qZA(),i.TgZ(3,"span",41),i._uU(4),i.qZA()()),2&f){const c=i.oxw().$implicit,A=i.oxw();i.xp6(2),i.hij(" \u20b9",null!=c&&null!=c.addons&&c.addons.price?(null==c?null:c.price)+(null==c||null==c.addons?null:c.addons.price):null==c?null:c.price," "),i.xp6(2),i.Oqu(A.calculatePercentageBy2Numbers(null!=c&&c.price?null==c?null:c.price:0+(null==c||null==c.addons?null:c.addons.price)?c.addons.price:0,null!=c&&c.slashedPrice?c.slashedPrice:0+(null==c||null==c.addons?null:c.addons.slashedPrice)?c.addons.slashedPrice:0))}}function z(f,q){if(1&f&&(i.ynx(0),i.TgZ(1,"div",28),i.YNc(2,X,2,0,"div",29),i.TgZ(3,"div",30)(4,"div",31),i._uU(5),i.qZA(),i.YNc(6,y,2,1,"div",32),i.YNc(7,B,2,1,"div",32),i.qZA(),i.TgZ(8,"div",33),i.YNc(9,Y,2,1,"div",34),i.YNc(10,se,2,1,"div",34),i.YNc(11,ie,5,2,"div",35),i.qZA()(),i.BQk()),2&f){const c=q.$implicit,A=i.oxw();i.xp6(2),i.Q6J("ngIf",!A.packageCloseBtn),i.xp6(3),i.hij(" ",null==c?null:c.name," "),i.xp6(1),i.Q6J("ngIf",(null==c?null:c.panelId)&&(null==c?null:c.typeOfWorkId)),i.xp6(1),i.Q6J("ngIf",null==c||null==c.addons||null==c.addons.gradeList?null:c.addons.gradeList.oilName),i.xp6(2),i.Q6J("ngIf",null==c?null:c.slashedPrice),i.xp6(1),i.Q6J("ngIf",!(null!=c&&c.slashedPrice)),i.xp6(1),i.Q6J("ngIf",!A.packageCloseBtn&&(null==c?null:c.slashedPrice))}}const ce=function(f){return{active_address_blk:f}};function de(f,q){if(1&f){const c=i.EpF();i.ynx(0),i.TgZ(1,"div",43),i.NdJ("click",function(){const E=i.CHM(c).$implicit,oe=i.oxw(2);return i.KtG(oe.paymentMethodChange(E))}),i.TgZ(2,"div",44),i._UZ(3,"input",45),i.qZA(),i.TgZ(4,"div",46)(5,"div",47),i._uU(6),i.qZA()()(),i.BQk()}if(2&f){const c=q.$implicit,A=i.oxw(2);i.xp6(1),i.Q6J("ngClass",i.VKq(4,ce,(null==A.orderParams||null==A.orderParams.orderMeta?null:A.orderParams.orderMeta.preferredPaymentMethod)===c)),i.xp6(2),i.Q6J("name",c)("checked",(null==A.orderParams||null==A.orderParams.orderMeta?null:A.orderParams.orderMeta.preferredPaymentMethod)===c),i.xp6(3),i.Oqu(c)}}const _e=function(f){return{"payment-error":f}};function ge(f,q){if(1&f&&(i.TgZ(0,"div",42)(1,"span",6),i._uU(2,"Preferred payment method"),i.qZA(),i.YNc(3,de,7,6,"ng-container",3),i.qZA()),2&f){const c=i.oxw();i.Q6J("ngClass",i.VKq(2,_e,c.paymentError)),i.xp6(3),i.Q6J("ngForOf",c.paymentMethodList)}}function Q(f,q){if(1&f){const c=i.EpF();i.TgZ(0,"div",48),i.NdJ("click",function(){i.CHM(c);const T=i.oxw();return i.KtG(T.navigateToUrl("/bookings/details"))}),i._uU(1," Proceed "),i.qZA()}}function pe(f,q){if(1&f){const c=i.EpF();i.TgZ(0,"div",48),i.NdJ("click",function(){i.CHM(c);const T=i.oxw();return i.KtG(T.checkForVehicleInfo())}),i._uU(1," Complete Booking "),i.qZA()}}function ue(f,q){if(1&f){const c=i.EpF();i.TgZ(0,"div",48),i.NdJ("click",function(){i.CHM(c);const T=i.oxw();return i.KtG(T.checkout())}),i._uU(1," Checkout "),i.qZA()}}let he=(()=>{var f;class q{constructor(A,T,E,oe,me,ve){var p=this;this.router=A,this.bookingService=T,this.toastr=E,this.orderService=oe,this.homeService=me,this.formBuilder=ve,this.servicesList=[],this.servicesListFiltered=[],this.packagePrice=[],this.selectedPackagePriceList=[],this.filteredPackageList=[],this.showDropdown=0,this.selectedCarModel=" Select Car model",this.selectedService={name:"Select Service"},this.modelSearchTerm="",this.carsFiltered=[],this.modelsList=[],this.service=[],this.selectedPanelList=[],this.addOnList=[],this.filteredAddonList=[],this.serviceSearchTerm="",this.typeOfWorkList=[],this.displayAddOns="none",this.display="none",this.showModal=!1,this.gradeList=[],this.selectedPackageList={addons:null},this.paymentError=!1,this.paymentMethodList=["Credit Card","Debit Card","Net Banking","UPI","Cash on Delivery"],this.packageCloseBtn=!1,this.buttonClicked=new i.vpe,this.clicked=!1,this.navigateToUrl=u=>{this.router.navigate([u])},this.getSelectedPackages=(0,P.Z)(function*(){try{const u=yield p.bookingService.getPackagePricesByQuery(p.modelId,p.cityId,p.fuelType).toPromise();u&&(p.selectedPackagePriceList=u)}catch{}}),this.closeModal=()=>{this.showModal=!1,this.displayAddOns="none",this.display="none"},this.startDragging=u=>{setTimeout(()=>{},10)},this.selectModel=u=>{this.selectedCarModel=`${u.brand?.name} ${u.name}`,sessionStorage.setItem("modelId",u.id),this.showDropdown=0},this.selectService=u=>{this.selectedService=u,sessionStorage.setItem("packageId",u.id),this.showDropdown=0},this.matches=(u,k)=>u.name?.toLowerCase().includes(k.toLowerCase()),this.searchModel=u=>{this.carsFiltered=this.modelsList.filter(k=>this.matches(k,u))},this.searchService=u=>{this.servicesListFiltered=this.servicesList.filter(k=>this.matches(k,u))},this.dropdownHideAndShow=u=>{this.showDropdown=this.showDropdown==u?0:u},this.loadData=(0,P.Z)(function*(){try{p.getAddOnList();const u=yield p.bookingService.getCarModels().toPromise();if(u&&(p.modelsList=u,p.carsFiltered=p.modelsList,p.modelId)){const w=u.filter(U=>U.id===Number(p.modelId));p.selectedCarModel=w.length?`${w[0]?.brand?.name} ${w[0]?.name}`:""}const k=yield p.bookingService.getServiceCategory().toPromise();if(k&&(p.servicesList=k,p.servicesListFiltered=p.servicesList,p.packageId)){const w=k.filter(U=>U.id===Number(p.packageId));p.selectedService=w.length?w[0]:null}}catch{}}),this.getActiveCartData=(0,P.Z)(function*(){if(localStorage.getItem("loggedIn")){const k=localStorage.getItem("customerId");try{const w=yield p.bookingService.getActiveCartService(k).toPromise();w?.id&&(p.activeCartList=w)}catch{}}}),this.calculatePercentage=u=>{const k=u?.slashedPrice&&u?.price&&u.price>u.slashedPrice?Math.round((u.price-u.slashedPrice)/u.price*1e4)/100:null;return k?`${k} % off`:""},this.calculatePercentageBy2Numbers=(u,k)=>{const w=k&&u&&u>k?Math.round((u-k)/u*1e4)/100:null;return w?`${w} % off`:""},this.getActiveService=()=>{const u=sessionStorage.getItem("packageId"),k=this.servicesListFiltered?.filter(w=>w.id===Number(u));return k.length?k[0].name:""},this.getAddOnList=(0,P.Z)(function*(){if(localStorage.getItem("loggedIn")){localStorage.getItem("customerId");try{const U=yield p.bookingService.getAddOnList().toPromise();U?.length&&(p.gradeList=U)}catch{}}}),this.getPackageWorksTypes=u=>{const k=this.typeOfWorkList?.filter(w=>w.id===u);return k?.length?k[0].name:""},this.calculateGST=u=>{const k=.18*Number(u);return Math.round(100*k)/100},this.parseInt=u=>Number(u),this.validationAndCheckout=(0,P.Z)(function*(){p.vehicleForm.valid?(p.modalVehicle.hide(),p.orderParams.orderMeta.vehicleNumber=p.form.vehicleNumber.value,p.orderParams.orderMeta.chasisNumber=p.form.chasisNumber.value,p.orderParams.vehicleNumber=p.form.vehicleNumber.value,p.orderParams.chasisNumber=p.form.chasisNumber.value,p.checkout()):p.form.vehicleNumber.valid?p.form.chasisNumber.valid?!p.form.chasisNumber.valid&&!p.form.vehicleNumber.valid&&p.toastr.error("Enter valid Vehicle and Chassis numbers"):p.toastr.error("Enter a valid Chassis Number"):p.toastr.error("Enter a valid Vehicle Number")}),this.checkout=(0,P.Z)(function*(){let k;if(localStorage.getItem("loggedIn")){const w=sessionStorage.getItem("modelId"),U=yield p.homeService.getCarModels(w,"id").toPromise(),ee=U?.length?{id:U[0]?.id,name:`${U[0]?.brand?.name} ${U[0]?.name}`,logoUrl:U[0]?.sizedPhoto,brandId:U[0]?.brand?.id,vehicleVarient:sessionStorage.getItem("fuelType")}:null,re=localStorage.getItem("customerId"),fe=[{title:"Order processed",updationTime:(new Date).toISOString()}],ke=p.packageCloseBtn?JSON.parse(sessionStorage.getItem("estimate")||"[]"):null,{orderMeta:$,paymentTotal:ae,id:Ze,chasisNumber:Ce,vehicleNumber:Te}=p.orderParams;if($.freeEstimate=ke,$.vehicleData=ee||null,!$.address&&!p.packageCloseBtn)return void p.toastr.error("Please select Address");if(!$.selectedDate&&!p.packageCloseBtn)return void p.toastr.error("Please select pickup date");if(!$.selectedSlot&&!p.packageCloseBtn)return void p.toastr.error("Please select pickup time");if(!$.preferredPaymentMethod&&!p.packageCloseBtn)return p.paymentError=!0,void p.toastr.error("Please select preferred payment method");const we=Number(ae)+p.calculateGST(ae);$.gstAmount=p.calculateGST(ae),k={orderMeta:$,paymentTotal:we,status:"awaiting-confirmation",cartId:Ze,timeline:fe,vehicleNumber:Te,chasisNumber:Ce};try{const te=yield p.bookingService.createOrderService(re,k).toPromise();te&&!p.packageCloseBtn?(localStorage.setItem("orderDetails",JSON.stringify(te)),p.orderService.orderComplete=!0,p.navigateToUrl("/bookings")):p.navigateToUrl("/free-estimate")}catch{}}}),this.calculateTotal=u=>{const k=this.calculateGST(u),w=Number(u)+k;return Math.round(100*w)/100},this.removeServiceFromCartList=u=>{const{orderMeta:k,userId:w,status:U}=this.activeCartList,{package:ee}=k,re=this.bookingService.removeServiceFromCart(u,ee,w,U);this.addOrUpdateToCart(w,re)},this.addOrUpdateToCart=function(){var u=(0,P.Z)(function*(k,w){try{const U=yield p.bookingService.addToCartService(k,w).toPromise();U?.id&&(p.activeCartList=U,U?.orderMeta?.package?.length?sessionStorage.setItem("cart","true"):sessionStorage.setItem("cart","false"),p.buttonClicked.emit(!0))}catch{}});return function(k,w){return u.apply(this,arguments)}}(),this.paymentMethodChange=(u="")=>{const{orderMeta:k}=this.orderParams;k.preferredPaymentMethod=""!==u?u:null,this.paymentError=!1},this.checkForVehicleInfo=()=>{this.orderParams?.vehicleNumber&&this.orderParams?.chasisNumber&&this.orderParams?.orderMeta?.vehicleNumber&&this.orderParams?.orderMeta?.chasisNumber?this.checkout():(this.modalVehicle&&this.modalVehicle.dispose(),this.modalVehicle=new window.bootstrap.Modal(document.getElementById("ModalVehicle")),this.modalVehicle.show())},this.addVehicleData=()=>{}}ngOnInit(){this.packageId=sessionStorage.getItem("packageId"),this.modelId=sessionStorage.getItem("modelId"),this.cityId=localStorage.getItem("cityId"),this.fuelType=sessionStorage.getItem("fuelType"),this.getActiveCartData(),this.loadData(),this.vehicleForm=this.formBuilder.group({vehicleNumber:["",[M.kI.required,M.kI.pattern("^(?! )[0-9A-Z- ]{8,}$")]],chasisNumber:["",[M.kI.required,M.kI.pattern("^(?! )[0-9A-Z- ]{8,}$")]]})}get form(){return this.vehicleForm.controls}}return(f=q).\u0275fac=function(A){return new(A||f)(i.Y36(e.F0),i.Y36(V.F),i.Y36(N._W),i.Y36(W.p),i.Y36(K.E),i.Y36(M.qu))},f.\u0275cmp=i.Xpm({type:f,selectors:[["app-selected-packages"]],inputs:{activeCartList:"activeCartList",page:"page",orderParams:"orderParams",packageCloseBtn:"packageCloseBtn"},outputs:{buttonClicked:"buttonClicked"},decls:54,vars:9,consts:[[1,"cart_main_wpr"],[1,"card_title"],[1,"cart_wpr"],[4,"ngFor","ngForOf"],["class","preffered-payment-method",3,"ngClass",4,"ngIf"],[1,"row_info"],[1,"title_info"],[1,"title_val"],[1,"row_info","head"],[1,"btn_wpr"],["class","btn_action",3,"click",4,"ngIf"],["id","ModalVehicle","role","dialog",1,"modal","fade"],[1,"modal-dialog","modal-md"],[3,"formGroup"],[1,"modal-content"],[1,"modal-login-popup-wpr"],[1,"m-header"],[1,"close-btn",3,"click"],["type","button","data-dismiss","modal",1,"close"],[1,"fa","fa-close"],[1,"login-form-wpr"],[1,"input-group-wpr"],[1,"input-phone-wpr","mb-3"],["type","text","id","mobile_code","placeholder","Vehicle Number","formControlName","vehicleNumber","name","name",1,"input-txt"],[1,"input-phone-wpr"],["type","text","id","mobile_code","placeholder","Chassis Number","formControlName","chasisNumber","name","name",1,"input-txt"],[1,"m-btn-wpr"],[1,"btn-submit",3,"click"],[1,"cart_row"],["class","remove_btn",3,"click",4,"ngIf"],[1,"col_left"],[1,"title"],["class","desc_title",4,"ngIf"],[1,"col_right"],["class","amount",4,"ngIf"],["class","amount_offer_wpr",4,"ngIf"],[1,"remove_btn",3,"click"],[1,"desc_title"],[1,"amount"],[1,"amount_offer_wpr"],[1,"amount_offer"],[1,"offer_per"],[1,"preffered-payment-method",3,"ngClass"],[1,"address_blk",3,"ngClass","click"],[1,"sel_blk"],["type","radio",3,"name","checked"],[1,"address_text"],[1,"title_name"],[1,"btn_action",3,"click"]],template:function(A,T){1&A&&(i.TgZ(0,"div",0)(1,"h2",1),i._uU(2,"Selected Packages"),i.qZA(),i.TgZ(3,"div",2),i.YNc(4,z,12,7,"ng-container",3),i.qZA(),i.TgZ(5,"h2",1),i._uU(6,"Payment Details"),i.qZA(),i.YNc(7,ge,4,4,"div",4),i.TgZ(8,"div",5)(9,"span",6),i._uU(10,"Sub Total"),i.qZA(),i.TgZ(11,"span",7),i._uU(12),i.qZA()(),i.TgZ(13,"div",5)(14,"span",6),i._uU(15,"GST (18%)"),i.qZA(),i.TgZ(16,"span",7),i._uU(17),i.qZA()(),i._UZ(18,"hr"),i.TgZ(19,"div",8)(20,"span",6),i._uU(21,"Total Price"),i.qZA(),i.TgZ(22,"span",7),i._uU(23),i.qZA()(),i.TgZ(24,"div",9),i.YNc(25,Q,2,0,"div",10),i.YNc(26,pe,2,0,"div",10),i.YNc(27,ue,2,0,"div",10),i.qZA()(),i.TgZ(28,"div",11)(29,"div",12)(30,"form",13)(31,"div",14)(32,"div",15)(33,"div",16)(34,"div",17),i.NdJ("click",function(){return T.modalVehicle.hide()}),i.TgZ(35,"button",18),i._UZ(36,"i",19),i.qZA()()(),i.TgZ(37,"div",20)(38,"div",21)(39,"h2"),i._uU(40," Enter your "),i._UZ(41,"br"),i._uU(42," Vehicle details "),i.qZA(),i.TgZ(43,"div",22)(44,"small"),i._uU(45,"Vehicle Number"),i.qZA(),i._UZ(46,"input",23),i.qZA(),i.TgZ(47,"div",24)(48,"small"),i._uU(49,"Chassis Number"),i.qZA(),i._UZ(50,"input",25),i.qZA(),i.TgZ(51,"div",26)(52,"div",27),i.NdJ("click",function(){return T.validationAndCheckout()}),i._uU(53," Continue "),i.qZA()()()()()()()()()),2&A&&(i.xp6(4),i.Q6J("ngForOf",null==T.activeCartList||null==T.activeCartList.orderMeta?null:T.activeCartList.orderMeta.package),i.xp6(3),i.Q6J("ngIf",T.orderParams&&!T.packageCloseBtn),i.xp6(5),i.hij("\u20b9",null==T.activeCartList?null:T.activeCartList.paymentTotal,""),i.xp6(5),i.hij("\u20b9",T.calculateGST(null==T.activeCartList?null:T.activeCartList.paymentTotal),""),i.xp6(6),i.hij("\u20b9",T.calculateTotal(null==T.activeCartList?null:T.activeCartList.paymentTotal),""),i.xp6(2),i.Q6J("ngIf","booking"===T.page),i.xp6(1),i.Q6J("ngIf","booking-detail"===T.page),i.xp6(1),i.Q6J("ngIf","free-estimate"===T.page),i.xp6(3),i.Q6J("formGroup",T.vehicleForm))},dependencies:[j.mk,j.sg,j.O5,M._Y,M.Fj,M.JJ,M.JL,M.sg,M.u],styles:[".col-search-blk.active[_ngcontent-%COMP%]   .dropdown_popup.show[_ngcontent-%COMP%], .show[_ngcontent-%COMP%]{display:block;z-index:2;animation:animate_dropdown linear .2s;animation-iteration-count:1;transition:.3s;-moz-transition:.3s;-webkit-transition:.3s;-o-transition:.3s;-ms-transition:.3s}.full-description[_ngcontent-%COMP%]{max-height:100%}.arrow-right[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center}.backdrop[_ngcontent-%COMP%]{background-color:#0009;position:fixed;top:0;left:0;width:100vw;height:100vh;z-index:1000;animation:animate_dropdown linear .2s;animation-iteration-count:1;transition:.3s;-moz-transition:.3s;-webkit-transition:.3s;-o-transition:.3s;-ms-transition:.3s}#ModalOTP[_ngcontent-%COMP%]{z-index:1000}.addon-head[_ngcontent-%COMP%]{font-size:1.5rem;line-height:2rem;text-align:center;font-weight:600;padding-left:1.25rem;padding-right:1.25rem;width:100%;margin-top:0!important}.services_card_wpr[_ngcontent-%COMP%]{position:relative}.services_card_wpr.active[_ngcontent-%COMP%]{border-color:#1c0293!important}.recomended[_ngcontent-%COMP%]{--tw-text-opacity: 1;color:#fff;font-weight:600;--tw-gradient-to: #f27a21 var(--tw-gradient-to-position);--tw-gradient-from: #ffb075 var(--tw-gradient-from-position);--tw-gradient-to: rgba(255, 176, 117, 0) var(--tw-gradient-to-position);--tw-gradient-stops: var(--tw-gradient-from), var(--tw-gradient-to);background-image:linear-gradient(to bottom,var(--tw-gradient-stops));z-index:20;position:absolute;left:0;margin-left:-.5rem;margin-top:0;display:flex;background:#ff0000}.recomended[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:12px}#modalAddOn[_ngcontent-%COMP%]{z-index:1000}#modalAddOn[_ngcontent-%COMP%]   .footer[_ngcontent-%COMP%]{display:flex;width:100%;justify-content:space-between;padding:10px}.select-service-head[_ngcontent-%COMP%]{display:flex;flex-direction:column}.select-service-price[_ngcontent-%COMP%]{font-size:.875rem;line-height:1.25rem;font-weight:600}.select-service-price[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:.75rem;line-height:1rem;font-weight:400}#modalAddOn[_ngcontent-%COMP%]   .footer[_ngcontent-%COMP%]   .select-service[_ngcontent-%COMP%]{font-size:1.5rem;line-height:2rem;font-weight:600}.preffered-payment-method[_ngcontent-%COMP%]{padding:10px 0;float:left}.address_blk[_ngcontent-%COMP%]{width:auto;min-width:100px;float:left;border:solid 1px #d3d3d3;border-radius:7px;padding:5px 10px;display:flex;margin:5px;align-items:center}.active_address_blk[_ngcontent-%COMP%]{border:solid 1px #0075ff}.title_name[_ngcontent-%COMP%]{font-size:11px}.active_address_blk[_ngcontent-%COMP%]   .title_name[_ngcontent-%COMP%]{font-weight:600;color:#0075ff}.sel_blk[_ngcontent-%COMP%]{width:auto;float:left;margin-right:4px}.payment-error[_ngcontent-%COMP%]   .title_info[_ngcontent-%COMP%], .payment-error[_ngcontent-%COMP%]   .address_blk[_ngcontent-%COMP%]{color:red}.payment-error[_ngcontent-%COMP%]   .address_blk[_ngcontent-%COMP%], .payment-error[_ngcontent-%COMP%]   input[type=radio][_ngcontent-%COMP%]{border:1px solid #ff0000}.preffered-payment-method[_ngcontent-%COMP%]   .title_info[_ngcontent-%COMP%]{font-size:13px;font-weight:600}#ModalVehicle[_ngcontent-%COMP%]{position:fixed;z-index:1051}"]}),q})()}}]);