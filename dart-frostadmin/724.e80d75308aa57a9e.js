"use strict";(self.webpackChunkskote=self.webpackChunkskote||[]).push([[724],{55724:(Gi,pe,b)=>{b.r(pe),b.d(pe,{SettingsModule:()=>B});var h=b(36895),ie=b(85892),_=b(15861),p=b(24006),xe=b(35226),v=b.n(xe),me=b(16119),e=b(94650);const Ae={asc:"desc",desc:"","":"asc"};class F{constructor(){this.sortable="",this.direction="",this.sort=new e.vpe}rotate(){this.direction=Ae[this.direction],this.sort.emit({column:this.sortable,direction:this.direction})}}F.\u0275fac=function(a){return new(a||F)},F.\u0275dir=e.lG2({type:F,selectors:[["th","sortable",""]],hostVars:4,hostBindings:function(a,t){1&a&&e.NdJ("click",function(){return t.rotate()}),2&a&&e.ekj("asc","asc"===t.direction)("desc","desc"===t.direction)},inputs:{sortable:"sortable",direction:"direction"},outputs:{sort:"sort"}});var x=b(20388),C=b(6162),A=b(29234),w=b(18987),y=b(32521),S=b(90702);function ke(o,a){1&o&&e._UZ(0,"app-loader")}function Pe(o,a){1&o&&(e.ynx(0),e.TgZ(1,"tr")(2,"td",23),e._uU(3,"No Cities list."),e.qZA()(),e.BQk())}function Ue(o,a){if(1&o){const t=e.EpF();e.TgZ(0,"tr")(1,"td"),e._uU(2),e.qZA(),e.TgZ(3,"td"),e._uU(4),e.qZA(),e.TgZ(5,"td"),e._uU(6),e.qZA(),e.TgZ(7,"td"),e._UZ(8,"img",24),e.qZA(),e.TgZ(9,"td")(10,"div",25)(11,"input",26),e.NdJ("ngModelChange",function(n){const l=e.CHM(t).index,s=e.oxw();return e.KtG(s.statusBoolean[(s.currentPage-1)*s.itemsPerPage+l]=n)})("click",function(){const n=e.CHM(t),i=n.$implicit,l=n.index,s=e.oxw();return e.KtG(s.updateStatus(i,(s.currentPage-1)*s.itemsPerPage+l))}),e.qZA()()(),e.TgZ(12,"td")(13,"div",27)(14,"a",28),e.NdJ("click",function(){const i=e.CHM(t).$implicit,l=e.oxw(),s=e.MAs(38);return e.KtG(l.editDataGet(null==i?null:i.id,s))}),e._UZ(15,"i",29),e.qZA(),e.TgZ(16,"a",30),e.NdJ("click",function(){const i=e.CHM(t).$implicit,l=e.oxw();return e.KtG(l.delete(null==i?null:i.id))}),e._UZ(17,"i",31),e.qZA()()()()}if(2&o){const t=a.$implicit,r=a.index,n=e.oxw();e.xp6(2),e.Oqu((n.currentPage-1)*n.itemsPerPage+r+1),e.xp6(2),e.Oqu(null==t?null:t.name),e.xp6(2),e.Oqu(null==t?null:t.stateName),e.xp6(2),e.s9C("src",null==t?null:t.logoUrl,e.LSH),e.xp6(3),e.Q6J("ngModel",n.statusBoolean[(n.currentPage-1)*n.itemsPerPage+r])}}function qe(o,a){if(1&o){const t=e.EpF();e.TgZ(0,"div",32)(1,"h5",33),e._uU(2,"City Details"),e.qZA(),e.TgZ(3,"button",34),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(null==n.modalRef?null:n.modalRef.hide())}),e.qZA()(),e.TgZ(4,"div",35)(5,"p",36),e._uU(6," Product id: "),e.TgZ(7,"span",37),e._uU(8,"#SK2540"),e.qZA()(),e.TgZ(9,"p",38),e._uU(10," Billing Name: "),e.TgZ(11,"span",37),e._uU(12,"Neal Matthews"),e.qZA()(),e.TgZ(13,"div",39)(14,"table",14)(15,"thead")(16,"tr")(17,"th",40),e._uU(18,"Product"),e.qZA(),e.TgZ(19,"th",40),e._uU(20,"Product Name"),e.qZA(),e.TgZ(21,"th",40),e._uU(22,"Price"),e.qZA()()(),e.TgZ(23,"tbody")(24,"tr")(25,"th",41)(26,"div"),e._UZ(27,"img",42),e.qZA()(),e.TgZ(28,"td")(29,"div")(30,"h5",43),e._uU(31," Wireless Headphone (Black) "),e.qZA(),e.TgZ(32,"p",44),e._uU(33,"$ 225 x 1"),e.qZA()()(),e.TgZ(34,"td"),e._uU(35,"$ 255"),e.qZA()(),e.TgZ(36,"tr")(37,"th",41)(38,"div"),e._UZ(39,"img",45),e.qZA()(),e.TgZ(40,"td")(41,"div")(42,"h5",43),e._uU(43," Phone patterned cases "),e.qZA(),e.TgZ(44,"p",44),e._uU(45,"$ 145 x 1"),e.qZA()()(),e.TgZ(46,"td"),e._uU(47,"$ 145"),e.qZA()(),e.TgZ(48,"tr")(49,"td",46)(50,"h6",47),e._uU(51,"Sub Total:"),e.qZA()(),e.TgZ(52,"td"),e._uU(53,"$ 400"),e.qZA()(),e.TgZ(54,"tr")(55,"td",46)(56,"h6",47),e._uU(57,"Shipping:"),e.qZA()(),e.TgZ(58,"td"),e._uU(59,"Free"),e.qZA()(),e.TgZ(60,"tr")(61,"td",46)(62,"h6",47),e._uU(63,"Total:"),e.qZA()(),e.TgZ(64,"td"),e._uU(65,"$ 400"),e.qZA()()()()()(),e.TgZ(66,"div",48)(67,"button",49),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(null==n.modalRef?null:n.modalRef.hide())}),e._uU(68,"Close"),e.qZA()()}}function we(o,a){1&o&&(e.TgZ(0,"div"),e._uU(1," City Name is required "),e.qZA())}function Se(o,a){if(1&o&&(e.TgZ(0,"div",68),e.YNc(1,we,2,0,"div",0),e.qZA()),2&o){const t=e.oxw(2);e.xp6(1),e.Q6J("ngIf",t.form.name.errors.required)}}function Me(o,a){}function Ne(o,a){1&o&&(e.TgZ(0,"div"),e._uU(1," State is required "),e.qZA())}function Ie(o,a){if(1&o&&(e.TgZ(0,"div",68),e.YNc(1,Ne,2,0,"div",0),e.qZA()),2&o){const t=e.oxw(2);e.xp6(1),e.Q6J("ngIf",t.form.stateName.errors.required)}}function Le(o,a){if(1&o){const t=e.EpF();e.TgZ(0,"input",69),e.NdJ("change",function(n){e.CHM(t);const i=e.oxw(2);return e.KtG(i.onAccept(n))}),e.qZA()}}function Be(o,a){if(1&o){const t=e.EpF();e.TgZ(0,"div",70)(1,"button",71),e.NdJ("click",function(){e.CHM(t);const n=e.oxw(2);return e.KtG(n.removeImage())}),e.TgZ(2,"span"),e._uU(3,"\xd7"),e.qZA()(),e._UZ(4,"img",72),e.qZA()}if(2&o){const t=e.oxw(2);e.xp6(4),e.s9C("src",t.form.logoUrl.value,e.LSH)}}const _e=function(o){return{"is-invalid":o}};function Je(o,a){if(1&o){const t=e.EpF();e.TgZ(0,"div",32)(1,"h5",50),e._uU(2,"Add/Edit City"),e.qZA(),e.TgZ(3,"button",51),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(null==n.modalRef?null:n.modalRef.hide())}),e.qZA()(),e.TgZ(4,"form",52),e.NdJ("ngSubmit",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.saveCity())}),e.TgZ(5,"div",35),e._UZ(6,"input",53),e.TgZ(7,"div",54)(8,"label",55),e._uU(9,"City Name"),e.qZA(),e._UZ(10,"input",56),e.YNc(11,Se,2,1,"div",57),e.qZA(),e.TgZ(12,"div",54)(13,"label",58),e._uU(14,"State"),e.qZA(),e.TgZ(15,"ng-select",59),e.YNc(16,Me,0,0,"ng-template",60),e.qZA(),e.YNc(17,Ie,2,1,"div",57),e.qZA(),e.TgZ(18,"div",54)(19,"label",61),e._uU(20,"Status"),e.qZA(),e.TgZ(21,"div",25)(22,"input",62),e.NdJ("change",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.activeStatus=!n.activeStatus)}),e.qZA()()(),e.TgZ(23,"div",54)(24,"label",61),e._uU(25,"City Icon"),e.qZA(),e._UZ(26,"br"),e.YNc(27,Le,1,0,"input",63),e.YNc(28,Be,5,1,"div",64),e.qZA()(),e.TgZ(29,"div",48)(30,"div",65)(31,"button",66),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(null==n.modalRef?null:n.modalRef.hide())}),e._uU(32," Close "),e.qZA(),e.TgZ(33,"button",67),e._uU(34,"Save"),e.qZA()()()()}if(2&o){const t=e.oxw();e.xp6(4),e.Q6J("formGroup",t.cityAddForm),e.xp6(6),e.Q6J("ngClass",e.VKq(9,_e,t.submitted&&t.form.name.errors)),e.xp6(1),e.Q6J("ngIf",t.submitted&&t.form.name.errors),e.xp6(4),e.Q6J("items",t.states)("ngClass",e.VKq(11,_e,t.submitted&&t.form.stateName.errors)),e.xp6(2),e.Q6J("ngIf",t.submitted&&t.form.stateName.errors),e.xp6(5),e.Q6J("checked",t.activeStatus),e.xp6(5),e.Q6J("ngIf",t.upload),e.xp6(1),e.Q6J("ngIf",!t.upload)}}class G{constructor(a,t,r,n){var i=this;this.modalService=a,this.service=t,this.formBuilder=r,this.utilService=n,this.submitted=!1,this.image="",this.file="",this.citiesList=[],this.slicedCitiesList=[],this.showLoader=!1,this.upload=!0,this.config={maxFilesize:50,acceptedFiles:"image/*",method:"POST",uploadMultiple:!1,accept:l=>{this.onAccept(l)}},this.states=["Andhra Pradesh","Arunachal Pradesh","Assam","Bihar","Chhattisgarh","Goa","Gujarat","Haryana","Himachal Pradesh","Jharkhand","Karnataka","Kerala","Madhya Pradesh","Maharashtra","Manipur","Meghalaya","Mizoram","Nagaland","Odisha","Punjab","Rajasthan","Sikkim","Tamil Nadu","Telangana","Tripura","Uttar Pradesh","Uttarakhand","West Bengal","Andaman and Nicobar Islands","Chandigarh","Dadra & Nagar Haveli and Daman & Diu","Delhi","Jammu and Kashmir","Lakshadweep","Puducherry","Ladakh"],this.activeStatus=!0,this.delete=function(){var l=(0,_.Z)(function*(s){const c=v().mixin({customClass:{confirmButton:"btn btn-success",cancelButton:"btn btn-danger ms-2"},buttonsStyling:!1});c.fire({title:"Are you sure?",text:"You won't be able to revert this!",icon:"warning",confirmButtonText:"Yes, delete it!",cancelButtonText:"No, cancel!",showCancelButton:!0}).then(function(){var u=(0,_.Z)(function*(d){if(d.value){i.showLoader=!0;try{(yield i.service.deleteCity(s).toPromise())&&(c.fire("Deleted!","Your data has been deleted.","success"),i.loadCities())}catch{i.showLoader=!1}}else d.dismiss===v().DismissReason.cancel&&c.fire("Cancelled","Your data is safe :)","error")});return function(d){return u.apply(this,arguments)}}())});return function(s){return l.apply(this,arguments)}}(),this.saveCity=(0,_.Z)(function*(){if(i.submitted=!0,i.cityAddForm.valid){i.showLoader=!0;const{name:l,stateName:s,logoUrl:u}=i.cityAddForm.value,d={name:l,status:i.activeStatus?"active":"inactive",stateName:s,logoUrl:u};if(i.form.ids.value)try{(yield i.service.updateCityDetail(d,i.form.ids.value).toPromise())&&(i.modalService.hide(),i.loadCities())}catch{i.showLoader=!1}else try{(yield i.service.saveCity(d).toPromise())&&(i.modalService.hide(),i.loadCities())}catch{i.showLoader=!1}}}),this.updateStatus=function(){var l=(0,_.Z)(function*(s,c){const u=v().mixin({customClass:{confirmButton:"btn btn-success",cancelButton:"btn btn-danger ms-2"},buttonsStyling:!1});u.fire({title:"Are you sure?",text:"Do you want to update the status?",icon:"warning",confirmButtonText:"Yes, update!",cancelButtonText:"No, cancel!",showCancelButton:!0}).then(function(){var d=(0,_.Z)(function*(m){if(m.value){const f={status:"active"===s.status?"inactive":"active"};try{const g=yield i.service.updateCityDetail(f,s.id).toPromise();if(g){i.modalService.hide(),i.statusBoolean[c]="active"===g.status,s.status=g.status;const Z=i.slicedCitiesList?.filter(T=>T===g.id);Z.length&&(Z[0]=g)}}catch{}}else m.dismiss===v().DismissReason.cancel&&(i.statusBoolean[c]="active"===s.status,u.fire("Cancelled","Status updation cancelled!","error"))});return function(m){return d.apply(this,arguments)}}())});return function(s,c){return l.apply(this,arguments)}}(),this.loadCities=(0,_.Z)(function*(){for(i.itemsPerPage=10,i.currentPage=1;i.statusBoolean.length;)i.statusBoolean.pop();try{const l=yield i.service.getCities().toPromise();l&&(i.citiesList=l,i.slicedCitiesList=i.citiesList.slice(0,i.itemsPerPage),i.citiesList.forEach((s,c)=>{i.statusBoolean.push("active"==s.status)}),i.showLoader=!1)}catch{i.showLoader=!1}}),this.editDataGet=function(){var l=(0,_.Z)(function*(s,c){i.showLoader=!0;try{const d=yield i.service.getSelectedCityDetail(s).toPromise();d&&(i.cityAddForm.get("ids")?.setValue(d?.id),i.cityAddForm.get("name")?.setValue(d?.name),i.cityAddForm.get("logoUrl")?.setValue(d?.logoUrl),i.cityAddForm.get("stateName")?.setValue(d?.stateName),i.activeStatus="active"===d?.status,d?.logoUrl&&(i.upload=!1),i.submitted=!1,i.showLoader=!1,i.modalRef=i.modalService.show(c,{class:"modal-md"}),document.getElementById("add-btn").innerHTML="Update")}catch{i.showLoader=!1}});return function(s,c){return l.apply(this,arguments)}}(),this.changePage=l=>{this.currentPage=l.page,this.slicedCitiesList=this.citiesList.slice((l.page-1)*l.itemsPerPage,l.page*l.itemsPerPage)},this.total=t.total$}ngOnInit(){this.statusBoolean=[],this.showLoader=!0,this.breadCrumbItems=[{label:"Master Data"},{label:"Placemaster"},{label:"City",active:!0}],this.cityAddForm=this.formBuilder.group({id:"",ids:[""],name:["",[p.kI.required]],stateName:[null,[p.kI.required]],logoUrl:[""],status:[""]}),this.loadCities()}openViewModal(a){this.modalRef=this.modalService.show(a)}checkUncheckAll(a){this.orderes.forEach(t=>t.state=a.target.checked)}openModal(a){this.submitted=!1,this.upload=!0,this.cityAddForm.reset(),this.modalRef=this.modalService.show(a,{class:"modal-md"})}removeImage(){this.upload=!0,this.image="",this.file=""}get form(){return this.cityAddForm.controls}onAccept(a){this.showLoader=!0,this.image=a.name,this.file=a;const t=a.currentTarget.files[0],r=new FormData;r.append("file",t),this.utilService.uploadFile(r).subscribe(n=>{if(n?.mediaId){const i=this.utilService.getBaseUrl()+n.mediaId;this.cityAddForm.get("logoUrl").setValue(i),this.showLoader=!1}},n=>{console.log(n),this.showLoader=!1})}}G.\u0275fac=function(a){return new(a||G)(e.Y36(x.tT),e.Y36(me.Z),e.Y36(p.QS),e.Y36(C.f))},G.\u0275cmp=e.Xpm({type:G,selectors:[["app-city"]],viewQuery:function(a,t){if(1&a&&e.Gf(F,5),2&a){let r;e.iGM(r=e.CRH())&&(t.headers=r)}},features:[e._Bn([me.Z,h.JJ])],decls:39,vars:7,consts:[[4,"ngIf"],[1,"container-fluid"],["title","City",3,"breadcrumbItems"],[1,"row"],[1,"col-12"],[1,"card"],[1,"card-body"],[1,"row","mb-2"],[1,"col-sm-4"],[1,"col-sm-8"],[1,"text-sm-end"],["type","button",1,"btn","btn-success","btn-rounded","mb-2","me-2",3,"click"],[1,"mdi","mdi-plus","mr-1"],[1,"table-responsive","mb-0"],[1,"table","table-centered","table-nowrap"],[1,"table"],[1,"align-middle"],[4,"ngFor","ngForOf"],[1,"pagination","pagination-rounded","justify-content-end","mb-2"],[3,"totalItems","itemsPerPage","ngModel","ngModelChange","pageChanged"],["role","document"],["ViewContent",""],["content",""],["colspan","6",1,"text-center"],["alt","",1,"avatar-sm","rounded","me-2",3,"src"],[1,"form-check","form-switch","form-switch-lg","mb-3"],["type","checkbox",1,"form-check-input",3,"ngModel","ngModelChange","click"],[1,"d-flex","gap-3"],["href","javascript:void(0);",1,"text-success",3,"click"],[1,"mdi","mdi-pencil","font-size-18"],["href","javascript:void(0);",1,"text-danger",3,"click"],[1,"mdi","mdi-delete","font-size-18"],[1,"modal-header"],[1,"modal-title","mt-0"],["type","button","aria-hidden","true",1,"btn-close",3,"click"],[1,"modal-body"],[1,"mb-2"],[1,"text-primary"],[1,"mb-4"],[1,"table-responsive"],["scope","col"],["scope","row"],["src","assets/images/product/img-7.png","alt","",1,"avatar-sm"],[1,"text-truncate","font-size-14"],[1,"text-muted","mb-0"],["src","assets/images/product/img-4.png","alt","",1,"avatar-sm"],["colspan","2"],[1,"m-0","text-end"],[1,"modal-footer"],[1,"btn","btn-secondary",3,"click"],["id","exampleModalLabel",1,"modal-title"],["type","button","data-bs-dismiss","modal","aria-label","Close","id","close-modal",1,"btn-close",3,"click"],[3,"formGroup","ngSubmit"],["type","hidden","name","id","value","","formControlName","ids"],[1,"mb-3"],["for","customername-field",1,"form-label"],["type","text","placeholder","Enter City name","required","","formControlName","name",1,"form-control",3,"ngClass"],["class","invalid-feedback","align","left",4,"ngIf"],["for","state-field",1,"form-label"],["bindLabel","name","required","","placeholder","Select State","formControlName","stateName",3,"items","ngClass"],["ng-optgroup-tmp",""],["for","payment-field",1,"form-label"],["type","checkbox","id","SwitchCheckSizelg",1,"form-check-input",3,"checked","change"],["type","file",3,"change",4,"ngIf"],["class","img-block",4,"ngIf"],[1,"hstack","gap-2","justify-content-end"],["type","button","data-bs-dismiss","modal",1,"btn","btn-light",3,"click"],["type","submit","id","add-btn",1,"btn","btn-success"],["align","left",1,"invalid-feedback"],["type","file",3,"change"],[1,"img-block"],["type","button","id","close-btn","ngbTooltip","Remove Image",1,"close",3,"click"],["alt","",1,"avatar-lg","rounded","me-3",3,"src"]],template:function(a,t){if(1&a){const r=e.EpF();e.YNc(0,ke,1,0,"app-loader",0),e.TgZ(1,"div",1),e._UZ(2,"app-page-title",2),e.TgZ(3,"div",3)(4,"div",4)(5,"div",5)(6,"div",6)(7,"div",7),e._UZ(8,"div",8),e.TgZ(9,"div",9)(10,"div",10)(11,"button",11),e.NdJ("click",function(){e.CHM(r);const i=e.MAs(38);return e.KtG(t.openModal(i))}),e._UZ(12,"i",12),e._uU(13," Add New City "),e.qZA()()()(),e.TgZ(14,"div",13)(15,"table",14)(16,"thead",15)(17,"tr")(18,"th",16),e._uU(19,"Sl. No."),e.qZA(),e.TgZ(20,"th",16),e._uU(21,"City"),e.qZA(),e.TgZ(22,"th",16),e._uU(23,"State"),e.qZA(),e.TgZ(24,"th",16),e._uU(25,"City Icon"),e.qZA(),e.TgZ(26,"th",16),e._uU(27,"Status"),e.qZA(),e.TgZ(28,"th",16),e._uU(29,"Action"),e.qZA()()(),e.TgZ(30,"tbody"),e.YNc(31,Pe,4,0,"ng-container",0),e.YNc(32,Ue,18,5,"tr",17),e.qZA()()(),e.TgZ(33,"ul",18)(34,"pagination",19),e.NdJ("ngModelChange",function(i){return t.currentPage=i})("pageChanged",function(i){return t.changePage(i)}),e.qZA()()()()()()(),e.YNc(35,qe,69,0,"ng-template",20,21,e.W1O),e.YNc(37,Je,35,13,"ng-template",20,22,e.W1O)}2&a&&(e.Q6J("ngIf",t.showLoader),e.xp6(2),e.Q6J("breadcrumbItems",t.breadCrumbItems),e.xp6(29),e.Q6J("ngIf",!(null!=t.slicedCitiesList&&t.slicedCitiesList.length)),e.xp6(1),e.Q6J("ngForOf",t.slicedCitiesList),e.xp6(2),e.Q6J("totalItems",t.citiesList.length)("itemsPerPage",t.itemsPerPage)("ngModel",t.currentPage))},dependencies:[h.mk,h.sg,h.O5,A.V,w.R,p._Y,p.Fj,p.Wl,p.JJ,p.JL,p.Q7,p.On,y.Qt,p.sg,p.u,S.w9,S.C5],styles:["#close-btn[_ngcontent-%COMP%]{right:-100px;top:-50px;position:relative;background-color:#aeaeaf;border-radius:50%}"]});var k=b(61135),se=b(77579),re=b(39646),N=b(18505),le=b(78372),ce=b(63900),de=b(91005),ue=b(80529);let O;class M{constructor(a,t,r){this.pipe=a,this.http=t,this.util=r,this._loading$=new k.X(!0),this._search$=new se.x,this._filteredData$=new k.X([]),this._total$=new k.X(0),this._state={page:1,pageSize:8,searchTerm:"",sortColumn:"",sortDirection:"",startIndex:0,endIndex:9,totalRecords:0,status:"",payment:"",date:""},this.cities=[{id:1,name:"Kannur",state:"Kerala"},{id:2,name:"Kochi",state:"Kerala"},{id:3,name:"Chalakudi",state:"Kerala"}],this.savePickUpType=n=>(this.util.activeUrl=1,this.http.post("/api/pickup-types",n,{headers:O})),this.getPickUpTypes=()=>(this.util.activeUrl=1,this.http.get("/api/pickup-types",{headers:O})),this.deletePickUpType=n=>(this.util.activeUrl=1,this.http.delete(`/api/pickup-types/${n}`,{headers:O})),this.getSelectedPickUpTypeDetail=n=>(this.util.activeUrl=1,this.http.get(`/api/pickup-types/${n}`,{headers:O})),this.updatePickUpTypeDetail=(n,i)=>(this.util.activeUrl=1,this.http.patch(`/api/pickup-types/${i}`,n,{headers:O})),this._search$.pipe((0,N.b)(()=>this._loading$.next(!0)),(0,le.b)(200),(0,ce.w)(()=>this._search()),(0,de.g)(200),(0,N.b)(()=>this._loading$.next(!1))).subscribe(n=>{this._filteredData$.next(n.filteredData),this._total$.next(n.total)}),this._search$.next()}get filteredData$(){return this._filteredData$.asObservable()}get product(){return this.products}get total$(){return this._total$.asObservable()}get loading$(){return this._loading$.asObservable()}get page(){return this._state.page}get pageSize(){return this._state.pageSize}get searchTerm(){return this._state.searchTerm}get startIndex(){return this._state.startIndex}get endIndex(){return this._state.endIndex}get totalRecords(){return this._state.totalRecords}get status(){return this._state.status}get payment(){return this._state.payment}get date(){return this._state.date}set page(a){this._set({page:a})}set pageSize(a){this._set({pageSize:a})}set searchTerm(a){this._set({searchTerm:a})}set sortColumn(a){this._set({sortColumn:a})}set sortDirection(a){this._set({sortDirection:a})}set startIndex(a){this._set({startIndex:a})}set endIndex(a){this._set({endIndex:a})}set totalRecords(a){this._set({totalRecords:a})}set status(a){this._set({status:a})}set payment(a){this._set({payment:a})}set date(a){this._set({date:a})}_set(a){Object.assign(this._state,a),this._search$.next()}_search(){const{sortColumn:a,sortDirection:t,page:n,searchTerm:i}=this._state;let u=function Ge(o,a,t){return""===t||""===a?o:[...o].sort((r,n)=>{const i=((o,a)=>o<a?-1:o>a?1:0)(r[a],n[a]);return"asc"===t?i:-i})}(this.cities,a,t);u=u.filter(m=>function Oe(o,a,t){return o.name.toLowerCase().includes(a.toLowerCase())}(m,i));const d=u.length;return this.totalRecords=u.length,this._state.startIndex=(n-1)*this.pageSize+1,this._state.endIndex=(n-1)*this.pageSize+this.pageSize,this.endIndex>this.totalRecords&&(this.endIndex=this.totalRecords),u=u.slice(this._state.startIndex-1,this._state.endIndex),(0,re.of)({filteredData:u,total:d})}}M.\u0275fac=function(a){return new(a||M)(e.LFG(h.JJ),e.LFG(ue.eN),e.LFG(C.f))},M.\u0275prov=e.Yz7({token:M,factory:M.\u0275fac,providedIn:"root"});const Ye={asc:"desc",desc:"","":"asc"};class Y{constructor(){this.sortable="",this.direction="",this.sort=new e.vpe}rotate(){this.direction=Ye[this.direction],this.sort.emit({column:this.sortable,direction:this.direction})}}function Re(o,a){if(1&o){const t=e.EpF();e.TgZ(0,"tr",30)(1,"td")(2,"div",31),e._UZ(3,"input",32)(4,"label",33),e.qZA()(),e.TgZ(5,"td"),e._uU(6),e.qZA(),e.TgZ(7,"td")(8,"div",34),e._UZ(9,"input",35),e.qZA()(),e.TgZ(10,"td")(11,"div",36)(12,"a",37),e.NdJ("click",function(){const i=e.CHM(t).$implicit,l=e.oxw(),s=e.MAs(39);return e.KtG(l.editDataGet(i.id,s))}),e._UZ(13,"i",38),e.qZA(),e.TgZ(14,"a",39),e.NdJ("click",function(){const i=e.CHM(t).$implicit,l=e.oxw();return e.KtG(l.delete(i.id))}),e._UZ(15,"i",40),e.qZA()()()()}if(2&o){const t=a.$implicit;e.MGl("id","o_",t.id,""),e.xp6(3),e.MGl("id","transactionCheck",t.index,""),e.xp6(1),e.MGl("for","transactionCheck",t.id,""),e.xp6(2),e.Oqu(t.name),e.xp6(3),e.Q6J("checked","active"===(null==t?null:t.status))}}function He(o,a){if(1&o){const t=e.EpF();e.TgZ(0,"div",41)(1,"h5",42),e._uU(2,"Pickup Types Details"),e.qZA(),e.TgZ(3,"button",43),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(null==n.modalRef?null:n.modalRef.hide())}),e.qZA()(),e.TgZ(4,"div",44)(5,"p",45),e._uU(6," Product id: "),e.TgZ(7,"span",46),e._uU(8,"#SK2540"),e.qZA()(),e.TgZ(9,"p",47),e._uU(10," Billing Name: "),e.TgZ(11,"span",46),e._uU(12,"Neal Matthews"),e.qZA()(),e.TgZ(13,"div",48)(14,"table",17)(15,"thead")(16,"tr")(17,"th",49),e._uU(18,"Product"),e.qZA(),e.TgZ(19,"th",49),e._uU(20,"Product Name"),e.qZA(),e.TgZ(21,"th",49),e._uU(22,"Price"),e.qZA()()(),e.TgZ(23,"tbody")(24,"tr")(25,"th",50)(26,"div"),e._UZ(27,"img",51),e.qZA()(),e.TgZ(28,"td")(29,"div")(30,"h5",52),e._uU(31," Wireless Headphone (Black) "),e.qZA(),e.TgZ(32,"p",53),e._uU(33,"$ 225 x 1"),e.qZA()()(),e.TgZ(34,"td"),e._uU(35,"$ 255"),e.qZA()(),e.TgZ(36,"tr")(37,"th",50)(38,"div"),e._UZ(39,"img",54),e.qZA()(),e.TgZ(40,"td")(41,"div")(42,"h5",52),e._uU(43," Phone patterned cases "),e.qZA(),e.TgZ(44,"p",53),e._uU(45,"$ 145 x 1"),e.qZA()()(),e.TgZ(46,"td"),e._uU(47,"$ 145"),e.qZA()(),e.TgZ(48,"tr")(49,"td",55)(50,"h6",56),e._uU(51,"Sub Total:"),e.qZA()(),e.TgZ(52,"td"),e._uU(53,"$ 400"),e.qZA()(),e.TgZ(54,"tr")(55,"td",55)(56,"h6",56),e._uU(57,"Shipping:"),e.qZA()(),e.TgZ(58,"td"),e._uU(59,"Free"),e.qZA()(),e.TgZ(60,"tr")(61,"td",55)(62,"h6",56),e._uU(63,"Total:"),e.qZA()(),e.TgZ(64,"td"),e._uU(65,"$ 400"),e.qZA()()()()()(),e.TgZ(66,"div",57)(67,"button",58),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(null==n.modalRef?null:n.modalRef.hide())}),e._uU(68,"Close"),e.qZA()()}}function Qe(o,a){1&o&&(e.TgZ(0,"div"),e._uU(1," Pickup Type Name is required "),e.qZA())}function De(o,a){if(1&o&&(e.TgZ(0,"div",72),e.YNc(1,Qe,2,0,"div",73),e.qZA()),2&o){const t=e.oxw(2);e.xp6(1),e.Q6J("ngIf",t.form.name.errors.required)}}Y.\u0275fac=function(a){return new(a||Y)},Y.\u0275dir=e.lG2({type:Y,selectors:[["th","sortable",""]],hostVars:4,hostBindings:function(a,t){1&a&&e.NdJ("click",function(){return t.rotate()}),2&a&&e.ekj("asc","asc"===t.direction)("desc","desc"===t.direction)},inputs:{sortable:"sortable",direction:"direction"},outputs:{sort:"sort"}});const $e=function(o){return{"is-invalid":o}};function Ke(o,a){if(1&o){const t=e.EpF();e.TgZ(0,"div",41)(1,"h5",59),e._uU(2,"Add/Edit Pickup Type"),e.qZA(),e.TgZ(3,"button",60),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(null==n.modalRef?null:n.modalRef.hide())}),e.qZA()(),e.TgZ(4,"form",61),e.NdJ("ngSubmit",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.savePickUpType())}),e.TgZ(5,"div",44),e._UZ(6,"input",62),e.TgZ(7,"div",63)(8,"label",64),e._uU(9,"Pickup Type Name"),e.qZA(),e._UZ(10,"input",65),e.YNc(11,De,2,1,"div",66),e.qZA(),e.TgZ(12,"div",63)(13,"label",67),e._uU(14,"Status"),e.qZA(),e.TgZ(15,"div",34)(16,"input",68),e.NdJ("change",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.activeStatus=!n.activeStatus)}),e.qZA()()()(),e.TgZ(17,"div",57)(18,"div",69)(19,"button",70),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(null==n.modalRef?null:n.modalRef.hide())}),e._uU(20," Close "),e.qZA(),e.TgZ(21,"button",71),e._uU(22," Add Pickup Type "),e.qZA()()()()}if(2&o){const t=e.oxw();e.xp6(4),e.Q6J("formGroup",t.pickUpTypeAddForm),e.xp6(6),e.Q6J("ngClass",e.VKq(4,$e,t.submitted&&t.form.name.errors)),e.xp6(1),e.Q6J("ngIf",t.submitted&&t.form.name.errors),e.xp6(5),e.Q6J("checked",t.activeStatus)}}class R{constructor(a,t,r,n){var i=this;this.modalService=a,this.service=t,this.formBuilder=r,this.utilService=n,this.submitted=!1,this.image="",this.file="",this.pickUpTypesList=[],this.config={maxFilesize:50,acceptedFiles:"image/*",method:"POST",uploadMultiple:!1,accept:l=>{this.onAccept(l)}},this.activeStatus=!0,this.delete=function(){var l=(0,_.Z)(function*(s){const c=v().mixin({customClass:{confirmButton:"btn btn-success",cancelButton:"btn btn-danger ms-2"},buttonsStyling:!1});c.fire({title:"Are you sure?",text:"You won't be able to revert this!",icon:"warning",confirmButtonText:"Yes, delete it!",cancelButtonText:"No, cancel!",showCancelButton:!0}).then(function(){var u=(0,_.Z)(function*(d){if(d.value)try{(yield i.service.deletePickUpType(s).toPromise())&&(c.fire("Deleted!","Your data has been deleted.","success"),i.loadpickUpTypes())}catch{}else d.dismiss===v().DismissReason.cancel&&c.fire("Cancelled","Your data is safe :)","error")});return function(d){return u.apply(this,arguments)}}())});return function(s){return l.apply(this,arguments)}}(),this.savePickUpType=(0,_.Z)(function*(){if(i.pickUpTypeAddForm.valid){const{name:l}=i.pickUpTypeAddForm.value,c={name:l,status:i.activeStatus?"active":"inactive"};if(i.form.ids.value)try{(yield i.service.updatePickUpTypeDetail(c,i.form.ids.value).toPromise())&&(i.modalService.hide(),i.loadpickUpTypes())}catch{}else try{(yield i.service.savePickUpType(c).toPromise())&&(i.modalService.hide(),i.loadpickUpTypes())}catch{}}}),this.loadpickUpTypes=(0,_.Z)(function*(){try{const l=yield i.service.getPickUpTypes().toPromise();l&&(i.pickUpTypesList=l)}catch{}}),this.editDataGet=function(){var l=(0,_.Z)(function*(s,c){try{const u=yield i.service.getSelectedPickUpTypeDetail(s).toPromise();u&&(i.pickUpTypeAddForm.get("ids")?.setValue(u?.id),i.pickUpTypeAddForm.get("name")?.setValue(u?.name),i.activeStatus="active"===u?.status,i.submitted=!1,i.modalRef=i.modalService.show(c,{class:"modal-md"}))}catch{}});return function(s,c){return l.apply(this,arguments)}}()}ngOnInit(){this.breadCrumbItems=[{label:"Master Data"},{label:"Pickup Type",active:!0}],this.pickUpTypeAddForm=this.formBuilder.group({id:"",ids:[""],name:["",[p.kI.required]],status:["active"]}),this.loadpickUpTypes()}openViewModal(a){this.modalRef=this.modalService.show(a)}checkUncheckAll(a){this.orderes.forEach(t=>t.state=a.target.checked)}openModal(a){this.submitted=!1,this.pickUpTypeAddForm.reset(),this.modalRef=this.modalService.show(a,{class:"modal-md"})}get form(){return this.pickUpTypeAddForm.controls}onAccept(a){this.image=a.name,this.file=a,this.utilService.uploadFile({file:a}).subscribe(r=>{},r=>{})}}R.\u0275fac=function(a){return new(a||R)(e.Y36(x.tT),e.Y36(M),e.Y36(p.QS),e.Y36(C.f))},R.\u0275cmp=e.Xpm({type:R,selectors:[["app-pickup-types"]],viewQuery:function(a,t){if(1&a&&e.Gf(Y,5),2&a){let r;e.iGM(r=e.CRH())&&(t.headers=r)}},features:[e._Bn([M,h.JJ])],decls:40,vars:7,consts:[[1,"container-fluid"],["title","Pickup Type",3,"breadcrumbItems"],[1,"row"],[1,"col-12"],[1,"card"],[1,"card-body"],[1,"row","mb-2"],[1,"col-sm-4"],[1,"search-box","me-2","mb-2","d-inline-block"],[1,"position-relative"],["type","text","placeholder","Search...",1,"form-control",3,"ngModel","ngModelChange"],[1,"bx","bx-search-alt","search-icon"],[1,"col-sm-8"],[1,"text-sm-end"],["type","button",1,"btn","btn-success","btn-rounded","mb-2","me-2",3,"click"],[1,"mdi","mdi-plus","mr-1"],[1,"table-responsive","mb-0"],[1,"table","table-centered","table-nowrap"],[1,"table-light"],[2,"width","20px"],[1,"form-check","font-size-16","align-middle"],["type","checkbox","id","transactionCheck01",1,"form-check-input",3,"change"],["for","transactionCheck01",1,"form-check-label"],[1,"align-middle"],[3,"id",4,"ngFor","ngForOf"],[1,"pagination","pagination-rounded","justify-content-end","mb-2"],[3,"totalItems","ngModel","ngModelChange"],["role","document"],["ViewContent",""],["content",""],[3,"id"],[1,"form-check","font-size-16"],["type","checkbox",1,"form-check-input",3,"id"],[1,"form-check-label",3,"for"],[1,"form-check","form-switch","form-switch-lg","mb-3"],["type","checkbox","id","SwitchCheckSizelg",1,"form-check-input",3,"checked"],[1,"d-flex","gap-3"],["href","javascript:void(0);",1,"text-success",3,"click"],[1,"mdi","mdi-pencil","font-size-18"],["href","javascript:void(0);",1,"text-danger",3,"click"],[1,"mdi","mdi-delete","font-size-18"],[1,"modal-header"],[1,"modal-title","mt-0"],["type","button","aria-hidden","true",1,"btn-close",3,"click"],[1,"modal-body"],[1,"mb-2"],[1,"text-primary"],[1,"mb-4"],[1,"table-responsive"],["scope","col"],["scope","row"],["src","assets/images/product/img-7.png","alt","",1,"avatar-sm"],[1,"text-truncate","font-size-14"],[1,"text-muted","mb-0"],["src","assets/images/product/img-4.png","alt","",1,"avatar-sm"],["colspan","2"],[1,"m-0","text-end"],[1,"modal-footer"],[1,"btn","btn-secondary",3,"click"],["id","exampleModalLabel",1,"modal-title"],["type","button","data-bs-dismiss","modal","aria-label","Close","id","close-modal",1,"btn-close",3,"click"],[3,"formGroup","ngSubmit"],["type","hidden","name","id","value","","formControlName","ids"],[1,"mb-3"],["for","customername-field",1,"form-label"],["type","text","id","customername-field","placeholder","Enter Name","required","","formControlName","name",1,"form-control",3,"ngClass"],["class","invalid-feedback","align","left",4,"ngIf"],["for","payment-field",1,"form-label"],["type","checkbox","id","SwitchCheckSizelg",1,"form-check-input",3,"checked","change"],[1,"hstack","gap-2","justify-content-end"],["type","button","data-bs-dismiss","modal",1,"btn","btn-light",3,"click"],["type","submit","id","add-btn",1,"btn","btn-success"],["align","left",1,"invalid-feedback"],[4,"ngIf"]],template:function(a,t){if(1&a){const r=e.EpF();e.TgZ(0,"div",0),e._UZ(1,"app-page-title",1),e.TgZ(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5)(6,"div",6)(7,"div",7)(8,"div",8)(9,"div",9)(10,"input",10),e.NdJ("ngModelChange",function(i){return t.service.searchTerm=i}),e.qZA(),e._UZ(11,"i",11),e.qZA()()(),e.TgZ(12,"div",12)(13,"div",13)(14,"button",14),e.NdJ("click",function(){e.CHM(r);const i=e.MAs(39);return e.KtG(t.openModal(i))}),e._UZ(15,"i",15),e._uU(16," Add New Pick up Type "),e.qZA()()()(),e.TgZ(17,"div",16)(18,"table",17)(19,"thead",18)(20,"tr")(21,"th",19)(22,"div",20)(23,"input",21),e.NdJ("change",function(i){return t.checkUncheckAll(i)}),e.qZA(),e._UZ(24,"label",22),e.qZA()(),e.TgZ(25,"th",23),e._uU(26,"Pickup Type Name"),e.qZA(),e.TgZ(27,"th",23),e._uU(28,"Status"),e.qZA(),e.TgZ(29,"th",23),e._uU(30,"Action"),e.qZA()()(),e.TgZ(31,"tbody"),e.YNc(32,Re,16,5,"tr",24),e.qZA()()(),e.TgZ(33,"ul",25)(34,"pagination",26),e.NdJ("ngModelChange",function(i){return t.service.page=i}),e.ALo(35,"async"),e.qZA()()()()()()(),e.YNc(36,He,69,0,"ng-template",27,28,e.W1O),e.YNc(38,Ke,23,6,"ng-template",27,29,e.W1O)}2&a&&(e.xp6(1),e.Q6J("breadcrumbItems",t.breadCrumbItems),e.xp6(9),e.Q6J("ngModel",t.service.searchTerm),e.xp6(22),e.Q6J("ngForOf",t.pickUpTypesList),e.xp6(2),e.Q6J("totalItems",e.lcZ(35,5,t.total))("ngModel",t.service.page))},dependencies:[h.mk,h.sg,h.O5,A.V,p._Y,p.Fj,p.JJ,p.JL,p.Q7,p.On,y.Qt,p.sg,p.u,h.Ov]});var ge=b(36879);const We={asc:"desc",desc:"","":"asc"};class H{constructor(){this.sortable="",this.direction="",this.sort=new e.vpe}rotate(){this.direction=We[this.direction],this.sort.emit({column:this.sortable,direction:this.direction})}}H.\u0275fac=function(a){return new(a||H)},H.\u0275dir=e.lG2({type:H,selectors:[["th","sortable",""]],hostVars:4,hostBindings:function(a,t){1&a&&e.NdJ("click",function(){return t.rotate()}),2&a&&e.ekj("asc","asc"===t.direction)("desc","desc"===t.direction)},inputs:{sortable:"sortable",direction:"direction"},outputs:{sort:"sort"}});var Ve=b(96170),he=b(87522);function ze(o,a){1&o&&e._UZ(0,"app-loader")}function Ee(o,a){1&o&&(e.ynx(0),e.TgZ(1,"tr")(2,"td",23),e._uU(3," No Type of Works list. "),e.qZA()(),e.BQk())}function je(o,a){if(1&o){const t=e.EpF();e.TgZ(0,"tr")(1,"td"),e._uU(2),e.qZA(),e.TgZ(3,"td"),e._uU(4),e.qZA(),e.TgZ(5,"td"),e._UZ(6,"img",24),e.qZA(),e.TgZ(7,"td")(8,"div",25)(9,"input",26),e.NdJ("ngModelChange",function(n){const l=e.CHM(t).index,s=e.oxw();return e.KtG(s.statusBoolean[(s.currentPage-1)*s.itemsPerPage+l]=n)})("click",function(){const n=e.CHM(t),i=n.$implicit,l=n.index,s=e.oxw();return e.KtG(s.updateStatus(i,(s.currentPage-1)*s.itemsPerPage+l))}),e.qZA()()(),e.TgZ(10,"td")(11,"div",27)(12,"a",28),e.NdJ("click",function(){const i=e.CHM(t).$implicit,l=e.oxw(),s=e.MAs(36);return e.KtG(l.editDataGet(null==i?null:i.id,s))}),e._UZ(13,"i",29),e.qZA(),e.TgZ(14,"a",30),e.NdJ("click",function(){const i=e.CHM(t).$implicit,l=e.oxw();return e.KtG(l.delete(null==i?null:i.id))}),e._UZ(15,"i",31),e.qZA()()()()}if(2&o){const t=a.$implicit,r=a.index,n=e.oxw();e.xp6(2),e.Oqu((n.currentPage-1)*n.itemsPerPage+r+1),e.xp6(2),e.Oqu(null==t?null:t.name),e.xp6(2),e.s9C("src",null==t||null==t.metaInfo?null:t.metaInfo.logoUrl,e.LSH),e.xp6(3),e.Q6J("ngModel",n.statusBoolean[(n.currentPage-1)*n.itemsPerPage+r])}}function Xe(o,a){if(1&o){const t=e.EpF();e.TgZ(0,"div",32)(1,"h5",33),e._uU(2,"Type Of Work Details"),e.qZA(),e.TgZ(3,"button",34),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(null==n.modalRef?null:n.modalRef.hide())}),e.qZA()(),e.TgZ(4,"div",35)(5,"p",36),e._uU(6," Product id: "),e.TgZ(7,"span",37),e._uU(8,"#SK2540"),e.qZA()(),e.TgZ(9,"p",38),e._uU(10," Billing Name: "),e.TgZ(11,"span",37),e._uU(12,"Neal Matthews"),e.qZA()(),e.TgZ(13,"div",39)(14,"table",14)(15,"thead")(16,"tr")(17,"th",40),e._uU(18,"Product"),e.qZA(),e.TgZ(19,"th",40),e._uU(20,"Product Name"),e.qZA(),e.TgZ(21,"th",40),e._uU(22,"Price"),e.qZA()()(),e.TgZ(23,"tbody")(24,"tr")(25,"th",41)(26,"div"),e._UZ(27,"img",42),e.qZA()(),e.TgZ(28,"td")(29,"div")(30,"h5",43),e._uU(31," Wireless Headphone (Black) "),e.qZA(),e.TgZ(32,"p",44),e._uU(33,"$ 225 x 1"),e.qZA()()(),e.TgZ(34,"td"),e._uU(35,"$ 255"),e.qZA()(),e.TgZ(36,"tr")(37,"th",41)(38,"div"),e._UZ(39,"img",45),e.qZA()(),e.TgZ(40,"td")(41,"div")(42,"h5",43),e._uU(43," Phone patterned cases "),e.qZA(),e.TgZ(44,"p",44),e._uU(45,"$ 145 x 1"),e.qZA()()(),e.TgZ(46,"td"),e._uU(47,"$ 145"),e.qZA()(),e.TgZ(48,"tr")(49,"td",46)(50,"h6",47),e._uU(51,"Sub Total:"),e.qZA()(),e.TgZ(52,"td"),e._uU(53,"$ 400"),e.qZA()(),e.TgZ(54,"tr")(55,"td",46)(56,"h6",47),e._uU(57,"Shipping:"),e.qZA()(),e.TgZ(58,"td"),e._uU(59,"Free"),e.qZA()(),e.TgZ(60,"tr")(61,"td",46)(62,"h6",47),e._uU(63,"Total:"),e.qZA()(),e.TgZ(64,"td"),e._uU(65,"$ 400"),e.qZA()()()()()(),e.TgZ(66,"div",48)(67,"button",49),e.NdJ("click",function(){const i=e.CHM(t).$implicit;return e.KtG(i.close("Close click"))}),e._uU(68," Close "),e.qZA()()}}function et(o,a){1&o&&(e.TgZ(0,"div"),e._uU(1," Type of work is required "),e.qZA())}function tt(o,a){if(1&o&&(e.TgZ(0,"div",68),e.YNc(1,et,2,0,"div",0),e.qZA()),2&o){const t=e.oxw(2);e.xp6(1),e.Q6J("ngIf",t.form.name.errors.required)}}function it(o,a){1&o&&(e.TgZ(0,"div"),e._uU(1," Description is required "),e.qZA())}function at(o,a){if(1&o&&(e.TgZ(0,"div",68),e.YNc(1,it,2,0,"div",0),e.qZA()),2&o){const t=e.oxw(2);e.xp6(1),e.Q6J("ngIf",t.form.description.errors.required)}}function nt(o,a){1&o&&(e.TgZ(0,"div"),e._uU(1," Status is required "),e.qZA())}function ot(o,a){if(1&o&&(e.TgZ(0,"div",68),e.YNc(1,nt,2,0,"div",0),e.qZA()),2&o){const t=e.oxw(2);e.xp6(1),e.Q6J("ngIf",t.form.status.errors.required)}}function st(o,a){if(1&o){const t=e.EpF();e.TgZ(0,"input",69),e.NdJ("change",function(n){e.CHM(t);const i=e.oxw(2);return e.KtG(i.onAccept(n))}),e.qZA()}}function rt(o,a){if(1&o){const t=e.EpF();e.TgZ(0,"div",70)(1,"button",71),e.NdJ("click",function(){e.CHM(t);const n=e.oxw(2);return e.KtG(n.removeImage())}),e.TgZ(2,"span"),e._uU(3,"\xd7"),e.qZA()(),e._UZ(4,"img",72),e.qZA()}if(2&o){const t=e.oxw(2);e.xp6(4),e.s9C("src",t.form.logoUrl.value,e.LSH)}}const fe=function(o){return{"is-invalid":o}},lt=function(){return{placeholder:"Enter type of work description here"}};function ct(o,a){if(1&o){const t=e.EpF();e.TgZ(0,"div",32)(1,"h5",50),e._uU(2,"Add/Edit Type Of Work"),e.qZA(),e.TgZ(3,"button",51),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(null==n.modalRef?null:n.modalRef.hide())}),e.qZA()(),e.TgZ(4,"form",52),e.NdJ("ngSubmit",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.saveTypeOfWork())}),e.TgZ(5,"div",35),e._UZ(6,"input",53),e.TgZ(7,"div",54)(8,"label",55),e._uU(9,"Type Of Work Name"),e.qZA(),e._UZ(10,"input",56),e.YNc(11,tt,2,1,"div",57),e.qZA(),e.TgZ(12,"div",54)(13,"label",58),e._uU(14,"Description"),e.qZA(),e.TgZ(15,"div",59),e._UZ(16,"ckeditor",60),e.YNc(17,at,2,1,"div",57),e.qZA()(),e.TgZ(18,"div",54)(19,"label",61),e._uU(20,"Status"),e.qZA(),e.TgZ(21,"div",25)(22,"input",62),e.NdJ("change",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.activeStatus=!n.activeStatus)}),e.qZA()(),e.YNc(23,ot,2,1,"div",57),e.qZA(),e.TgZ(24,"div",54)(25,"label",61),e._uU(26,"Type of work logo"),e.qZA(),e._UZ(27,"br"),e.YNc(28,st,1,0,"input",63),e.YNc(29,rt,5,1,"div",64),e.qZA()(),e.TgZ(30,"div",48)(31,"div",65)(32,"button",66),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(null==n.modalRef?null:n.modalRef.hide())}),e._uU(33," Close "),e.qZA(),e.TgZ(34,"button",67),e._uU(35,"Save"),e.qZA()()()()}if(2&o){const t=e.oxw();e.xp6(4),e.Q6J("formGroup",t.typeOfWorkAddForm),e.xp6(6),e.Q6J("ngClass",e.VKq(11,fe,t.submitted&&t.form.name.errors)),e.xp6(1),e.Q6J("ngIf",t.submitted&&t.form.name.errors),e.xp6(5),e.Q6J("editor",t.Editor)("ngClass",e.VKq(13,fe,t.submitted&&t.form.description.errors))("config",e.DdM(15,lt)),e.xp6(1),e.Q6J("ngIf",t.submitted&&t.form.description.errors),e.xp6(5),e.Q6J("checked",t.activeStatus),e.xp6(1),e.Q6J("ngIf",t.submitted&&t.form.status.errors),e.xp6(5),e.Q6J("ngIf",t.upload),e.xp6(1),e.Q6J("ngIf",!t.upload)}}class Q{constructor(a,t,r,n){var i=this;this.modalService=a,this.service=t,this.formBuilder=r,this.utilService=n,this.Editor=Ve,this.submitted=!1,this.image="",this.file="",this.typeofWorksList=[],this.slicedTypeofWorksList=[],this.showLoader=!1,this.config={maxFilesize:50,acceptedFiles:"image/*",method:"POST",uploadMultiple:!1,accept:l=>{this.onAccept(l)}},this.activeStatus=!0,this.upload=!0,this.updateStatus=function(){var l=(0,_.Z)(function*(s,c){const u=v().mixin({customClass:{confirmButton:"btn btn-success",cancelButton:"btn btn-danger ms-2"},buttonsStyling:!1});u.fire({title:"Are you sure?",text:"Do you want to update the status?",icon:"warning",confirmButtonText:"Yes, update!",cancelButtonText:"No, cancel!",showCancelButton:!0}).then(function(){var d=(0,_.Z)(function*(m){if(m.value){console.log(s.status);const f={status:"active"===s.status?"inactive":"active"};try{const g=yield i.service.updateTypeOfWorkDetail(f,s.id).toPromise();if(g){i.modalService.hide(),i.statusBoolean[c]="active"===g.status,s.status=g.status,console.log(i.statusBoolean[c]);const Z=i.slicedTypeofWorksList?.filter(T=>T.id===g.id);Z.length&&(Z[0]=g)}}catch{}}else m.dismiss===v().DismissReason.cancel&&(i.statusBoolean[c]="active"===s.status,u.fire("Cancelled","Status updation cancelled!","error"))});return function(m){return d.apply(this,arguments)}}())});return function(s,c){return l.apply(this,arguments)}}(),this.delete=function(){var l=(0,_.Z)(function*(s){const c=v().mixin({customClass:{confirmButton:"btn btn-success",cancelButton:"btn btn-danger ms-2"},buttonsStyling:!1});c.fire({title:"Are you sure?",text:"You won't be able to revert this!",icon:"warning",confirmButtonText:"Yes, delete it!",cancelButtonText:"No, cancel!",showCancelButton:!0}).then(function(){var u=(0,_.Z)(function*(d){if(d.value){i.showLoader=!0;try{(yield i.service.deleteTypeOfWork(s).toPromise())&&(c.fire("Deleted!","Your data has been deleted.","success"),i.loadTypeOfWorks())}catch{i.showLoader=!1}}else d.dismiss===v().DismissReason.cancel&&c.fire("Cancelled","Your data is safe :)","error")});return function(d){return u.apply(this,arguments)}}())});return function(s){return l.apply(this,arguments)}}(),this.saveTypeOfWork=(0,_.Z)(function*(){if(i.submitted=!0,i.typeOfWorkAddForm.valid){i.showLoader=!0;const{name:l,logoUrl:s,description:c}=i.typeOfWorkAddForm.value,u={name:l,status:i.activeStatus?"active":"inactive",metaInfo:{logoUrl:s,description:c}};if(console.log(u),i.form.ids.value)try{(yield i.service.updateTypeOfWorkDetail(u,i.form.ids.value).toPromise())&&(i.modalService.hide(),i.loadTypeOfWorks())}catch{i.showLoader=!1}else try{(yield i.service.saveTypeOfWork(u).toPromise())&&(i.modalService.hide(),i.loadTypeOfWorks())}catch{i.showLoader=!1}}}),this.loadTypeOfWorks=(0,_.Z)(function*(){for(i.itemsPerPage=10,i.currentPage=1;i.statusBoolean.length;)i.statusBoolean.pop();try{const l=yield i.service.getAllTypesofWorks().toPromise();l&&(i.typeofWorksList=l.filter(s=>"Replace"!==s.name),i.slicedTypeofWorksList=i.typeofWorksList.slice(0,i.itemsPerPage),i.typeofWorksList.forEach((s,c)=>{i.statusBoolean.push("active"==s.status)}),i.showLoader=!1)}catch{i.showLoader=!1}}),this.editDataGet=function(){var l=(0,_.Z)(function*(s,c){i.showLoader=!0;try{const d=yield i.service.getSelectedTypeOfWorkDetail(s).toPromise();d&&(i.typeOfWorkAddForm.get("ids")?.setValue(d?.id),i.typeOfWorkAddForm.get("name")?.setValue(d?.name),i.typeOfWorkAddForm.get("description")?.setValue(d?.metaInfo?.description),i.typeOfWorkAddForm.get("logoUrl")?.setValue(d?.metaInfo?.logoUrl),i.activeStatus="active"===d?.status,d?.metaInfo?.logoUrl&&(i.upload=!1),i.submitted=!1,i.showLoader=!1,i.modalRef=i.modalService.show(c,{class:"modal-md"}),document.getElementById("add-btn").innerHTML="Update")}catch{i.showLoader=!1}});return function(s,c){return l.apply(this,arguments)}}(),this.changePage=l=>{this.currentPage=l.page,this.slicedTypeofWorksList=this.typeofWorksList.slice((l.page-1)*l.itemsPerPage,l.page*l.itemsPerPage)}}ngOnInit(){this.statusBoolean=[],this.showLoader=!0,this.breadCrumbItems=[{label:"Master Data"},{label:"Type Of Work",active:!0}],this.typeOfWorkAddForm=this.formBuilder.group({id:"",ids:[""],name:["",[p.kI.required]],logoUrl:[""],description:["",[p.kI.required]],status:["active"]}),this.loadTypeOfWorks()}openViewModal(a){this.modalRef=this.modalService.show(a)}checkUncheckAll(a){this.orderes.forEach(t=>t.state=a.target.checked)}removeImage(){this.upload=!0}openModal(a){this.submitted=!1,this.upload=!0,this.typeOfWorkAddForm.reset(),this.modalRef=this.modalService.show(a,{class:"modal-md"})}get form(){return this.typeOfWorkAddForm.controls}onAccept(a){this.showLoader=!0;const t=a.currentTarget.files[0],r=new FormData;r.append("file",t),this.utilService.uploadFile(r).subscribe(n=>{if(n?.mediaId){const i=this.utilService.getBaseUrl()+n.mediaId;this.typeOfWorkAddForm.get("logoUrl").setValue(i),this.showLoader=!1}},n=>{console.log(n),this.showLoader=!1})}}Q.\u0275fac=function(a){return new(a||Q)(e.Y36(x.tT),e.Y36(ge.Z),e.Y36(p.QS),e.Y36(C.f))},Q.\u0275cmp=e.Xpm({type:Q,selectors:[["app-type-of-work"]],viewQuery:function(a,t){if(1&a&&e.Gf(H,5),2&a){let r;e.iGM(r=e.CRH())&&(t.headers=r)}},features:[e._Bn([ge.Z,h.JJ])],decls:37,vars:7,consts:[[4,"ngIf"],[1,"container-fluid"],["title","Type Of Work",3,"breadcrumbItems"],[1,"row"],[1,"col-12"],[1,"card"],[1,"card-body"],[1,"row","mb-2"],[1,"col-sm-4"],[1,"col-sm-8"],[1,"text-sm-end"],["type","button",1,"btn","btn-success","btn-rounded","mb-2","me-2",3,"click"],[1,"mdi","mdi-plus","mr-1"],[1,"table-responsive","mb-0"],[1,"table","table-centered","table-nowrap"],[1,"table"],[1,"align-middle"],[4,"ngFor","ngForOf"],[1,"pagination","pagination-rounded","justify-content-end","mb-2"],[3,"totalItems","itemsPerPage","ngModel","ngModelChange","pageChanged"],["role","document"],["ViewContent",""],["content",""],["colspan","5",1,"text-center"],["alt","",1,"avatar-sm","rounded","me-2",3,"src"],[1,"form-check","form-switch","form-switch-lg","mb-3"],["type","checkbox","id","SwitchCheckSizelg",1,"form-check-input",3,"ngModel","ngModelChange","click"],[1,"d-flex","gap-3"],["href","javascript:void(0);",1,"text-success",3,"click"],[1,"mdi","mdi-pencil","font-size-18"],["href","javascript:void(0);",1,"text-danger",3,"click"],[1,"mdi","mdi-delete","font-size-18"],[1,"modal-header"],[1,"modal-title","mt-0"],["type","button","aria-hidden","true",1,"btn-close",3,"click"],[1,"modal-body"],[1,"mb-2"],[1,"text-primary"],[1,"mb-4"],[1,"table-responsive"],["scope","col"],["scope","row"],["src","assets/images/product/img-7.png","alt","",1,"avatar-sm"],[1,"text-truncate","font-size-14"],[1,"text-muted","mb-0"],["src","assets/images/product/img-4.png","alt","",1,"avatar-sm"],["colspan","2"],[1,"m-0","text-end"],[1,"modal-footer"],[1,"btn","btn-secondary",3,"click"],["id","exampleModalLabel",1,"modal-title"],["type","button","data-bs-dismiss","modal","aria-label","Close","id","close-modal",1,"btn-close",3,"click"],[3,"formGroup","ngSubmit"],["type","hidden","name","id","value","","formControlName","ids"],[1,"mb-3"],["for","customername-field",1,"form-label"],["type","text","id","customername-field","placeholder","Enter Type of work name","required","","formControlName","name",1,"form-control",3,"ngClass"],["class","invalid-feedback","align","left",4,"ngIf"],["for","commentmessage-input"],[1,"col-mb-3"],["formControlName","description",3,"editor","ngClass","config"],["for","payment-field",1,"form-label"],["type","checkbox","id","SwitchCheckSizelg",1,"form-check-input",3,"checked","change"],["type","file",3,"change",4,"ngIf"],["class","img-block",4,"ngIf"],[1,"hstack","gap-2","justify-content-end"],["type","button","data-bs-dismiss","modal",1,"btn","btn-light",3,"click"],["type","submit","id","add-btn",1,"btn","btn-success"],["align","left",1,"invalid-feedback"],["type","file",3,"change"],[1,"img-block"],["type","button","id","close-btn","ngbTooltip","Remove Image",1,"close",3,"click"],["alt","",1,"avatar-lg","rounded","me-3",3,"src"]],template:function(a,t){if(1&a){const r=e.EpF();e.YNc(0,ze,1,0,"app-loader",0),e.TgZ(1,"div",1),e._UZ(2,"app-page-title",2),e.TgZ(3,"div",3)(4,"div",4)(5,"div",5)(6,"div",6)(7,"div",7),e._UZ(8,"div",8),e.TgZ(9,"div",9)(10,"div",10)(11,"button",11),e.NdJ("click",function(){e.CHM(r);const i=e.MAs(36);return e.KtG(t.openModal(i))}),e._UZ(12,"i",12),e._uU(13," Add New Type Of Work "),e.qZA()()()(),e.TgZ(14,"div",13)(15,"table",14)(16,"thead",15)(17,"tr")(18,"th",16),e._uU(19,"Sl. No."),e.qZA(),e.TgZ(20,"th",16),e._uU(21,"Type Of Work"),e.qZA(),e.TgZ(22,"th",16),e._uU(23,"Icon"),e.qZA(),e.TgZ(24,"th",16),e._uU(25,"Status"),e.qZA(),e.TgZ(26,"th",16),e._uU(27,"Action"),e.qZA()()(),e.TgZ(28,"tbody"),e.YNc(29,Ee,4,0,"ng-container",0),e.YNc(30,je,16,4,"tr",17),e.qZA()()(),e.TgZ(31,"ul",18)(32,"pagination",19),e.NdJ("ngModelChange",function(i){return t.currentPage=i})("pageChanged",function(i){return t.changePage(i)}),e.qZA()()()()()()(),e.YNc(33,Xe,69,0,"ng-template",20,21,e.W1O),e.YNc(35,ct,36,16,"ng-template",20,22,e.W1O)}2&a&&(e.Q6J("ngIf",t.showLoader),e.xp6(2),e.Q6J("breadcrumbItems",t.breadCrumbItems),e.xp6(27),e.Q6J("ngIf",!(null!=t.slicedTypeofWorksList&&t.slicedTypeofWorksList.length)),e.xp6(1),e.Q6J("ngForOf",t.slicedTypeofWorksList),e.xp6(2),e.Q6J("totalItems",t.typeofWorksList.length)("itemsPerPage",t.itemsPerPage)("ngModel",t.currentPage))},dependencies:[h.mk,h.sg,h.O5,A.V,w.R,p._Y,p.Fj,p.Wl,p.JJ,p.JL,p.Q7,p.On,y.Qt,p.sg,p.u,he.u],styles:["#close-btn[_ngcontent-%COMP%]{right:-100px;top:-50px;position:relative;background-color:#aeaeaf;border-radius:50%}"]});var ae=b(76404);function dt(o,a){1&o&&e._UZ(0,"app-loader")}function ut(o,a){1&o&&(e.ynx(0),e.TgZ(1,"tr")(2,"td",23),e._uU(3,"No Car Brands list."),e.qZA()(),e.BQk())}function pt(o,a){if(1&o){const t=e.EpF();e.TgZ(0,"tr")(1,"td"),e._uU(2),e.qZA(),e.TgZ(3,"td"),e._uU(4),e.qZA(),e.TgZ(5,"td")(6,"div",24)(7,"input",25),e.NdJ("ngModelChange",function(n){const l=e.CHM(t).index,s=e.oxw();return e.KtG(s.statusBoolean[(s.currentPage-1)*s.itemsPerPage+l]=n)})("click",function(){const n=e.CHM(t),i=n.$implicit,l=n.index,s=e.oxw();return e.KtG(s.updateStatus(i,(s.currentPage-1)*s.itemsPerPage+l))}),e.qZA()()(),e.TgZ(8,"td")(9,"div",26)(10,"a",27),e.NdJ("click",function(){const i=e.CHM(t).$implicit,l=e.oxw(),s=e.MAs(33);return e.KtG(l.editDataGet(null==i?null:i.id,s))}),e._UZ(11,"i",28),e.qZA(),e.TgZ(12,"a",29),e.NdJ("click",function(){const i=e.CHM(t).$implicit,l=e.oxw();return e.KtG(l.delete(null==i?null:i.id))}),e._UZ(13,"i",30),e.qZA()()()()}if(2&o){const t=a.$implicit,r=a.index,n=e.oxw();e.xp6(2),e.Oqu((n.currentPage-1)*n.itemsPerPage+r+1),e.xp6(2),e.Oqu(null==t?null:t.name),e.xp6(3),e.Q6J("ngModel",n.statusBoolean[(n.currentPage-1)*n.itemsPerPage+r])}}function mt(o,a){1&o&&(e.TgZ(0,"div"),e._uU(1," Manufacturer name is required "),e.qZA())}function _t(o,a){if(1&o&&(e.TgZ(0,"div",49),e.YNc(1,mt,2,0,"div",0),e.qZA()),2&o){const t=e.oxw(2);e.xp6(1),e.Q6J("ngIf",t.form.name.errors.required)}}function gt(o,a){if(1&o){const t=e.EpF();e.TgZ(0,"input",50),e.NdJ("change",function(n){e.CHM(t);const i=e.oxw(2);return e.KtG(i.onAccept(n))}),e.qZA()}}function ht(o,a){if(1&o){const t=e.EpF();e.TgZ(0,"div",51)(1,"button",52),e.NdJ("click",function(){e.CHM(t);const n=e.oxw(2);return e.KtG(n.removeImage())}),e.TgZ(2,"span"),e._uU(3,"\xd7"),e.qZA()(),e._UZ(4,"img",53),e.qZA()}if(2&o){const t=e.oxw(2);e.xp6(4),e.s9C("src",t.form.logoUrl.value,e.LSH)}}const ft=function(o){return{"is-invalid":o}};function bt(o,a){if(1&o){const t=e.EpF();e.TgZ(0,"div",31)(1,"h5",32),e._uU(2,"Add/ Edit Manufacturer"),e.qZA(),e.TgZ(3,"button",33),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(null==n.modalRef?null:n.modalRef.hide())}),e.qZA()(),e.TgZ(4,"form",34),e.NdJ("ngSubmit",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.saveBrand())}),e.TgZ(5,"div",35),e._UZ(6,"input",36),e.TgZ(7,"div",37)(8,"label",38),e._uU(9,"Manufacturer"),e.qZA(),e._UZ(10,"input",39),e.YNc(11,_t,2,1,"div",40),e.qZA(),e.TgZ(12,"div",37)(13,"label",41),e._uU(14,"Status"),e.qZA(),e.TgZ(15,"div",24)(16,"input",42),e.NdJ("change",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.activeStatus=!n.activeStatus)}),e.qZA()()(),e.TgZ(17,"div",37)(18,"label",41),e._uU(19,"Category Icon"),e.qZA(),e._UZ(20,"br"),e.YNc(21,gt,1,0,"input",43),e.YNc(22,ht,5,1,"div",44),e.qZA()(),e.TgZ(23,"div",45)(24,"div",46)(25,"button",47),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(null==n.modalRef?null:n.modalRef.hide())}),e._uU(26," Close "),e.qZA(),e.TgZ(27,"button",48),e._uU(28,"Save"),e.qZA()()()()}if(2&o){const t=e.oxw();e.xp6(4),e.Q6J("formGroup",t.brandAddForm),e.xp6(6),e.Q6J("ngClass",e.VKq(6,ft,t.submitted&&t.form.name.errors)),e.xp6(1),e.Q6J("ngIf",t.submitted&&t.form.name.errors),e.xp6(5),e.Q6J("checked",t.activeStatus),e.xp6(5),e.Q6J("ngIf",t.upload),e.xp6(1),e.Q6J("ngIf",!t.upload)}}class D{constructor(a,t,r,n){var i=this;this.modalService=a,this.service=t,this.formBuilder=r,this.utilService=n,this.submitted=!1,this.brandsList=[],this.slicedBrandsList=[],this.activeStatus=!0,this.showLoader=!1,this.upload=!0,this.editDataGet=function(){var l=(0,_.Z)(function*(s,c){i.showLoader=!0;try{const d=yield i.service.getSelectedBrandDetail(s).toPromise();d&&(i.brandAddForm.get("ids")?.setValue(d?.id),i.brandAddForm.get("name")?.setValue(d?.name),i.brandAddForm.get("logoUrl")?.setValue(d?.logoUrl),i.activeStatus="active"===d?.status,d?.logoUrl&&(i.upload=!1),i.submitted=!1,i.showLoader=!1,i.modalRef=i.modalService.show(c,{class:"modal-md"}),document.getElementById("add-btn").innerHTML="Update")}catch{i.showLoader=!1}});return function(s,c){return l.apply(this,arguments)}}(),this.updateStatus=function(){var l=(0,_.Z)(function*(s,c){const u=v().mixin({customClass:{confirmButton:"btn btn-success",cancelButton:"btn btn-danger ms-2"},buttonsStyling:!1});u.fire({title:"Are you sure?",text:"Do you want to update the status?",icon:"warning",confirmButtonText:"Yes, update!",cancelButtonText:"No, cancel!",showCancelButton:!0}).then(function(){var d=(0,_.Z)(function*(m){if(m.value){const f={status:"active"===s.status?"inactive":"active"};try{const g=yield i.service.updateCityDetail(f,s.id).toPromise();if(g){i.modalService.hide(),i.statusBoolean[c]="active"===g.status,s.status=g.status;const Z=i.slicedBrandsList?.filter(T=>T.id===g.id);Z.length&&(Z[0]=g)}}catch{}}else m.dismiss===v().DismissReason.cancel&&(i.statusBoolean[c]="active"===s.status,u.fire("Cancelled","Status updation cancelled!","error"))});return function(m){return d.apply(this,arguments)}}())});return function(s,c){return l.apply(this,arguments)}}(),this.delete=function(){var l=(0,_.Z)(function*(s){const c=v().mixin({customClass:{confirmButton:"btn btn-success",cancelButton:"btn btn-danger ms-2"},buttonsStyling:!1});c.fire({title:"Are you sure?",text:"You won't be able to revert this!",icon:"warning",confirmButtonText:"Yes, delete it!",cancelButtonText:"No, cancel!",showCancelButton:!0}).then(function(){var u=(0,_.Z)(function*(d){if(d.value){i.showLoader=!0;try{(yield i.service.deleteBrand(s).toPromise())&&(c.fire("Deleted!","Your data has been deleted.","success"),i.loadBrands())}catch{i.showLoader=!1}}else d.dismiss===v().DismissReason.cancel&&c.fire("Cancelled","Your data is safe :)","error")});return function(d){return u.apply(this,arguments)}}())});return function(s){return l.apply(this,arguments)}}(),this.saveBrand=(0,_.Z)(function*(){if(i.submitted=!0,i.brandAddForm.valid){i.showLoader=!0;const{name:l,logoUrl:u}=i.brandAddForm.value,d={name:l,logoUrl:u,status:i.activeStatus?"active":"inactive"};if(i.form.ids.value)try{(yield i.service.updateCityDetail(d,i.form.ids.value).toPromise())&&(i.modalService.hide(),i.loadBrands())}catch{i.showLoader=!1}else try{(yield i.service.saveBrand(d).toPromise())&&(i.modalService.hide(),i.loadBrands())}catch{i.showLoader=!1}}}),this.loadBrands=(0,_.Z)(function*(){for(i.itemsPerPage=10,i.currentPage=1;i.statusBoolean.length;)i.statusBoolean.pop();try{const l=yield i.service.getBrands().toPromise();l&&(i.brandsList=l,i.slicedBrandsList=i.brandsList.slice(0,i.itemsPerPage),i.brandsList.forEach((s,c)=>{i.statusBoolean.push("active"==s.status)}),i.showLoader=!1)}catch{i.showLoader=!1}}),this.changePage=l=>{this.currentPage=l.page,this.slicedBrandsList=this.brandsList.slice((l.page-1)*l.itemsPerPage,l.page*l.itemsPerPage)},this.total=t.total$}ngOnInit(){this.showLoader=!0,this.statusBoolean=[],this.breadCrumbItems=[{label:"Master Data"},{label:"Vehicles"},{label:"Car Manufacturer",active:!0}],this.brandAddForm=this.formBuilder.group({id:"",ids:[""],name:["",[p.kI.required]],logoUrl:[""],status:[""]}),this.loadBrands()}onAccept(a){this.showLoader=!0;const t=a.currentTarget.files[0],r=new FormData;r.append("file",t),this.utilService.uploadFile(r).subscribe(n=>{if(n?.mediaId){const i=this.utilService.getBaseUrl()+n.mediaId;this.brandAddForm.get("logoUrl").setValue(i),this.showLoader=!1}},n=>{console.log(n),this.showLoader=!1})}openModal(a){this.submitted=!1,this.upload=!0,this.brandAddForm.reset(),this.modalRef=this.modalService.show(a,{class:"modal-md"})}removeImage(){this.upload=!0}get form(){return this.brandAddForm.controls}}let $;D.\u0275fac=function(a){return new(a||D)(e.Y36(x.tT),e.Y36(ae.c),e.Y36(p.QS),e.Y36(C.f))},D.\u0275cmp=e.Xpm({type:D,selectors:[["app-brand"]],features:[e._Bn([ae.c,h.JJ])],decls:34,vars:7,consts:[[4,"ngIf"],[1,"container-fluid"],["title","Car Manufacturer",3,"breadcrumbItems"],[1,"nav"],[1,"row"],[1,"col-12"],[1,"card"],[1,"card-body"],[1,"row","mb-2"],[1,"col-sm-4"],[1,"col-sm-8"],[1,"text-sm-end"],["type","button",1,"btn","btn-success","btn-rounded","mb-2","me-2",3,"click"],[1,"mdi","mdi-plus","mr-1"],[1,"table-responsive","mb-0"],[1,"table","table-centered","table-nowrap"],[1,"table"],[1,"align-middle"],[4,"ngFor","ngForOf"],[1,"pagination","pagination-rounded","justify-content-end","mb-2"],[3,"totalItems","itemsPerPage","ngModel","ngModelChange","pageChanged"],["role","document"],["content",""],["colspan","4",1,"text-center"],[1,"form-check","form-switch","form-switch-lg","mb-3"],["type","checkbox","id","SwitchCheckSizelg",1,"form-check-input",3,"ngModel","ngModelChange","click"],[1,"d-flex","gap-3"],["href","javascript:void(0);",1,"text-success",3,"click"],[1,"mdi","mdi-pencil","font-size-18"],["href","javascript:void(0);",1,"text-danger",3,"click"],[1,"mdi","mdi-delete","font-size-18"],[1,"modal-header"],["id","exampleModalLabel",1,"modal-title"],["type","button","data-bs-dismiss","modal","aria-label","Close","id","close-modal",1,"btn-close",3,"click"],[3,"formGroup","ngSubmit"],[1,"modal-body"],["type","hidden","name","id","value","","formControlName","ids"],[1,"mb-3"],["for","state-field",1,"form-label"],["type","text","id","customername-field","placeholder","Enter Manufacturer Name","required","","formControlName","name",1,"form-control",3,"ngClass"],["class","invalid-feedback","align","left",4,"ngIf"],["for","payment-field",1,"form-label"],["type","checkbox","id","SwitchCheckSizelg",1,"form-check-input",3,"checked","change"],["type","file",3,"change",4,"ngIf"],["class","img-block",4,"ngIf"],[1,"modal-footer"],[1,"hstack","gap-2","justify-content-end"],["type","button","data-bs-dismiss","modal",1,"btn","btn-light",3,"click"],["type","submit","id","add-btn",1,"btn","btn-success"],["align","left",1,"invalid-feedback"],["type","file",3,"change"],[1,"img-block"],["type","button","id","close-btn","ngbTooltip","Remove Image",1,"close",3,"click"],["alt","",1,"avatar-lg","rounded","me-3",3,"src"]],template:function(a,t){if(1&a){const r=e.EpF();e.YNc(0,dt,1,0,"app-loader",0),e.TgZ(1,"div",1),e._UZ(2,"app-page-title",2)(3,"div",3),e.TgZ(4,"div",4)(5,"div",5)(6,"div",6)(7,"div",7)(8,"div",8),e._UZ(9,"div",9),e.TgZ(10,"div",10)(11,"div",11)(12,"button",12),e.NdJ("click",function(){e.CHM(r);const i=e.MAs(33);return e.KtG(t.openModal(i))}),e._UZ(13,"i",13),e._uU(14," Add New Manufacturer "),e.qZA()()()(),e.TgZ(15,"div",14)(16,"table",15)(17,"thead",16)(18,"tr")(19,"th",17),e._uU(20,"Sl. No."),e.qZA(),e.TgZ(21,"th",17),e._uU(22,"Name"),e.qZA(),e.TgZ(23,"th",17),e._uU(24,"Status"),e.qZA(),e.TgZ(25,"th",17),e._uU(26,"Action"),e.qZA()()(),e.TgZ(27,"tbody"),e.YNc(28,ut,4,0,"ng-container",0),e.YNc(29,pt,14,3,"tr",18),e.qZA()()(),e.TgZ(30,"ul",19)(31,"pagination",20),e.NdJ("ngModelChange",function(i){return t.currentPage=i})("pageChanged",function(i){return t.changePage(i)}),e.qZA()()()()()()(),e.YNc(32,bt,29,8,"ng-template",21,22,e.W1O)}2&a&&(e.Q6J("ngIf",t.showLoader),e.xp6(2),e.Q6J("breadcrumbItems",t.breadCrumbItems),e.xp6(26),e.Q6J("ngIf",!(null!=t.slicedBrandsList&&t.slicedBrandsList.length)),e.xp6(1),e.Q6J("ngForOf",t.slicedBrandsList),e.xp6(2),e.Q6J("totalItems",t.brandsList.length)("itemsPerPage",t.itemsPerPage)("ngModel",t.currentPage))},dependencies:[h.mk,h.sg,h.O5,A.V,w.R,p._Y,p.Fj,p.Wl,p.JJ,p.JL,p.Q7,p.On,y.Qt,p.sg,p.u]});class P{constructor(a,t,r){this.pipe=a,this.http=t,this.util=r,this._loading$=new k.X(!0),this._search$=new se.x,this._filteredData$=new k.X([]),this._total$=new k.X(0),this._state={page:1,pageSize:8,searchTerm:"",sortColumn:"",sortDirection:"",startIndex:0,endIndex:9,totalRecords:0,status:"",payment:"",date:""},this.cities=[{id:1,name:"Kannur",state:"Kerala"},{id:2,name:"Kochi",state:"Kerala"},{id:3,name:"Chalakudi",state:"Kerala"}],this.savePartType=n=>(this.util.activeUrl=1,this.http.post("/api/part-type",n,{headers:$})),this.getPartTypes=()=>(this.util.activeUrl=1,this.http.get("/api/part-type",{headers:$})),this.deletePartType=n=>(this.util.activeUrl=1,this.http.delete(`/api/part-type/${n}`,{headers:$})),this.getSelectedPartTypeDetail=n=>(this.util.activeUrl=1,this.http.get(`/api/part-type/${n}`,{headers:$})),this.updatePartTypeDetail=(n,i)=>(this.util.activeUrl=1,this.http.patch(`/api/part-type/${i}`,n,{headers:$})),this._search$.pipe((0,N.b)(()=>this._loading$.next(!0)),(0,le.b)(200),(0,ce.w)(()=>this._search()),(0,de.g)(200),(0,N.b)(()=>this._loading$.next(!1))).subscribe(n=>{this._filteredData$.next(n.filteredData),this._total$.next(n.total)}),this._search$.next()}get filteredData$(){return this._filteredData$.asObservable()}get product(){return this.products}get total$(){return this._total$.asObservable()}get loading$(){return this._loading$.asObservable()}get page(){return this._state.page}get pageSize(){return this._state.pageSize}get searchTerm(){return this._state.searchTerm}get startIndex(){return this._state.startIndex}get endIndex(){return this._state.endIndex}get totalRecords(){return this._state.totalRecords}get status(){return this._state.status}get payment(){return this._state.payment}get date(){return this._state.date}set page(a){this._set({page:a})}set pageSize(a){this._set({pageSize:a})}set searchTerm(a){this._set({searchTerm:a})}set sortColumn(a){this._set({sortColumn:a})}set sortDirection(a){this._set({sortDirection:a})}set startIndex(a){this._set({startIndex:a})}set endIndex(a){this._set({endIndex:a})}set totalRecords(a){this._set({totalRecords:a})}set status(a){this._set({status:a})}set payment(a){this._set({payment:a})}set date(a){this._set({date:a})}_set(a){Object.assign(this._state,a),this._search$.next()}_search(){const{sortColumn:a,sortDirection:t,page:n,searchTerm:i}=this._state;let u=function Zt(o,a,t){return""===t||""===a?o:[...o].sort((r,n)=>{const i=((o,a)=>o<a?-1:o>a?1:0)(r[a],n[a]);return"asc"===t?i:-i})}(this.cities,a,t);u=u.filter(m=>function Tt(o,a,t){return o.name.toLowerCase().includes(a.toLowerCase())}(m,i));const d=u.length;return this.totalRecords=u.length,this._state.startIndex=(n-1)*this.pageSize+1,this._state.endIndex=(n-1)*this.pageSize+this.pageSize,this.endIndex>this.totalRecords&&(this.endIndex=this.totalRecords),u=u.slice(this._state.startIndex-1,this._state.endIndex),(0,re.of)({filteredData:u,total:d})}}P.\u0275fac=function(a){return new(a||P)(e.LFG(h.JJ),e.LFG(ue.eN),e.LFG(C.f))},P.\u0275prov=e.Yz7({token:P,factory:P.\u0275fac,providedIn:"root"});const Ct={asc:"desc",desc:"","":"asc"};class K{constructor(){this.sortable="",this.direction="",this.sort=new e.vpe}rotate(){this.direction=Ct[this.direction],this.sort.emit({column:this.sortable,direction:this.direction})}}function yt(o,a){1&o&&e._UZ(0,"app-loader")}function xt(o,a){1&o&&(e.ynx(0),e.TgZ(1,"tr")(2,"td",23),e._uU(3," No Car Part types list. "),e.qZA()(),e.BQk())}function At(o,a){if(1&o){const t=e.EpF();e.TgZ(0,"tr")(1,"td"),e._uU(2),e.qZA(),e.TgZ(3,"td"),e._uU(4),e.qZA(),e.TgZ(5,"td")(6,"div",24)(7,"input",25),e.NdJ("ngModelChange",function(n){const l=e.CHM(t).index,s=e.oxw();return e.KtG(s.statusBoolean[(s.currentPage-1)*s.itemsPerPage+l]=n)})("click",function(){const n=e.CHM(t),i=n.$implicit,l=n.index,s=e.oxw();return e.KtG(s.updateStatus(i,(s.currentPage-1)*s.itemsPerPage+l))}),e.qZA()()(),e.TgZ(8,"td")(9,"div",26)(10,"a",27),e.NdJ("click",function(){const i=e.CHM(t).$implicit,l=e.oxw(),s=e.MAs(34);return e.KtG(l.editDataGet(null==i?null:i.id,s))}),e._UZ(11,"i",28),e.qZA(),e.TgZ(12,"a",29),e.NdJ("click",function(){const i=e.CHM(t).$implicit,l=e.oxw();return e.KtG(l.delete(null==i?null:i.id))}),e._UZ(13,"i",30),e.qZA()()()()}if(2&o){const t=a.$implicit,r=a.index,n=e.oxw();e.xp6(2),e.Oqu((n.currentPage-1)*n.itemsPerPage+r+1),e.xp6(2),e.Oqu(null==t?null:t.name),e.xp6(3),e.Q6J("ngModel",n.statusBoolean[(n.currentPage-1)*n.itemsPerPage+r])}}function kt(o,a){if(1&o){const t=e.EpF();e.TgZ(0,"div",31)(1,"h5",32),e._uU(2,"Part Type Details"),e.qZA(),e.TgZ(3,"button",33),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(null==n.modalRef?null:n.modalRef.hide())}),e.qZA()(),e.TgZ(4,"div",34)(5,"p",35),e._uU(6," Product id: "),e.TgZ(7,"span",36),e._uU(8,"#SK2540"),e.qZA()(),e.TgZ(9,"p",37),e._uU(10," Billing Name: "),e.TgZ(11,"span",36),e._uU(12,"Neal Matthews"),e.qZA()(),e.TgZ(13,"div",38)(14,"table",14)(15,"thead")(16,"tr")(17,"th",39),e._uU(18,"Product"),e.qZA(),e.TgZ(19,"th",39),e._uU(20,"Product Name"),e.qZA(),e.TgZ(21,"th",39),e._uU(22,"Price"),e.qZA()()(),e.TgZ(23,"tbody")(24,"tr")(25,"th",40)(26,"div"),e._UZ(27,"img",41),e.qZA()(),e.TgZ(28,"td")(29,"div")(30,"h5",42),e._uU(31," Wireless Headphone (Black) "),e.qZA(),e.TgZ(32,"p",43),e._uU(33,"$ 225 x 1"),e.qZA()()(),e.TgZ(34,"td"),e._uU(35,"$ 255"),e.qZA()(),e.TgZ(36,"tr")(37,"th",40)(38,"div"),e._UZ(39,"img",44),e.qZA()(),e.TgZ(40,"td")(41,"div")(42,"h5",42),e._uU(43," Phone patterned cases "),e.qZA(),e.TgZ(44,"p",43),e._uU(45,"$ 145 x 1"),e.qZA()()(),e.TgZ(46,"td"),e._uU(47,"$ 145"),e.qZA()(),e.TgZ(48,"tr")(49,"td",45)(50,"h6",46),e._uU(51,"Sub Total:"),e.qZA()(),e.TgZ(52,"td"),e._uU(53,"$ 400"),e.qZA()(),e.TgZ(54,"tr")(55,"td",45)(56,"h6",46),e._uU(57,"Shipping:"),e.qZA()(),e.TgZ(58,"td"),e._uU(59,"Free"),e.qZA()(),e.TgZ(60,"tr")(61,"td",45)(62,"h6",46),e._uU(63,"Total:"),e.qZA()(),e.TgZ(64,"td"),e._uU(65,"$ 400"),e.qZA()()()()()(),e.TgZ(66,"div",47)(67,"button",48),e.NdJ("click",function(){const i=e.CHM(t).$implicit;return e.KtG(i.close("Close click"))}),e._uU(68," Close "),e.qZA()()}}function Pt(o,a){1&o&&(e.TgZ(0,"div"),e._uU(1," Part type Name is required "),e.qZA())}function Ut(o,a){if(1&o&&(e.TgZ(0,"div",62),e.YNc(1,Pt,2,0,"div",0),e.qZA()),2&o){const t=e.oxw(2);e.xp6(1),e.Q6J("ngIf",t.form.name.errors.required)}}K.\u0275fac=function(a){return new(a||K)},K.\u0275dir=e.lG2({type:K,selectors:[["th","sortable",""]],hostVars:4,hostBindings:function(a,t){1&a&&e.NdJ("click",function(){return t.rotate()}),2&a&&e.ekj("asc","asc"===t.direction)("desc","desc"===t.direction)},inputs:{sortable:"sortable",direction:"direction"},outputs:{sort:"sort"}});const qt=function(o){return{"is-invalid":o}};function wt(o,a){if(1&o){const t=e.EpF();e.TgZ(0,"div",31)(1,"h5",49),e._uU(2,"Add/Edit Part Type"),e.qZA(),e.TgZ(3,"button",50),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(null==n.modalRef?null:n.modalRef.hide())}),e.qZA()(),e.TgZ(4,"form",51),e.NdJ("ngSubmit",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.savePartType())}),e.TgZ(5,"div",34),e._UZ(6,"input",52),e.TgZ(7,"div",53)(8,"label",54),e._uU(9,"Part Type Name"),e.qZA(),e._UZ(10,"input",55),e.YNc(11,Ut,2,1,"div",56),e.qZA(),e.TgZ(12,"div",53)(13,"label",57),e._uU(14,"Status"),e.qZA(),e.TgZ(15,"div",24)(16,"input",58),e.NdJ("change",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.activeStatus=!n.activeStatus)}),e.qZA()()()(),e.TgZ(17,"div",47)(18,"div",59)(19,"button",60),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(null==n.modalRef?null:n.modalRef.hide())}),e._uU(20," Close "),e.qZA(),e.TgZ(21,"button",61),e._uU(22,"Save"),e.qZA()()()()}if(2&o){const t=e.oxw();e.xp6(4),e.Q6J("formGroup",t.partTypeAddForm),e.xp6(6),e.Q6J("ngClass",e.VKq(4,qt,t.submitted&&t.form.name.errors)),e.xp6(1),e.Q6J("ngIf",t.submitted&&t.form.name.errors),e.xp6(5),e.Q6J("checked",t.activeStatus)}}class W{constructor(a,t,r,n){var i=this;this.modalService=a,this.service=t,this.formBuilder=r,this.utilService=n,this.submitted=!1,this.image="",this.file="",this.partTypeList=[],this.showLoader=!1,this.slicedPartTypeList=[],this.config={maxFilesize:50,acceptedFiles:"image/*",method:"POST",uploadMultiple:!1,accept:l=>{this.onAccept(l)}},this.states=["Andhra Pradesh","Arunachal Pradesh","Assam","Bihar","Chhattisgarh","Goa","Gujarat","Haryana","Himachal Pradesh","Jharkhand","Karnataka","Kerala","Madhya Pradesh","Maharashtra","Manipur","Meghalaya","Mizoram","Nagaland","Odisha","Punjab","Rajasthan","Sikkim","Tamil Nadu","Telangana","Tripura","Uttar Pradesh","Uttarakhand","West Bengal","Andaman and Nicobar Islands","Chandigarh","Dadra & Nagar Haveli and Daman & Diu","Delhi","Jammu and Kashmir","Lakshadweep","Puducherry","Ladakh"],this.activeStatus=!0,this.delete=function(){var l=(0,_.Z)(function*(s){const c=v().mixin({customClass:{confirmButton:"btn btn-success",cancelButton:"btn btn-danger ms-2"},buttonsStyling:!1});c.fire({title:"Are you sure?",text:"You won't be able to revert this!",icon:"warning",confirmButtonText:"Yes, delete it!",cancelButtonText:"No, cancel!",showCancelButton:!0}).then(function(){var u=(0,_.Z)(function*(d){if(d.value){i.showLoader=!0;try{(yield i.service.deletePartType(s).toPromise())&&(c.fire("Deleted!","Your data has been deleted.","success"),i.loadPartTypes())}catch{i.showLoader=!1}}else d.dismiss===v().DismissReason.cancel&&c.fire("Cancelled","Your data is safe :)","error")});return function(d){return u.apply(this,arguments)}}())});return function(s){return l.apply(this,arguments)}}(),this.savePartType=(0,_.Z)(function*(){if(i.submitted=!0,i.partTypeAddForm.valid){i.showLoader=!0;const{name:l}=i.partTypeAddForm.value,u={name:l,status:i.activeStatus?"active":"inactive"};if(i.form.ids.value)try{(yield i.service.updatePartTypeDetail(u,i.form.ids.value).toPromise())&&(i.modalService.hide(),i.loadPartTypes())}catch{i.showLoader=!1}else try{(yield i.service.savePartType(u).toPromise())&&(i.modalService.hide(),i.loadPartTypes())}catch{i.showLoader=!1}}}),this.loadPartTypes=(0,_.Z)(function*(){for(i.itemsPerPage=10,i.currentPage=1;i.statusBoolean.length;)i.statusBoolean.pop();try{const l=yield i.service.getPartTypes().toPromise();l&&(i.partTypeList=l.filter(s=>2!==s.id),i.slicedPartTypeList=i.partTypeList.slice(0,i.itemsPerPage),i.partTypeList.forEach((s,c)=>{i.statusBoolean.push("active"==s.status)}),i.showLoader=!1)}catch{i.showLoader=!1}}),this.updateStatus=function(){var l=(0,_.Z)(function*(s,c){const u=v().mixin({customClass:{confirmButton:"btn btn-success",cancelButton:"btn btn-danger ms-2"},buttonsStyling:!1});u.fire({title:"Are you sure?",text:"Do you want to update the status?",icon:"warning",confirmButtonText:"Yes, update!",cancelButtonText:"No, cancel!",showCancelButton:!0}).then(function(){var d=(0,_.Z)(function*(m){if(m.value){const f={status:"active"===s.status?"inactive":"active"};try{const g=yield i.service.updatePartTypeDetail(f,s.id).toPromise();if(g){i.modalService.hide(),i.statusBoolean[c]="active"===g.status,s.status=g.status;const Z=i.slicedPartTypeList?.filter(T=>T.id===g.id);Z.length&&(Z[0]=g)}}catch{}}else m.dismiss===v().DismissReason.cancel&&(i.statusBoolean[c]="active"===s.status,u.fire("Cancelled","Status updation cancelled!","error"))});return function(m){return d.apply(this,arguments)}}())});return function(s,c){return l.apply(this,arguments)}}(),this.editDataGet=function(){var l=(0,_.Z)(function*(s,c){i.showLoader=!0;try{const d=yield i.service.getSelectedPartTypeDetail(s).toPromise();d&&(i.partTypeAddForm.get("ids")?.setValue(d?.id),i.partTypeAddForm.get("name")?.setValue(d?.name),i.activeStatus="active"===d?.status,i.submitted=!1,i.showLoader=!1,i.modalRef=i.modalService.show(c,{class:"modal-md"}),document.getElementById("add-btn").innerHTML="Update")}catch{i.showLoader=!1}});return function(s,c){return l.apply(this,arguments)}}(),this.changePage=l=>{this.currentPage=l.page,this.slicedPartTypeList=this.partTypeList.slice((l.page-1)*l.itemsPerPage,l.page*l.itemsPerPage)},this.total=t.total$}ngOnInit(){this.statusBoolean=[],this.showLoader=!0,this.breadCrumbItems=[{label:"Master Data"},{label:"Part Type",active:!0}],this.partTypeAddForm=this.formBuilder.group({id:"",ids:[""],name:["",[p.kI.required]],status:[""]}),this.loadPartTypes()}openViewModal(a){this.modalRef=this.modalService.show(a)}checkUncheckAll(a){this.orderes.forEach(t=>t.state=a.target.checked)}openModal(a){this.submitted=!1,this.partTypeAddForm.reset(),this.modalRef=this.modalService.show(a,{class:"modal-md"})}get form(){return this.partTypeAddForm.controls}onAccept(a){this.image=a.name,this.file=a,this.utilService.uploadFile({file:a}).subscribe(r=>{},r=>{})}}W.\u0275fac=function(a){return new(a||W)(e.Y36(x.tT),e.Y36(P),e.Y36(p.QS),e.Y36(C.f))},W.\u0275cmp=e.Xpm({type:W,selectors:[["app-part-type"]],viewQuery:function(a,t){if(1&a&&e.Gf(K,5),2&a){let r;e.iGM(r=e.CRH())&&(t.headers=r)}},features:[e._Bn([P,h.JJ])],decls:35,vars:7,consts:[[4,"ngIf"],[1,"container-fluid"],["title","Part Type",3,"breadcrumbItems"],[1,"row"],[1,"col-12"],[1,"card"],[1,"card-body"],[1,"row","mb-2"],[1,"col-sm-4"],[1,"col-sm-8"],[1,"text-sm-end"],["type","button",1,"btn","btn-success","btn-rounded","mb-2","me-2",3,"click"],[1,"mdi","mdi-plus","mr-1"],[1,"table-responsive","mb-0"],[1,"table","table-centered","table-nowrap"],[1,"table"],[1,"align-middle"],[4,"ngFor","ngForOf"],[1,"pagination","pagination-rounded","justify-content-end","mb-2"],[3,"totalItems","itemsPerPage","ngModel","ngModelChange","pageChanged"],["role","document"],["ViewContent",""],["content",""],["colspan","5",1,"text-center"],[1,"form-check","form-switch","form-switch-lg","mb-3"],["type","checkbox","id","SwitchCheckSizelg",1,"form-check-input",3,"ngModel","ngModelChange","click"],[1,"d-flex","gap-3"],["href","javascript:void(0);",1,"text-success",3,"click"],[1,"mdi","mdi-pencil","font-size-18"],["href","javascript:void(0);",1,"text-danger",3,"click"],[1,"mdi","mdi-delete","font-size-18"],[1,"modal-header"],[1,"modal-title","mt-0"],["type","button","aria-hidden","true",1,"btn-close",3,"click"],[1,"modal-body"],[1,"mb-2"],[1,"text-primary"],[1,"mb-4"],[1,"table-responsive"],["scope","col"],["scope","row"],["src","assets/images/product/img-7.png","alt","",1,"avatar-sm"],[1,"text-truncate","font-size-14"],[1,"text-muted","mb-0"],["src","assets/images/product/img-4.png","alt","",1,"avatar-sm"],["colspan","2"],[1,"m-0","text-end"],[1,"modal-footer"],[1,"btn","btn-secondary",3,"click"],["id","exampleModalLabel",1,"modal-title"],["type","button","data-bs-dismiss","modal","aria-label","Close","id","close-modal",1,"btn-close",3,"click"],[3,"formGroup","ngSubmit"],["type","hidden","name","id","value","","formControlName","ids"],[1,"mb-3"],["for","customername-field",1,"form-label"],["type","text","id","customername-field","placeholder","Enter part type name","required","","formControlName","name",1,"form-control",3,"ngClass"],["class","invalid-feedback","align","left",4,"ngIf"],["for","payment-field",1,"form-label"],["type","checkbox","id","SwitchCheckSizelg",1,"form-check-input",3,"checked","change"],[1,"hstack","gap-2","justify-content-end"],["type","button","data-bs-dismiss","modal",1,"btn","btn-light",3,"click"],["type","submit","id","add-btn",1,"btn","btn-success"],["align","left",1,"invalid-feedback"]],template:function(a,t){if(1&a){const r=e.EpF();e.YNc(0,yt,1,0,"app-loader",0),e.TgZ(1,"div",1),e._UZ(2,"app-page-title",2),e.TgZ(3,"div",3)(4,"div",4)(5,"div",5)(6,"div",6)(7,"div",7),e._UZ(8,"div",8),e.TgZ(9,"div",9)(10,"div",10)(11,"button",11),e.NdJ("click",function(){e.CHM(r);const i=e.MAs(34);return e.KtG(t.openModal(i))}),e._UZ(12,"i",12),e._uU(13," Add New Part Type "),e.qZA()()()(),e.TgZ(14,"div",13)(15,"table",14)(16,"thead",15)(17,"tr")(18,"th",16),e._uU(19,"Sl. No."),e.qZA(),e.TgZ(20,"th",16),e._uU(21,"Part Type"),e.qZA(),e.TgZ(22,"th",16),e._uU(23,"Status"),e.qZA(),e.TgZ(24,"th",16),e._uU(25,"Action"),e.qZA()()(),e.TgZ(26,"tbody"),e.YNc(27,xt,4,0,"ng-container",0),e.YNc(28,At,14,3,"tr",17),e.qZA()()(),e.TgZ(29,"ul",18)(30,"pagination",19),e.NdJ("ngModelChange",function(i){return t.currentPage=i})("pageChanged",function(i){return t.changePage(i)}),e.qZA()()()()()()(),e.YNc(31,kt,69,0,"ng-template",20,21,e.W1O),e.YNc(33,wt,23,6,"ng-template",20,22,e.W1O)}2&a&&(e.Q6J("ngIf",t.showLoader),e.xp6(2),e.Q6J("breadcrumbItems",t.breadCrumbItems),e.xp6(25),e.Q6J("ngIf",!(null!=t.slicedPartTypeList&&t.slicedPartTypeList.length)),e.xp6(1),e.Q6J("ngForOf",t.slicedPartTypeList),e.xp6(2),e.Q6J("totalItems",t.partTypeList.length)("itemsPerPage",t.itemsPerPage)("ngModel",t.currentPage))},dependencies:[h.mk,h.sg,h.O5,A.V,w.R,p._Y,p.Fj,p.Wl,p.JJ,p.JL,p.Q7,p.On,y.Qt,p.sg,p.u]});var be=b(17281);const St={asc:"desc",desc:"","":"asc"};class V{constructor(){this.sortable="",this.direction="",this.sort=new e.vpe}rotate(){this.direction=St[this.direction],this.sort.emit({column:this.sortable,direction:this.direction})}}function Mt(o,a){1&o&&e._UZ(0,"app-loader")}function Nt(o,a){1&o&&(e.ynx(0),e.TgZ(1,"tr")(2,"td",23),e._uU(3,"No Oil grades list."),e.qZA()(),e.BQk())}function It(o,a){if(1&o){const t=e.EpF();e.TgZ(0,"tr")(1,"td"),e._uU(2),e.qZA(),e.TgZ(3,"td"),e._uU(4),e.qZA(),e.TgZ(5,"td"),e._UZ(6,"img",24),e.qZA(),e.TgZ(7,"td"),e._uU(8),e.qZA(),e.TgZ(9,"td")(10,"div",25)(11,"a",26),e.NdJ("click",function(){const i=e.CHM(t).$implicit,l=e.oxw(),s=e.MAs(36);return e.KtG(l.editDataGet(null==i?null:i.id,s))}),e._UZ(12,"i",27),e.qZA(),e.TgZ(13,"a",28),e.NdJ("click",function(){const i=e.CHM(t).$implicit,l=e.oxw();return e.KtG(l.delete(null==i?null:i.id))}),e._UZ(14,"i",29),e.qZA()()()()}if(2&o){const t=a.$implicit,r=a.index,n=e.oxw();e.xp6(2),e.Oqu((n.currentPage-1)*n.itemsPerPage+r+1),e.xp6(2),e.Oqu(null==t?null:t.oilName),e.xp6(2),e.s9C("src",t.photoUrl,e.LSH),e.xp6(2),e.Oqu(null!=t&&t.recommended?"Yes":"No")}}function Lt(o,a){if(1&o){const t=e.EpF();e.TgZ(0,"div",30)(1,"h5",31),e._uU(2,"Grade Details"),e.qZA(),e.TgZ(3,"button",32),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(null==n.modalRef?null:n.modalRef.hide())}),e.qZA()(),e.TgZ(4,"div",33)(5,"p",34),e._uU(6," Product id: "),e.TgZ(7,"span",35),e._uU(8,"#SK2540"),e.qZA()(),e.TgZ(9,"p",36),e._uU(10," Billing Name: "),e.TgZ(11,"span",35),e._uU(12,"Neal Matthews"),e.qZA()(),e.TgZ(13,"div",37)(14,"table",14)(15,"thead")(16,"tr")(17,"th",38),e._uU(18,"Product"),e.qZA(),e.TgZ(19,"th",38),e._uU(20,"Product Name"),e.qZA(),e.TgZ(21,"th",38),e._uU(22,"Price"),e.qZA()()(),e.TgZ(23,"tbody")(24,"tr")(25,"th",39)(26,"div"),e._UZ(27,"img",40),e.qZA()(),e.TgZ(28,"td")(29,"div")(30,"h5",41),e._uU(31," Wireless Headphone (Black) "),e.qZA(),e.TgZ(32,"p",42),e._uU(33,"$ 225 x 1"),e.qZA()()(),e.TgZ(34,"td"),e._uU(35,"$ 255"),e.qZA()(),e.TgZ(36,"tr")(37,"th",39)(38,"div"),e._UZ(39,"img",43),e.qZA()(),e.TgZ(40,"td")(41,"div")(42,"h5",41),e._uU(43," Phone patterned cases "),e.qZA(),e.TgZ(44,"p",42),e._uU(45,"$ 145 x 1"),e.qZA()()(),e.TgZ(46,"td"),e._uU(47,"$ 145"),e.qZA()(),e.TgZ(48,"tr")(49,"td",44)(50,"h6",45),e._uU(51,"Sub Total:"),e.qZA()(),e.TgZ(52,"td"),e._uU(53,"$ 400"),e.qZA()(),e.TgZ(54,"tr")(55,"td",44)(56,"h6",45),e._uU(57,"Shipping:"),e.qZA()(),e.TgZ(58,"td"),e._uU(59,"Free"),e.qZA()(),e.TgZ(60,"tr")(61,"td",44)(62,"h6",45),e._uU(63,"Total:"),e.qZA()(),e.TgZ(64,"td"),e._uU(65,"$ 400"),e.qZA()()()()()(),e.TgZ(66,"div",46)(67,"button",47),e.NdJ("click",function(){const i=e.CHM(t).$implicit;return e.KtG(i.close("Close click"))}),e._uU(68," Close "),e.qZA()()}}function Bt(o,a){1&o&&(e.TgZ(0,"div"),e._uU(1," Oil name is required "),e.qZA())}function Jt(o,a){if(1&o&&(e.TgZ(0,"div",66),e.YNc(1,Bt,2,0,"div",0),e.qZA()),2&o){const t=e.oxw(2);e.xp6(1),e.Q6J("ngIf",t.form.oilName.errors.required)}}function Ft(o,a){1&o&&(e.TgZ(0,"div"),e._uU(1," Description is required "),e.qZA())}function Gt(o,a){if(1&o&&(e.TgZ(0,"div",66),e.YNc(1,Ft,2,0,"div",0),e.qZA()),2&o){const t=e.oxw(2);e.xp6(1),e.Q6J("ngIf",t.form.description.errors.required)}}function Ot(o,a){if(1&o){const t=e.EpF();e.TgZ(0,"input",67),e.NdJ("change",function(n){e.CHM(t);const i=e.oxw(2);return e.KtG(i.onAccept(n))}),e.qZA()}}function Yt(o,a){if(1&o){const t=e.EpF();e.TgZ(0,"div",68)(1,"button",69),e.NdJ("click",function(){e.CHM(t);const n=e.oxw(2);return e.KtG(n.removeImage())}),e.TgZ(2,"span"),e._uU(3,"\xd7"),e.qZA()(),e._UZ(4,"img",70),e.qZA()}if(2&o){const t=e.oxw(2);e.xp6(4),e.s9C("src",t.form.photoUrl.value,e.LSH)}}V.\u0275fac=function(a){return new(a||V)},V.\u0275dir=e.lG2({type:V,selectors:[["th","sortable",""]],hostVars:4,hostBindings:function(a,t){1&a&&e.NdJ("click",function(){return t.rotate()}),2&a&&e.ekj("asc","asc"===t.direction)("desc","desc"===t.direction)},inputs:{sortable:"sortable",direction:"direction"},outputs:{sort:"sort"}});const ve=function(o){return{"is-invalid":o}};function Rt(o,a){if(1&o){const t=e.EpF();e.TgZ(0,"div",30)(1,"h5",48),e._uU(2,"Add/Edit Grade"),e.qZA(),e.TgZ(3,"button",49),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(null==n.modalRef?null:n.modalRef.hide())}),e.qZA()(),e.TgZ(4,"form",50),e.NdJ("ngSubmit",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.saveGrade())}),e.TgZ(5,"div",33),e._UZ(6,"input",51),e.TgZ(7,"div",52)(8,"label",53),e._uU(9,"Oil Name"),e.qZA(),e._UZ(10,"input",54),e.YNc(11,Jt,2,1,"div",55),e.qZA(),e.TgZ(12,"div",52)(13,"label",56),e._uU(14,"Description"),e.qZA(),e._UZ(15,"textarea",57),e.YNc(16,Gt,2,1,"div",55),e.qZA(),e.TgZ(17,"div",52)(18,"label",58),e._uU(19,"Recommended"),e.qZA(),e.TgZ(20,"div",59)(21,"input",60),e.NdJ("change",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.activeStatus=!n.activeStatus)}),e.qZA()()(),e.TgZ(22,"div",52)(23,"label",58),e._uU(24,"Icon"),e.qZA(),e._UZ(25,"br"),e.YNc(26,Ot,1,0,"input",61),e.YNc(27,Yt,5,1,"div",62),e.qZA()(),e.TgZ(28,"div",46)(29,"div",63)(30,"button",64),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(null==n.modalRef?null:n.modalRef.hide())}),e._uU(31," Close "),e.qZA(),e.TgZ(32,"button",65),e._uU(33," Add Grade "),e.qZA()()()()}if(2&o){const t=e.oxw();e.xp6(4),e.Q6J("formGroup",t.gradeAddForm),e.xp6(6),e.Q6J("ngClass",e.VKq(8,ve,t.submitted&&t.form.oilName.errors)),e.xp6(1),e.Q6J("ngIf",t.submitted&&t.form.oilName.errors),e.xp6(4),e.Q6J("ngClass",e.VKq(10,ve,t.submitted&&t.form.description.errors)),e.xp6(1),e.Q6J("ngIf",t.submitted&&t.form.description.errors),e.xp6(5),e.Q6J("checked",t.activeStatus),e.xp6(5),e.Q6J("ngIf",t.upload),e.xp6(1),e.Q6J("ngIf",!t.upload)}}class z{constructor(a,t,r,n){var i=this;this.modalService=a,this.service=t,this.formBuilder=r,this.utilService=n,this.upload=!0,this.submitted=!1,this.image="",this.file="",this.gradesList=[],this.slicedGradesList=[],this.activeStatus=!0,this.showLoader=!1,this.config={maxFilesize:50,acceptedFiles:"image/*",method:"POST",uploadMultiple:!1,accept:l=>{this.onAccept(l)}},this.data=[{grade:"Grade A",code:"001",oilName:"xxx"},{grade:"Grade B",code:"002",oilName:"xxx"},{grade:"Grade C",code:"003",oilName:"xxx"}],this.delete=function(){var l=(0,_.Z)(function*(s){const c=v().mixin({customClass:{confirmButton:"btn btn-success",cancelButton:"btn btn-danger ms-2"},buttonsStyling:!1});c.fire({title:"Are you sure?",text:"You won't be able to revert this!",icon:"warning",confirmButtonText:"Yes, delete it!",cancelButtonText:"No, cancel!",showCancelButton:!0}).then(function(){var u=(0,_.Z)(function*(d){if(d.value){i.showLoader=!0;try{(yield i.service.deleteGrade(s).toPromise())&&(c.fire("Deleted!","Your data has been deleted.","success"),i.loadGrades())}catch{i.showLoader=!1}}else d.dismiss===v().DismissReason.cancel&&c.fire("Cancelled","Your data is safe :)","error")});return function(d){return u.apply(this,arguments)}}())});return function(s){return l.apply(this,arguments)}}(),this.saveGrade=(0,_.Z)(function*(){if(i.submitted=!0,i.gradeAddForm.valid){i.showLoader=!0;const{nameDescription:l,description:s,gradeCode:c,oilName:u,photoUrl:d}=i.gradeAddForm.value,f={recommended:i.activeStatus,nameDescription:l,description:s,gradeCode:c,oilName:u,photoUrl:d};if(i.form.ids.value)try{(yield i.service.updateGradeDetail(f,i.form.ids.value).toPromise())&&(i.modalService.hide(),i.loadGrades())}catch{i.showLoader=!1}else try{console.log(f),(yield i.service.saveGrade(f).toPromise())&&(i.modalService.hide(),i.loadGrades())}catch{i.showLoader=!1}}}),this.loadGrades=(0,_.Z)(function*(){i.itemsPerPage=10,i.currentPage=1;try{const l=yield i.service.getGrades().toPromise();l&&(i.gradesList=l,i.slicedGradesList=i.gradesList.slice(0,i.itemsPerPage),i.showLoader=!1)}catch{i.showLoader=!1}}),this.editDataGet=function(){var l=(0,_.Z)(function*(s,c){i.showLoader=!0;try{const d=yield i.service.getSelectedGradeDetail(s).toPromise();d&&(i.gradeAddForm.get("ids")?.setValue(d?.id),i.gradeAddForm.get("nameDescription")?.setValue(d?.nameDescription),i.gradeAddForm.get("description")?.setValue(d?.description),i.gradeAddForm.get("gradeCode")?.setValue(d?.gradeCode),i.gradeAddForm.get("oilName")?.setValue(d?.oilName),i.gradeAddForm.get("photoUrl")?.setValue(d?.photoUrl),i.gradeAddForm.get("recommended")?.setValue(d?.recommended),i.activeStatus=d?.recommended,d?.photoUrl&&(i.upload=!1),i.submitted=!1,i.showLoader=!1,i.modalRef=i.modalService.show(c,{class:"modal-md"}),document.getElementById("add-btn").innerHTML="Update")}catch{i.showLoader=!1}});return function(s,c){return l.apply(this,arguments)}}(),this.changePage=l=>{this.currentPage=l.page,this.slicedGradesList=this.gradesList.slice((l.page-1)*l.itemsPerPage,l.page*l.itemsPerPage)},this.total=t.total$}ngOnInit(){this.showLoader=!0,this.breadCrumbItems=[{label:"Master Data"},{label:"Grade",active:!0}],this.gradeAddForm=this.formBuilder.group({id:"",ids:[""],nameDescription:["-",[p.kI.required]],description:["",[p.kI.required]],oilName:["",[p.kI.required]],photoUrl:[""],recommended:this.activeStatus}),this.loadGrades()}openViewModal(a){this.modalRef=this.modalService.show(a)}checkUncheckAll(a){this.orderes.forEach(t=>t.state=a.target.checked)}openModal(a){this.submitted=!1,this.gradeAddForm.reset(),this.gradeAddForm.patchValue({recommended:this.activeStatus,nameDescription:"-"}),this.modalRef=this.modalService.show(a,{class:"modal-md"})}removeImage(){this.upload=!0,this.image="",this.file=""}get form(){return this.gradeAddForm.controls}onAccept(a){this.showLoader=!0,this.image=a.name,this.file=a;const t=a.currentTarget.files[0],r=new FormData;r.append("file",t),this.utilService.uploadFile(r).subscribe(n=>{if(n?.mediaId){const i=this.utilService.getBaseUrl()+n.mediaId;this.gradeAddForm.get("photoUrl").setValue(i),this.showLoader=!1}},n=>{console.log(n),this.showLoader=!1})}}z.\u0275fac=function(a){return new(a||z)(e.Y36(x.tT),e.Y36(be.U),e.Y36(p.QS),e.Y36(C.f))},z.\u0275cmp=e.Xpm({type:z,selectors:[["app-grade"]],viewQuery:function(a,t){if(1&a&&e.Gf(V,5),2&a){let r;e.iGM(r=e.CRH())&&(t.headers=r)}},features:[e._Bn([be.U,h.JJ])],decls:37,vars:7,consts:[[4,"ngIf"],[1,"container-fluid"],["title","OIL Grade",3,"breadcrumbItems"],[1,"row"],[1,"col-12"],[1,"card"],[1,"card-body"],[1,"row","mb-2"],[1,"col-sm-4"],[1,"col-sm-8"],[1,"text-sm-end"],["type","button",1,"btn","btn-success","btn-rounded","mb-2","me-2",3,"click"],[1,"mdi","mdi-plus","mr-1"],[1,"table-responsive","mb-0"],[1,"table","table-centered","table-nowrap"],[1,"table"],[1,"align-middle"],[4,"ngFor","ngForOf"],[1,"pagination","pagination-rounded","justify-content-end","mb-2"],[3,"totalItems","itemsPerPage","ngModel","ngModelChange","pageChanged"],["role","document"],["ViewContent",""],["content",""],["colspan","5",1,"text-center"],["alt","",1,"avatar-sm","rounded","me-2",3,"src"],[1,"d-flex","gap-3"],["href","javascript:void(0);",1,"text-success",3,"click"],[1,"mdi","mdi-pencil","font-size-18"],["href","javascript:void(0);",1,"text-danger",3,"click"],[1,"mdi","mdi-delete","font-size-18"],[1,"modal-header"],[1,"modal-title","mt-0"],["type","button","aria-hidden","true",1,"btn-close",3,"click"],[1,"modal-body"],[1,"mb-2"],[1,"text-primary"],[1,"mb-4"],[1,"table-responsive"],["scope","col"],["scope","row"],["src","assets/images/product/img-7.png","alt","",1,"avatar-sm"],[1,"text-truncate","font-size-14"],[1,"text-muted","mb-0"],["src","assets/images/product/img-4.png","alt","",1,"avatar-sm"],["colspan","2"],[1,"m-0","text-end"],[1,"modal-footer"],[1,"btn","btn-secondary",3,"click"],["id","exampleModalLabel",1,"modal-title"],["type","button","data-bs-dismiss","modal","aria-label","Close","id","close-modal",1,"btn-close",3,"click"],[3,"formGroup","ngSubmit"],["type","hidden","name","id","value","","formControlName","ids"],[1,"mb-3"],["for","Oilname",1,"form-label"],["type","text","id","Oilname","formControlName","oilName","placeholder","Enter Oil name",1,"form-control",3,"ngClass"],["class","invalid-feedback","align","left",4,"ngIf"],["for","commentmessage-input"],["id","commentmessage-input","placeholder","Enter description","rows","3","formControlName","description",1,"form-control",3,"ngClass"],["for","payment-field",1,"form-label"],[1,"form-check","form-switch","form-switch-lg","mb-3"],["type","checkbox","id","SwitchCheckSizelg",1,"form-check-input",3,"checked","change"],["type","file",3,"change",4,"ngIf"],["class","img-block",4,"ngIf"],[1,"hstack","gap-2","justify-content-end"],["type","button","data-bs-dismiss","modal",1,"btn","btn-light",3,"click"],["type","submit","id","add-btn",1,"btn","btn-success"],["align","left",1,"invalid-feedback"],["type","file",3,"change"],[1,"img-block"],["type","button","id","close-btn","ngbTooltip","Remove Image",1,"close",3,"click"],["alt","",1,"avatar-lg","rounded","me-3",3,"src"]],template:function(a,t){if(1&a){const r=e.EpF();e.YNc(0,Mt,1,0,"app-loader",0),e.TgZ(1,"div",1),e._UZ(2,"app-page-title",2),e.TgZ(3,"div",3)(4,"div",4)(5,"div",5)(6,"div",6)(7,"div",7),e._UZ(8,"div",8),e.TgZ(9,"div",9)(10,"div",10)(11,"button",11),e.NdJ("click",function(){e.CHM(r);const i=e.MAs(36);return e.KtG(t.openModal(i))}),e._UZ(12,"i",12),e._uU(13," Add New Oil Grade "),e.qZA()()()(),e.TgZ(14,"div",13)(15,"table",14)(16,"thead",15)(17,"tr")(18,"th",16),e._uU(19,"Sl. No."),e.qZA(),e.TgZ(20,"th",16),e._uU(21,"Oil Name"),e.qZA(),e.TgZ(22,"th",16),e._uU(23,"Icon"),e.qZA(),e.TgZ(24,"th",16),e._uU(25,"Recommended"),e.qZA(),e.TgZ(26,"th",16),e._uU(27,"Action"),e.qZA()()(),e.TgZ(28,"tbody"),e.YNc(29,Nt,4,0,"ng-container",0),e.YNc(30,It,15,4,"tr",17),e.qZA()()(),e.TgZ(31,"ul",18)(32,"pagination",19),e.NdJ("ngModelChange",function(i){return t.currentPage=i})("pageChanged",function(i){return t.changePage(i)}),e.qZA()()()()()()(),e.YNc(33,Lt,69,0,"ng-template",20,21,e.W1O),e.YNc(35,Rt,34,12,"ng-template",20,22,e.W1O)}2&a&&(e.Q6J("ngIf",t.showLoader),e.xp6(2),e.Q6J("breadcrumbItems",t.breadCrumbItems),e.xp6(27),e.Q6J("ngIf",!(null!=t.slicedGradesList&&t.slicedGradesList.length)),e.xp6(1),e.Q6J("ngForOf",t.slicedGradesList),e.xp6(2),e.Q6J("totalItems",t.gradesList.length)("itemsPerPage",t.itemsPerPage)("ngModel",t.currentPage))},dependencies:[h.mk,h.sg,h.O5,A.V,w.R,p._Y,p.Fj,p.JJ,p.JL,p.On,y.Qt,p.sg,p.u],styles:["#close-btn[_ngcontent-%COMP%]{right:-100px;top:-50px;position:relative;background-color:#aeaeaf;border-radius:50%}"]});var Ze=b(63223);function Ht(o,a){1&o&&e._UZ(0,"app-loader")}function Qt(o,a){1&o&&(e.ynx(0),e.TgZ(1,"tr")(2,"td",23),e._uU(3,"No Car Panels list."),e.qZA()(),e.BQk())}function Dt(o,a){if(1&o){const t=e.EpF();e.TgZ(0,"tr")(1,"td"),e._uU(2),e.qZA(),e.TgZ(3,"td"),e._uU(4),e.qZA(),e.TgZ(5,"td"),e._uU(6),e.qZA(),e.TgZ(7,"td"),e._UZ(8,"img",24),e.qZA(),e.TgZ(9,"td")(10,"div",25)(11,"a",26),e.NdJ("click",function(){const i=e.CHM(t).$implicit,l=e.oxw(),s=e.MAs(35);return e.KtG(l.editDataGet(null==i?null:i.id,s))}),e._UZ(12,"i",27),e.qZA(),e.TgZ(13,"a",28),e.NdJ("click",function(){const i=e.CHM(t).$implicit,l=e.oxw();return e.KtG(l.delete(null==i?null:i.id))}),e._UZ(14,"i",29),e.qZA()()()()}if(2&o){const t=a.$implicit,r=a.index,n=e.oxw();e.xp6(2),e.Oqu((n.currentPage-1)*n.itemsPerPage+r+1),e.xp6(2),e.Oqu(null==t?null:t.name),e.xp6(2),e.Oqu(n.getPartType(null==t?null:t.partTypeId)),e.xp6(2),e.s9C("src",null==t?null:t.sizedPhoto,e.LSH)}}function $t(o,a){1&o&&(e.TgZ(0,"div"),e._uU(1," Panel name is required "),e.qZA())}function Kt(o,a){if(1&o&&(e.TgZ(0,"div",52),e.YNc(1,$t,2,0,"div",0),e.qZA()),2&o){const t=e.oxw(2);e.xp6(1),e.Q6J("ngIf",t.form.name.errors.required)}}function Wt(o,a){}function Vt(o,a){1&o&&(e.TgZ(0,"div"),e._uU(1," Part type is required "),e.qZA())}function zt(o,a){if(1&o&&(e.TgZ(0,"div",52),e.YNc(1,Vt,2,0,"div",0),e.qZA()),2&o){const t=e.oxw(2);e.xp6(1),e.Q6J("ngIf",t.form.partTypeId.errors.required)}}function Et(o,a){1&o&&(e.TgZ(0,"div"),e._uU(1," Description is required "),e.qZA())}function jt(o,a){if(1&o&&(e.TgZ(0,"div",52),e.YNc(1,Et,2,0,"div",0),e.qZA()),2&o){const t=e.oxw(2);e.xp6(1),e.Q6J("ngIf",t.form.description.errors.required)}}function Xt(o,a){1&o&&(e.TgZ(0,"div"),e._uU(1," Additional details is required "),e.qZA())}function ei(o,a){if(1&o&&(e.TgZ(0,"div",52),e.YNc(1,Xt,2,0,"div",0),e.qZA()),2&o){const t=e.oxw(2);e.xp6(1),e.Q6J("ngIf",t.form.additionalDetails.errors.required)}}function ti(o,a){if(1&o){const t=e.EpF();e.TgZ(0,"input",53),e.NdJ("change",function(n){e.CHM(t);const i=e.oxw(2);return e.KtG(i.onAccept(n))}),e.qZA()}}function ii(o,a){if(1&o){const t=e.EpF();e.TgZ(0,"div",54)(1,"button",55),e.NdJ("click",function(){e.CHM(t);const n=e.oxw(2);return e.KtG(n.removeImage())}),e.TgZ(2,"span"),e._uU(3,"\xd7"),e.qZA()(),e._UZ(4,"img",56),e.qZA()}if(2&o){const t=e.oxw(2);e.xp6(4),e.s9C("src",t.form.sizedPhoto.value,e.LSH)}}const ne=function(o){return{"is-invalid":o}};function ai(o,a){if(1&o){const t=e.EpF();e.TgZ(0,"div",30)(1,"h5",31),e._uU(2,"Add/Edit"),e.qZA(),e.TgZ(3,"button",32),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(null==n.modalRef?null:n.modalRef.hide())}),e.qZA()(),e.TgZ(4,"form",33),e.NdJ("ngSubmit",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.saveCarPanel())}),e.TgZ(5,"div",34),e._UZ(6,"input",35),e.TgZ(7,"div",36)(8,"label",37),e._uU(9,"Panel Name"),e.qZA(),e._UZ(10,"input",38),e.YNc(11,Kt,2,1,"div",39),e.qZA(),e.TgZ(12,"div",36)(13,"label",37),e._uU(14,"Part Type"),e.qZA(),e.TgZ(15,"ng-select",40),e.YNc(16,Wt,0,0,"ng-template",41),e.qZA(),e.YNc(17,zt,2,1,"div",39),e.qZA(),e.TgZ(18,"div",36)(19,"label",42),e._uU(20,"Description"),e.qZA(),e._UZ(21,"textarea",43),e.YNc(22,jt,2,1,"div",39),e.qZA(),e.TgZ(23,"div",36)(24,"label",42),e._uU(25,"Additional Details"),e.qZA(),e._UZ(26,"textarea",44),e.YNc(27,ei,2,1,"div",39),e.qZA(),e.TgZ(28,"div",36)(29,"label",45),e._uU(30,"Car Panel Icon"),e.qZA(),e._UZ(31,"br"),e.YNc(32,ti,1,0,"input",46),e.YNc(33,ii,5,1,"div",47),e.qZA()(),e.TgZ(34,"div",48)(35,"div",49)(36,"button",50),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(null==n.modalRef?null:n.modalRef.hide())}),e._uU(37," Close "),e.qZA(),e.TgZ(38,"button",51),e._uU(39,"Save"),e.qZA()()()()}if(2&o){const t=e.oxw();e.xp6(4),e.Q6J("formGroup",t.carPanelAddForm),e.xp6(6),e.Q6J("ngClass",e.VKq(12,ne,t.submitted&&t.form.name.errors)),e.xp6(1),e.Q6J("ngIf",t.submitted&&t.form.name.errors),e.xp6(4),e.Q6J("items",t.partTypesList)("ngClass",e.VKq(14,ne,t.submitted&&t.form.partTypeId.errors)),e.xp6(2),e.Q6J("ngIf",t.submitted&&t.form.partTypeId.errors),e.xp6(4),e.Q6J("ngClass",e.VKq(16,ne,t.submitted&&t.form.description.errors)),e.xp6(1),e.Q6J("ngIf",t.submitted&&t.form.description.errors),e.xp6(4),e.Q6J("ngClass",e.VKq(18,ne,t.submitted&&t.form.additionalDetails.errors)),e.xp6(1),e.Q6J("ngIf",t.submitted&&t.form.additionalDetails.errors),e.xp6(5),e.Q6J("ngIf",t.upload),e.xp6(1),e.Q6J("ngIf",!t.upload)}}class E{constructor(a,t,r,n,i,l){var s=this;this.router=a,this.modalService=t,this.formBuilder=r,this.service=n,this.utilService=i,this.partTypeService=l,this.submitted=!1,this.data=[{slNo:"1",name:"panel A"},{slNo:"2",name:"panel B"},{slNo:"3",name:"panel C"}],this.config={maxFilesize:50,acceptedFiles:"image/*",method:"POST",uploadMultiple:!1,accept:c=>{this.onAccept(c)}},this.image="",this.file="",this.upload=!0,this.partTypesList=[],this.carPanelList=[],this.slicedCarPanelList=[],this.showLoader=!1,this.activeStatus=!0,this.getPartType=c=>{const u=this.partTypesList.filter(d=>d.id==c);return u.length?u[0].name:"-"},this.saveCarPanel=(0,_.Z)(function*(){if(s.submitted=!0,s.carPanelAddForm.valid){s.showLoader=!0;const{name:c,partTypeId:u,additionalDetails:d,description:m,sizedPhoto:f}=s.carPanelAddForm.value,Z={name:c,partTypeId:u,additionalDetails:d,description:m,sizedPhoto:f};if(s.form.ids.value)try{(yield s.service.updateCarPanelDetail(Z,s.form.ids.value).toPromise())&&(s.modalService.hide(),s.loadCarPanels())}catch{s.showLoader=!1}else try{const T=yield s.service.saveCarPanel(Z).toPromise();T&&(console.log(T),s.modalService.hide(),s.loadCarPanels())}catch{s.showLoader=!1}}}),this.editDataGet=function(){var c=(0,_.Z)(function*(u,d){s.showLoader=!0;try{const f=yield s.service.getSelectedCarPanelDetail(u).toPromise();f&&(s.carPanelAddForm.get("ids")?.setValue(f?.id),s.carPanelAddForm.get("name")?.setValue(f?.name),s.carPanelAddForm.get("partTypeId")?.setValue(f?.partTypeId),s.carPanelAddForm.get("additionalDetails")?.setValue(f?.additionalDetails),s.carPanelAddForm.get("description")?.setValue(f?.description),s.carPanelAddForm.get("sizedPhoto")?.setValue(f?.sizedPhoto),f?.sizedPhoto&&(s.upload=!1),s.submitted=!1,s.showLoader=!1,s.modalRef=s.modalService.show(d,{class:"modal-md"}),document.getElementById("add-btn").innerHTML="Update")}catch{s.showLoader=!1}});return function(u,d){return c.apply(this,arguments)}}(),this.delete=function(){var c=(0,_.Z)(function*(u){const d=v().mixin({customClass:{confirmButton:"btn btn-success",cancelButton:"btn btn-danger ms-2"},buttonsStyling:!1});d.fire({title:"Are you sure?",text:"You won't be able to revert this!",icon:"warning",confirmButtonText:"Yes, delete it!",cancelButtonText:"No, cancel!",showCancelButton:!0}).then(function(){var m=(0,_.Z)(function*(f){if(f.value){s.showLoader=!0;try{(yield s.service.deleteCarPanel(u).toPromise())&&(d.fire("Deleted!","Your data has been deleted.","success"),s.loadCarPanels())}catch{s.showLoader=!1}}else f.dismiss===v().DismissReason.cancel&&d.fire("Cancelled","Your data is safe :)","error")});return function(f){return m.apply(this,arguments)}}())});return function(u){return c.apply(this,arguments)}}(),this.loadCarPanels=(0,_.Z)(function*(){s.itemsPerPage=10,s.currentPage=1;try{const c=yield s.service.getCarPanels().toPromise();c&&(s.carPanelList=c.filter(u=>19!==u.id),s.slicedCarPanelList=s.carPanelList.slice(0,s.itemsPerPage),s.showLoader=!1)}catch{s.showLoader=!1}}),this.loadAllData=(0,_.Z)(function*(){try{const c=yield s.partTypeService.getPartTypes().toPromise();c&&(s.partTypesList=c.filter(u=>2!==u.id),s.showLoader=!1)}catch{s.showLoader=!1}}),this.changePage=c=>{this.currentPage=c.page,this.slicedCarPanelList=this.carPanelList.slice((c.page-1)*c.itemsPerPage,c.page*c.itemsPerPage)},this.total=n.total$}ngOnInit(){this.showLoader=!0,this.breadCrumbItems=[{label:"Master Data"},{label:"Vehicles"},{label:"Car Panel",active:!0}],this.carPanelAddForm=this.formBuilder.group({id:"",ids:[""],name:["",[p.kI.required]],partTypeId:[null,[p.kI.required]],additionalDetails:["",[p.kI.required]],description:["",[p.kI.required]],sizedPhoto:[""]}),this.loadCarPanels(),this.loadAllData()}get form(){return this.carPanelAddForm.controls}removeImage(){this.upload=!0,this.image="",this.file=""}openModal(a){this.submitted=!1,this.upload=!0,this.carPanelAddForm.reset(),this.modalRef=this.modalService.show(a,{class:"modal-md"})}onAccept(a){this.showLoader=!0,this.image=a.name,this.file=a;const t=a.currentTarget.files[0],r=new FormData;r.append("file",t),this.utilService.uploadFile(r).subscribe(n=>{if(n?.mediaId){const i=this.utilService.getBaseUrl()+n.mediaId;this.carPanelAddForm.get("sizedPhoto").setValue(i),this.showLoader=!1}},n=>{console.log(n),this.showLoader=!1})}}E.\u0275fac=function(a){return new(a||E)(e.Y36(ie.F0),e.Y36(x.tT),e.Y36(p.qu),e.Y36(Ze.g),e.Y36(C.f),e.Y36(P))},E.\u0275cmp=e.Xpm({type:E,selectors:[["app-car-panel"]],features:[e._Bn([Ze.g,h.JJ,P])],decls:36,vars:7,consts:[[4,"ngIf"],[1,"container-fluid"],["title","Car Panel",3,"breadcrumbItems"],[1,"nav"],[1,"row"],[1,"col-12"],[1,"card"],[1,"card-body"],[1,"row","mb-2"],[1,"col-sm-4"],[1,"col-sm-8"],[1,"text-sm-end"],["type","button",1,"btn","btn-success","btn-rounded","mb-2","me-2",3,"click"],[1,"mdi","mdi-plus","mr-1"],[1,"table-responsive","mb-0"],[1,"table","table-centered","table-nowrap"],[1,"table"],[1,"align-middle"],[4,"ngFor","ngForOf"],[1,"pagination","pagination-rounded","justify-content-end","mb-2"],[3,"totalItems","itemsPerPage","ngModel","ngModelChange","pageChanged"],["role","document"],["content",""],["colspan","5",1,"text-center"],["alt","",1,"avatar-sm","rounded","me-2",3,"src"],[1,"d-flex","gap-3"],["href","javascript:void(0);",1,"text-success",3,"click"],[1,"mdi","mdi-pencil","font-size-18"],["href","javascript:void(0);",1,"text-danger",3,"click"],[1,"mdi","mdi-delete","font-size-18"],[1,"modal-header"],["id","exampleModalLabel",1,"modal-title"],["type","button","data-bs-dismiss","modal","aria-label","Close","id","close-modal",1,"btn-close",3,"click"],[3,"formGroup","ngSubmit"],[1,"modal-body"],["type","hidden","name","id","value","","formControlName","ids"],[1,"mb-3"],["for","state-field",1,"form-label"],["type","textarea","id","customername-field","placeholder","Enter panel name","formControlName","name","required","",1,"form-control",3,"ngClass"],["class","invalid-feedback","align","left",4,"ngIf"],["bindLabel","name","bindValue","id","required","","placeholder","Select part type","formControlName","partTypeId",3,"items","ngClass"],["ng-optgroup-tmp",""],["for","commentmessage-input"],["id","commentmessage-input","placeholder","Enter description...","rows","3","formControlName","description",1,"form-control",3,"ngClass"],["id","commentmessage-input","placeholder","Enter additional details...","rows","3","formControlName","additionalDetails",1,"form-control",3,"ngClass"],["for","payment-field",1,"form-label"],["type","file",3,"change",4,"ngIf"],["class","img-block",4,"ngIf"],[1,"modal-footer"],[1,"hstack","gap-2","justify-content-end"],["type","button","data-bs-dismiss","modal",1,"btn","btn-light",3,"click"],["type","submit","id","add-btn",1,"btn","btn-success"],["align","left",1,"invalid-feedback"],["type","file",3,"change"],[1,"img-block"],["type","button","id","close-btn","ngbTooltip","Remove Image",1,"close",3,"click"],["alt","",1,"avatar-lg","rounded","me-3",3,"src"]],template:function(a,t){if(1&a){const r=e.EpF();e.YNc(0,Ht,1,0,"app-loader",0),e.TgZ(1,"div",1),e._UZ(2,"app-page-title",2)(3,"div",3),e.TgZ(4,"div",4)(5,"div",5)(6,"div",6)(7,"div",7)(8,"div",8),e._UZ(9,"div",9),e.TgZ(10,"div",10)(11,"div",11)(12,"button",12),e.NdJ("click",function(){e.CHM(r);const i=e.MAs(35);return e.KtG(t.openModal(i))}),e._UZ(13,"i",13),e._uU(14," Add Panel "),e.qZA()()()(),e.TgZ(15,"div",14)(16,"table",15)(17,"thead",16)(18,"tr")(19,"th",17),e._uU(20,"Sl. No."),e.qZA(),e.TgZ(21,"th",17),e._uU(22,"Panel Name"),e.qZA(),e.TgZ(23,"th",17),e._uU(24,"Part type"),e.qZA(),e.TgZ(25,"th",17),e._uU(26,"Panel Image"),e.qZA(),e.TgZ(27,"th",17),e._uU(28,"Action"),e.qZA()()(),e.TgZ(29,"tbody"),e.YNc(30,Qt,4,0,"ng-container",0),e.YNc(31,Dt,15,4,"tr",18),e.qZA()()(),e.TgZ(32,"ul",19)(33,"pagination",20),e.NdJ("ngModelChange",function(i){return t.currentPage=i})("pageChanged",function(i){return t.changePage(i)}),e.qZA()()()()()()(),e.YNc(34,ai,40,20,"ng-template",21,22,e.W1O)}2&a&&(e.Q6J("ngIf",t.showLoader),e.xp6(2),e.Q6J("breadcrumbItems",t.breadCrumbItems),e.xp6(28),e.Q6J("ngIf",!(null!=t.slicedCarPanelList&&t.slicedCarPanelList.length)),e.xp6(1),e.Q6J("ngForOf",t.slicedCarPanelList),e.xp6(2),e.Q6J("totalItems",t.carPanelList.length)("itemsPerPage",t.itemsPerPage)("ngModel",t.currentPage))},dependencies:[h.mk,h.sg,h.O5,A.V,w.R,p._Y,p.Fj,p.JJ,p.JL,p.Q7,p.On,y.Qt,p.sg,p.u,S.w9,S.C5],styles:["#close-btn[_ngcontent-%COMP%]{right:-100px;top:-50px;position:relative;background-color:#aeaeaf;border-radius:50%}"]});var Te=b(73342);const ni=[{id:"#SK2540",image:"assets/images/product/img-1.png",name:"Hatchback",date:"2019-10-07",total:"$400",status:"Paid",payment_icon:"fab fa-cc-mastercard",payment:"Mastercard",index:1}];let j;class U{constructor(a,t,r){this.pipe=a,this.http=t,this.util=r,this._loading$=new k.X(!0),this._search$=new se.x,this._countries$=new k.X([]),this._total$=new k.X(0),this._state={page:1,pageSize:8,searchTerm:"",sortColumn:"",sortDirection:"",startIndex:0,endIndex:9,totalRecords:0,status:"",payment:"",date:""},this.saveCategory=n=>(this.util.activeUrl=1,this.http.post("/api/car-categories",n,{headers:j})),this.getCategory=()=>(this.util.activeUrl=1,this.http.get("/api/car-categories",{headers:j})),this.deleteCategory=n=>(this.util.activeUrl=1,this.http.delete(`/api/car-categories/${n}`,{headers:j})),this.getSelectedCategoryDetail=n=>(this.util.activeUrl=1,this.http.get(`/api/car-categories/${n}`,{headers:j})),this.updateCategoryDetail=(n,i)=>(this.util.activeUrl=1,this.http.patch(`/api/car-categories/${i}`,n,{headers:j})),this._search$.pipe((0,N.b)(()=>this._loading$.next(!0)),(0,le.b)(200),(0,ce.w)(()=>this._search()),(0,de.g)(200),(0,N.b)(()=>this._loading$.next(!1))).subscribe(n=>{this._countries$.next(n.countries),this._total$.next(n.total)}),this._search$.next()}get countries$(){return this._countries$.asObservable()}get product(){return this.products}get total$(){return this._total$.asObservable()}get loading$(){return this._loading$.asObservable()}get page(){return this._state.page}get pageSize(){return this._state.pageSize}get searchTerm(){return this._state.searchTerm}get startIndex(){return this._state.startIndex}get endIndex(){return this._state.endIndex}get totalRecords(){return this._state.totalRecords}get status(){return this._state.status}get payment(){return this._state.payment}get date(){return this._state.date}set page(a){this._set({page:a})}set pageSize(a){this._set({pageSize:a})}set searchTerm(a){this._set({searchTerm:a})}set sortColumn(a){this._set({sortColumn:a})}set sortDirection(a){this._set({sortDirection:a})}set startIndex(a){this._set({startIndex:a})}set endIndex(a){this._set({endIndex:a})}set totalRecords(a){this._set({totalRecords:a})}set status(a){this._set({status:a})}set payment(a){this._set({payment:a})}set date(a){this._set({date:a})}_set(a){Object.assign(this._state,a),this._search$.next()}_search(){const{sortColumn:a,sortDirection:t,page:n,searchTerm:i}=this._state;let u=function si(o,a,t){return""===t||""===a?o:[...o].sort((r,n)=>{const i=((o,a)=>o<a?-1:o>a?1:0)(r[a],n[a]);return"asc"===t?i:-i})}(ni,a,t);u=u.filter(m=>function ri(o,a,t){return o.name.toLowerCase().includes(a.toLowerCase())}(m,i));const d=u.length;return this.totalRecords=u.length,this._state.startIndex=(n-1)*this.pageSize+1,this._state.endIndex=(n-1)*this.pageSize+this.pageSize,this.endIndex>this.totalRecords&&(this.endIndex=this.totalRecords),u=u.slice(this._state.startIndex-1,this._state.endIndex),(0,re.of)({countries:u,total:d})}}function li(o,a){1&o&&e._UZ(0,"app-loader")}function ci(o,a){1&o&&(e.ynx(0),e.TgZ(1,"tr")(2,"td",23),e._uU(3,"No Car Models list."),e.qZA()(),e.BQk())}function di(o,a){if(1&o){const t=e.EpF();e.TgZ(0,"tr")(1,"td"),e._uU(2),e.qZA(),e.TgZ(3,"td"),e._uU(4),e.qZA(),e.TgZ(5,"td"),e._uU(6),e.qZA(),e.TgZ(7,"td"),e._uU(8),e.qZA(),e.TgZ(9,"td"),e._UZ(10,"img",24),e.qZA(),e.TgZ(11,"td")(12,"div",25)(13,"div",25)(14,"input",26),e.NdJ("ngModelChange",function(n){const l=e.CHM(t).index,s=e.oxw();return e.KtG(s.statusBoolean[(s.currentPage-1)*s.itemsPerPage+l]=n)})("click",function(){const n=e.CHM(t),i=n.$implicit,l=n.index,s=e.oxw();return e.KtG(s.updateStatus(i,(s.currentPage-1)*s.itemsPerPage+l))}),e.qZA()()()(),e.TgZ(15,"td")(16,"div",27)(17,"a",28),e.NdJ("click",function(){const i=e.CHM(t).$implicit,l=e.oxw(),s=e.MAs(39);return e.KtG(l.editDataGet(null==i?null:i.id,s))}),e._UZ(18,"i",29),e.qZA(),e.TgZ(19,"a",30),e.NdJ("click",function(){const i=e.CHM(t).$implicit,l=e.oxw();return e.KtG(l.delete(null==i?null:i.id))}),e._UZ(20,"i",31),e.qZA()()()()}if(2&o){const t=a.$implicit,r=a.index,n=e.oxw();e.xp6(2),e.Oqu((n.currentPage-1)*n.itemsPerPage+r+1),e.xp6(2),e.Oqu(null==t?null:t.name),e.xp6(2),e.Oqu(n.getName(null==t?null:t.brandId,"brand")),e.xp6(2),e.Oqu(null==t?null:t.fuelType),e.xp6(2),e.s9C("src",null==t?null:t.sizedPhoto,e.LSH),e.xp6(4),e.Q6J("ngModel",n.statusBoolean[(n.currentPage-1)*n.itemsPerPage+r])}}function ui(o,a){1&o&&(e.TgZ(0,"div"),e._uU(1," Model Name is required "),e.qZA())}function pi(o,a){if(1&o&&(e.TgZ(0,"div",55),e.YNc(1,ui,2,0,"div",0),e.qZA()),2&o){const t=e.oxw(2);e.xp6(1),e.Q6J("ngIf",t.form.name.errors.required)}}function mi(o,a){}function _i(o,a){1&o&&(e.TgZ(0,"div"),e._uU(1," Brand is required "),e.qZA())}function gi(o,a){if(1&o&&(e.TgZ(0,"div",55),e.YNc(1,_i,2,0,"div",0),e.qZA()),2&o){const t=e.oxw(2);e.xp6(1),e.Q6J("ngIf",t.form.brandId.errors.required)}}function hi(o,a){}function fi(o,a){1&o&&(e.TgZ(0,"div"),e._uU(1," Car Type is required "),e.qZA())}function bi(o,a){if(1&o&&(e.TgZ(0,"div",55),e.YNc(1,fi,2,0,"div",0),e.qZA()),2&o){const t=e.oxw(2);e.xp6(1),e.Q6J("ngIf",t.form.carType.errors.required)}}function vi(o,a){}function Zi(o,a){1&o&&(e.TgZ(0,"div"),e._uU(1," Fuel Type is required "),e.qZA())}function Ti(o,a){if(1&o&&(e.TgZ(0,"div",55),e.YNc(1,Zi,2,0,"div",0),e.qZA()),2&o){const t=e.oxw(2);e.xp6(1),e.Q6J("ngIf",t.form.fuelType.errors.required)}}function Ci(o,a){if(1&o){const t=e.EpF();e.TgZ(0,"input",56),e.NdJ("change",function(n){e.CHM(t);const i=e.oxw(2);return e.KtG(i.onAccept(n))}),e.qZA()}}function yi(o,a){if(1&o){const t=e.EpF();e.TgZ(0,"div",57)(1,"button",58),e.NdJ("click",function(){e.CHM(t);const n=e.oxw(2);return e.KtG(n.removeImage())}),e.TgZ(2,"span"),e._uU(3,"\xd7"),e.qZA()(),e._UZ(4,"img",59),e.qZA()}if(2&o){const t=e.oxw(2);e.xp6(4),e.s9C("src",t.form.sizedPhoto.value,e.LSH)}}U.\u0275fac=function(a){return new(a||U)(e.LFG(h.JJ),e.LFG(ue.eN),e.LFG(C.f))},U.\u0275prov=e.Yz7({token:U,factory:U.\u0275fac,providedIn:"root"});const oe=function(o){return{"is-invalid":o}};function xi(o,a){if(1&o){const t=e.EpF();e.TgZ(0,"div",32)(1,"h5",33),e._uU(2,"Add/ Edit Car model"),e.qZA(),e.TgZ(3,"button",34),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(null==n.modalRef?null:n.modalRef.hide())}),e.qZA()(),e.TgZ(4,"form",35),e.NdJ("ngSubmit",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.saveCarModel())}),e.TgZ(5,"div",36),e._UZ(6,"input",37),e.TgZ(7,"div",38)(8,"label",39),e._uU(9,"Model Name"),e.qZA(),e._UZ(10,"input",40),e.YNc(11,pi,2,1,"div",41),e.qZA(),e.TgZ(12,"div",38)(13,"label",42),e._uU(14,"Brand"),e.qZA(),e.TgZ(15,"ng-select",43),e.YNc(16,mi,0,0,"ng-template",44),e.qZA(),e.YNc(17,gi,2,1,"div",41),e.qZA(),e.TgZ(18,"div",38)(19,"label",42),e._uU(20,"Car Type"),e.qZA(),e.TgZ(21,"ng-select",45),e.YNc(22,hi,0,0,"ng-template",44),e.qZA(),e.YNc(23,bi,2,1,"div",41),e.qZA(),e.TgZ(24,"div",38)(25,"label",42),e._uU(26,"Fuel Type"),e.qZA(),e.TgZ(27,"ng-select",46),e.YNc(28,vi,0,0,"ng-template",44),e.qZA(),e.YNc(29,Ti,2,1,"div",41),e.qZA(),e.TgZ(30,"div",38)(31,"label",47),e._uU(32,"Status"),e.qZA(),e.TgZ(33,"div",25)(34,"input",48),e.NdJ("change",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.activeStatus=!n.activeStatus)}),e.qZA()()(),e.TgZ(35,"div",38)(36,"label",47),e._uU(37,"Icon"),e.qZA(),e._UZ(38,"br"),e.YNc(39,Ci,1,0,"input",49),e.YNc(40,yi,5,1,"div",50),e.qZA()(),e.TgZ(41,"div",51)(42,"div",52)(43,"button",53),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(null==n.modalRef?null:n.modalRef.hide())}),e._uU(44," Close "),e.qZA(),e.TgZ(45,"button",54),e._uU(46,"Add"),e.qZA()()()()}if(2&o){const t=e.oxw();e.xp6(4),e.Q6J("formGroup",t.carModelAddForm),e.xp6(6),e.Q6J("ngClass",e.VKq(16,oe,t.submitted&&t.form.name.errors)),e.xp6(1),e.Q6J("ngIf",t.submitted&&t.form.name.errors),e.xp6(4),e.Q6J("items",t.brandsList)("ngClass",e.VKq(18,oe,t.submitted&&t.form.brandId.errors)),e.xp6(2),e.Q6J("ngIf",t.submitted&&t.form.brandId.errors),e.xp6(4),e.Q6J("items",t.categoriesList)("ngClass",e.VKq(20,oe,t.submitted&&t.form.carType.errors)),e.xp6(2),e.Q6J("ngIf",t.submitted&&t.form.carType.errors),e.xp6(4),e.Q6J("items",t.utilService.fuels)("ngClass",e.VKq(22,oe,t.submitted&&t.form.fuelType.errors))("multiple",!0),e.xp6(2),e.Q6J("ngIf",t.submitted&&t.form.fuelType.errors),e.xp6(5),e.Q6J("checked",t.activeStatus),e.xp6(5),e.Q6J("ngIf",t.upload),e.xp6(1),e.Q6J("ngIf",!t.upload)}}class X{constructor(a,t,r,n,i,l,s){var c=this;this.router=a,this.modalService=t,this.formBuilder=r,this.service=n,this.brandService=i,this.utilService=l,this.carCategoryService=s,this.submitted=!1,this.upload=!0,this.data=[{name:"Model A",id:"xyx",type:"Petrol"},{name:"Model B",id:"xyz",type:"Petrol"},{name:"Model C",id:"xyx",type:"Diesel"}],this.model=[{name:"Model A"},{name:"Model B"},{name:"Model C"},{name:"Model D"}],this.brandsList=[],this.typesList=[{name:"Type A",id:1},{name:"Type B",id:1},{name:"Type C",id:1},{name:"Type D",id:1}],this.config={maxFilesize:50,acceptedFiles:"image/*",method:"POST",uploadMultiple:!1,accept:u=>{this.onAccept(u)}},this.carModelsList=[],this.slicedCarModelsList=[],this.showLoader=!1,this.activeStatus=!0,this.image="",this.file="",this.categoriesList=[],this.loadBrands=(0,_.Z)(function*(){try{const u=yield c.brandService.getBrands().toPromise();u&&(c.brandsList=u,c.showLoader=!1)}catch{c.showLoader=!1}}),this.loadCategories=(0,_.Z)(function*(){try{const u=yield c.carCategoryService.getCategory().toPromise();u&&(c.categoriesList=u,c.showLoader=!1)}catch{c.showLoader=!1}}),this.loadCarModels=(0,_.Z)(function*(){for(c.itemsPerPage=10,c.currentPage=1;c.statusBoolean.length;)c.statusBoolean.pop();try{const u=yield c.service.getCarModels().toPromise();u&&(c.carModelsList=u,c.slicedCarModelsList=c.carModelsList.slice(0,c.itemsPerPage),c.carModelsList.forEach((d,m)=>{c.statusBoolean.push("active"==d.status)}),c.showLoader=!1)}catch{c.showLoader=!1}}),this.delete=function(){var u=(0,_.Z)(function*(d){const m=v().mixin({customClass:{confirmButton:"btn btn-success",cancelButton:"btn btn-danger ms-2"},buttonsStyling:!1});m.fire({title:"Are you sure?",text:"You won't be able to revert this!",icon:"warning",confirmButtonText:"Yes, delete it!",cancelButtonText:"No, cancel!",showCancelButton:!0}).then(function(){var f=(0,_.Z)(function*(g){if(g.value){c.showLoader=!0;try{(yield c.service.deleteCarModel(d).toPromise())&&(m.fire("Deleted!","Your data has been deleted.","success"),c.loadCarModels())}catch{c.showLoader=!1}}else g.dismiss===v().DismissReason.cancel&&m.fire("Cancelled","Your data is safe :)","error")});return function(g){return f.apply(this,arguments)}}())});return function(d){return u.apply(this,arguments)}}(),this.saveCarModel=(0,_.Z)(function*(){if(c.submitted=!0,c.carModelAddForm.valid){c.showLoader=!0;const{name:u,popular:d,brandId:f,carType:g,sizedPhoto:Z,fuelType:T}=c.carModelAddForm.value,q={name:u,popular:d,status:c.activeStatus?"active":"inactive",brandId:f,carType:g,sizedPhoto:Z,fuelType:T};if(c.carModelAddForm.patchValue({status:c.activeStatus?"active":"inactive",fuelType:["Petrol"]}),c.form.ids.value)try{(yield c.service.updateCarModelDetail(q,c.form.ids.value).toPromise())&&(c.modalService.hide(),c.loadCarModels())}catch{c.showLoader=!1}else try{(yield c.service.saveCarModel(q).toPromise())&&(c.modalService.hide(),c.loadCarModels())}catch{c.showLoader=!1}}}),this.updateStatus=function(){var u=(0,_.Z)(function*(d,m){const f=v().mixin({customClass:{confirmButton:"btn btn-success",cancelButton:"btn btn-danger ms-2"},buttonsStyling:!1});f.fire({title:"Are you sure?",text:"Do you want to update the status?",icon:"warning",confirmButtonText:"Yes, update!",cancelButtonText:"No, cancel!",showCancelButton:!0}).then(function(){var g=(0,_.Z)(function*(Z){if(Z.value){const T={status:"active"===d.status?"inactive":"active"};try{const q=yield c.service.updateCarModelDetail(T,d.id).toPromise();if(q){c.modalService.hide(),c.statusBoolean[m]="active"===q.status,d.status=q.status;const J=c.slicedCarModelsList?.filter(Fi=>Fi.id===q.id);J.length&&(J[0]=q)}}catch{}}else Z.dismiss===v().DismissReason.cancel&&(c.statusBoolean[m]="active"===d.status,f.fire("Cancelled","Status updation cancelled!","error"))});return function(Z){return g.apply(this,arguments)}}())});return function(d,m){return u.apply(this,arguments)}}(),this.getName=(u,d)=>{let m=[];return"brand"==d&&(m=this.brandsList.filter(f=>f.id==u)),m.length?m[0].name:"-"},this.editDataGet=function(){var u=(0,_.Z)(function*(d,m){c.showLoader=!0;try{const g=yield c.service.getSelectedCarModelDetail(d).toPromise();g&&(c.carModelAddForm.get("ids")?.setValue(g?.id),c.carModelAddForm.get("sizedPhoto")?.setValue(g?.sizedPhoto),c.carModelAddForm.get("name")?.setValue(g?.name),c.carModelAddForm.get("brandId")?.setValue(g?.brandId),c.carModelAddForm.get("carType")?.setValue(g?.carType),c.carModelAddForm.get("fuelType")?.setValue(g?.fuelType),c.activeStatus="active"===g?.status,g?.sizedPhoto&&(c.upload=!1),c.submitted=!1,c.showLoader=!1,c.modalRef=c.modalService.show(m,{class:"modal-md"}),document.getElementById("add-btn").innerHTML="Update")}catch{c.showLoader=!1}});return function(d,m){return u.apply(this,arguments)}}(),this.changePage=u=>{this.currentPage=u.page,this.slicedCarModelsList=this.carModelsList.slice((u.page-1)*u.itemsPerPage,u.page*u.itemsPerPage)},this.total=n.total$}ngOnInit(){this.statusBoolean=[],this.showLoader=!0,this.breadCrumbItems=[{label:"Master Data"},{label:"Vehicles"},{label:"Car Model",active:!0}],this.carModelAddForm=this.formBuilder.group({id:"",ids:[""],name:["",[p.kI.required]],popular:!1,status:[""],brandId:[null,[p.kI.required]],carType:[null,[p.kI.required]],sizedPhoto:[""],fuelType:[""]}),this.loadCarModels(),this.loadBrands(),this.loadCategories()}openModal(a){this.submitted=!1,this.upload=!0,this.activeStatus=!0,this.carModelAddForm.reset(),this.carModelAddForm.patchValue({popular:!1,sizedPhoto:null}),this.modalRef=this.modalService.show(a,{class:"modal-md"})}removeImage(){this.upload=!0,this.image="",this.file=""}get form(){return this.carModelAddForm.controls}onAccept(a){this.showLoader=!0,this.image=a.name,this.file=a;const t=a.currentTarget.files[0],r=new FormData;r.append("file",t),this.utilService.uploadFile(r).subscribe(n=>{if(n?.mediaId){const i=this.utilService.getBaseUrl()+n.mediaId;this.carModelAddForm.get("sizedPhoto").setValue(i),this.showLoader=!1}},n=>{console.log(n),this.showLoader=!1})}}X.\u0275fac=function(a){return new(a||X)(e.Y36(ie.F0),e.Y36(x.tT),e.Y36(p.qu),e.Y36(Te.i),e.Y36(ae.c),e.Y36(C.f),e.Y36(U))},X.\u0275cmp=e.Xpm({type:X,selectors:[["app-car-model"]],features:[e._Bn([Te.i,h.JJ,ae.c,U])],decls:40,vars:7,consts:[[4,"ngIf"],[1,"container-fluid"],["title","Car Model",3,"breadcrumbItems"],[1,"nav"],[1,"row"],[1,"col-12"],[1,"card"],[1,"card-body"],[1,"row","mb-2"],[1,"col-sm-4"],[1,"col-sm-8"],[1,"text-sm-end"],["type","button",1,"btn","btn-success","btn-rounded","mb-2","me-2",3,"click"],[1,"mdi","mdi-plus","mr-1"],[1,"table-responsive","mb-0"],[1,"table","table-centered","table-nowrap"],[1,"table"],[1,"align-middle"],[4,"ngFor","ngForOf"],[1,"pagination","pagination-rounded","justify-content-end","mb-2"],[3,"totalItems","itemsPerPage","ngModel","ngModelChange","pageChanged"],["role","document"],["content",""],["colspan","7",1,"text-center"],["alt","",1,"avatar-sm","rounded","me-2",3,"src"],[1,"form-check","form-switch","form-switch-lg","mb-3"],["type","checkbox",1,"form-check-input",3,"ngModel","ngModelChange","click"],[1,"d-flex","gap-3"],["href","javascript:void(0);",1,"text-success",3,"click"],[1,"mdi","mdi-pencil","font-size-18"],["href","javascript:void(0);",1,"text-danger",3,"click"],[1,"mdi","mdi-delete","font-size-18"],[1,"modal-header"],["id","exampleModalLabel",1,"modal-title"],["type","button","data-bs-dismiss","modal","aria-label","Close","id","close-modal",1,"btn-close",3,"click"],[3,"formGroup","ngSubmit"],[1,"modal-body"],["type","hidden","name","id","value","","formControlName","ids"],[1,"mb-3"],["for","customername-field",1,"form-label"],["type","text","placeholder","Enter Model name","required","","formControlName","name",1,"form-control",3,"ngClass"],["class","invalid-feedback","align","left",4,"ngIf"],["for","state-field",1,"form-label"],["bindLabel","name","bindValue","id","required","","placeholder","Select brand","formControlName","brandId",3,"items","ngClass"],["ng-optgroup-tmp",""],["bindLabel","name","bindValue","id","required","","placeholder","Select Car Type","formControlName","carType",3,"items","ngClass"],["bindLabel","name","bindValue","name","required","","placeholder","Select Fuel Type","formControlName","fuelType",3,"items","ngClass","multiple"],["for","payment-field",1,"form-label"],["type","checkbox","id","SwitchCheckSizelg",1,"form-check-input",3,"checked","change"],["type","file",3,"change",4,"ngIf"],["class","img-block",4,"ngIf"],[1,"modal-footer"],[1,"hstack","gap-2","justify-content-end"],["type","button","data-bs-dismiss","modal",1,"btn","btn-light",3,"click"],["type","submit","id","add-btn",1,"btn","btn-success"],["align","left",1,"invalid-feedback"],["type","file",3,"change"],[1,"img-block"],["type","button","id","close-btn","ngbTooltip","Remove Image",1,"close",3,"click"],["alt","",1,"avatar-lg","rounded","me-3",3,"src"]],template:function(a,t){if(1&a){const r=e.EpF();e.YNc(0,li,1,0,"app-loader",0),e.TgZ(1,"div",1),e._UZ(2,"app-page-title",2)(3,"div",3),e.TgZ(4,"div",4)(5,"div",5)(6,"div",6)(7,"div",7)(8,"div",8),e._UZ(9,"div",9),e.TgZ(10,"div",10)(11,"div",11)(12,"button",12),e.NdJ("click",function(){e.CHM(r);const i=e.MAs(39);return e.KtG(t.openModal(i))}),e._UZ(13,"i",13),e._uU(14," Add New Model "),e.qZA()()()(),e.TgZ(15,"div",14)(16,"table",15)(17,"thead",16)(18,"tr")(19,"th",17),e._uU(20,"SL.No"),e.qZA(),e.TgZ(21,"th",17),e._uU(22,"Model Name"),e.qZA(),e.TgZ(23,"th",17),e._uU(24,"Brand Name"),e.qZA(),e.TgZ(25,"th",17),e._uU(26,"Fuel Type"),e.qZA(),e.TgZ(27,"th",17),e._uU(28,"Icon"),e.qZA(),e.TgZ(29,"th",17),e._uU(30,"Status"),e.qZA(),e.TgZ(31,"th",17),e._uU(32,"Action"),e.qZA()()(),e.TgZ(33,"tbody"),e.YNc(34,ci,4,0,"ng-container",0),e.YNc(35,di,21,6,"tr",18),e.qZA()()(),e.TgZ(36,"ul",19)(37,"pagination",20),e.NdJ("ngModelChange",function(i){return t.currentPage=i})("pageChanged",function(i){return t.changePage(i)}),e.qZA()()()()()()(),e.YNc(38,xi,47,24,"ng-template",21,22,e.W1O)}2&a&&(e.Q6J("ngIf",t.showLoader),e.xp6(2),e.Q6J("breadcrumbItems",t.breadCrumbItems),e.xp6(32),e.Q6J("ngIf",!(null!=t.slicedCarModelsList&&t.slicedCarModelsList.length)),e.xp6(1),e.Q6J("ngForOf",t.slicedCarModelsList),e.xp6(2),e.Q6J("totalItems",t.carModelsList.length)("itemsPerPage",t.itemsPerPage)("ngModel",t.currentPage))},dependencies:[h.mk,h.sg,h.O5,A.V,w.R,p._Y,p.Fj,p.Wl,p.JJ,p.JL,p.Q7,p.On,y.Qt,p.sg,p.u,S.w9,S.C5],styles:["#close-btn[_ngcontent-%COMP%]{right:-100px;top:-50px;position:relative;background-color:#aeaeaf;border-radius:50%}"]});const Ai={asc:"desc",desc:"","":"asc"};class ee{constructor(){this.sortable="",this.direction="",this.sort=new e.vpe}rotate(){this.direction=Ai[this.direction],this.sort.emit({column:this.sortable,direction:this.direction})}}function ki(o,a){1&o&&e._UZ(0,"app-loader")}function Pi(o,a){1&o&&(e.ynx(0),e.TgZ(1,"tr")(2,"td",23),e._uU(3," No Car Categories list. "),e.qZA()(),e.BQk())}function Ui(o,a){if(1&o){const t=e.EpF();e.TgZ(0,"tr")(1,"td"),e._uU(2),e.qZA(),e.TgZ(3,"td"),e._uU(4),e.qZA(),e.TgZ(5,"td"),e._UZ(6,"img",24),e.qZA(),e.TgZ(7,"td")(8,"div",25)(9,"input",26),e.NdJ("ngModelChange",function(n){const l=e.CHM(t).index,s=e.oxw();return e.KtG(s.statusBoolean[(s.currentPage-1)*s.itemsPerPage+l]=n)})("click",function(){const n=e.CHM(t),i=n.$implicit,l=n.index,s=e.oxw();return e.KtG(s.updateStatus(i,(s.currentPage-1)*s.itemsPerPage+l))}),e.qZA()()(),e.TgZ(10,"td")(11,"div",27)(12,"a",28),e.NdJ("click",function(){const i=e.CHM(t).$implicit,l=e.oxw(),s=e.MAs(36);return e.KtG(l.editDataGet(null==i?null:i.id,s))}),e._UZ(13,"i",29),e.qZA(),e.TgZ(14,"a",30),e.NdJ("click",function(){const i=e.CHM(t).$implicit,l=e.oxw();return e.KtG(l.delete(null==i?null:i.id))}),e._UZ(15,"i",31),e.qZA()()()()}if(2&o){const t=a.$implicit,r=a.index,n=e.oxw();e.xp6(2),e.Oqu((n.currentPage-1)*n.itemsPerPage+r+1),e.xp6(2),e.hij(" ",null==t?null:t.name," "),e.xp6(2),e.s9C("src",null==t?null:t.logoUrl,e.LSH),e.xp6(3),e.Q6J("ngModel",n.statusBoolean[(n.currentPage-1)*n.itemsPerPage+r])("value",null==t?null:t.name)}}function qi(o,a){if(1&o){const t=e.EpF();e.TgZ(0,"div",32)(1,"h5",33),e._uU(2,"Category Details"),e.qZA(),e.TgZ(3,"button",34),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(null==n.modalRef?null:n.modalRef.hide())}),e.qZA()(),e.TgZ(4,"div",35)(5,"p",36),e._uU(6," Product id: "),e.TgZ(7,"span",37),e._uU(8,"#SK2540"),e.qZA()(),e.TgZ(9,"p",38),e._uU(10," Billing Name: "),e.TgZ(11,"span",37),e._uU(12,"Neal Matthews"),e.qZA()(),e.TgZ(13,"div",39)(14,"table",14)(15,"thead")(16,"tr")(17,"th",40),e._uU(18,"Product"),e.qZA(),e.TgZ(19,"th",40),e._uU(20,"Product Name"),e.qZA(),e.TgZ(21,"th",40),e._uU(22,"Price"),e.qZA()()(),e.TgZ(23,"tbody")(24,"tr")(25,"th",41)(26,"div"),e._UZ(27,"img",42),e.qZA()(),e.TgZ(28,"td")(29,"div")(30,"h5",43),e._uU(31," Wireless Headphone (Black) "),e.qZA(),e.TgZ(32,"p",44),e._uU(33,"$ 225 x 1"),e.qZA()()(),e.TgZ(34,"td"),e._uU(35,"$ 255"),e.qZA()(),e.TgZ(36,"tr")(37,"th",41)(38,"div"),e._UZ(39,"img",45),e.qZA()(),e.TgZ(40,"td")(41,"div")(42,"h5",43),e._uU(43," Phone patterned cases "),e.qZA(),e.TgZ(44,"p",44),e._uU(45,"$ 145 x 1"),e.qZA()()(),e.TgZ(46,"td"),e._uU(47,"$ 145"),e.qZA()(),e.TgZ(48,"tr")(49,"td",46)(50,"h6",47),e._uU(51,"Sub Total:"),e.qZA()(),e.TgZ(52,"td"),e._uU(53,"$ 400"),e.qZA()(),e.TgZ(54,"tr")(55,"td",46)(56,"h6",47),e._uU(57,"Shipping:"),e.qZA()(),e.TgZ(58,"td"),e._uU(59,"Free"),e.qZA()(),e.TgZ(60,"tr")(61,"td",46)(62,"h6",47),e._uU(63,"Total:"),e.qZA()(),e.TgZ(64,"td"),e._uU(65,"$ 400"),e.qZA()()()()()(),e.TgZ(66,"div",48)(67,"button",49),e.NdJ("click",function(){const i=e.CHM(t).$implicit;return e.KtG(i.close("Close click"))}),e._uU(68," Close "),e.qZA()()}}function wi(o,a){1&o&&(e.TgZ(0,"div"),e._uU(1," Type Name is required "),e.qZA())}function Si(o,a){if(1&o&&(e.TgZ(0,"div",65),e.YNc(1,wi,2,0,"div",0),e.qZA()),2&o){const t=e.oxw(2);e.xp6(1),e.Q6J("ngIf",t.form.name.errors.required)}}function Mi(o,a){if(1&o){const t=e.EpF();e.TgZ(0,"input",66),e.NdJ("change",function(n){e.CHM(t);const i=e.oxw(2);return e.KtG(i.onAccept(n))}),e.qZA()}}function Ni(o,a){if(1&o){const t=e.EpF();e.TgZ(0,"div",67)(1,"button",68),e.NdJ("click",function(){e.CHM(t);const n=e.oxw(2);return e.KtG(n.removeImage())}),e.TgZ(2,"span"),e._uU(3,"\xd7"),e.qZA()(),e._UZ(4,"img",69),e.qZA()}if(2&o){const t=e.oxw(2);e.xp6(4),e.s9C("src",t.form.logoUrl.value,e.LSH)}}ee.\u0275fac=function(a){return new(a||ee)},ee.\u0275dir=e.lG2({type:ee,selectors:[["th","sortable",""]],hostVars:4,hostBindings:function(a,t){1&a&&e.NdJ("click",function(){return t.rotate()}),2&a&&e.ekj("asc","asc"===t.direction)("desc","desc"===t.direction)},inputs:{sortable:"sortable",direction:"direction"},outputs:{sort:"sort"}});const Ii=function(o){return{"is-invalid":o}};function Li(o,a){if(1&o){const t=e.EpF();e.TgZ(0,"div",32)(1,"h5",50),e._uU(2,"Add/Edit Type"),e.qZA(),e.TgZ(3,"button",51),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(null==n.modalRef?null:n.modalRef.hide())}),e.qZA()(),e.TgZ(4,"form",52),e.NdJ("ngSubmit",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.saveUser())}),e.TgZ(5,"div",35),e._UZ(6,"input",53),e.TgZ(7,"div",54)(8,"label",55),e._uU(9,"Type Name"),e.qZA(),e._UZ(10,"input",56),e.YNc(11,Si,2,1,"div",57),e.qZA(),e.TgZ(12,"div",54)(13,"label",58),e._uU(14,"Status"),e.qZA(),e.TgZ(15,"div",25)(16,"input",59),e.NdJ("change",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.activeStatus=!n.activeStatus)}),e.qZA()()(),e.TgZ(17,"div",54)(18,"label",58),e._uU(19,"Type Icon"),e.qZA(),e._UZ(20,"br"),e.YNc(21,Mi,1,0,"input",60),e.YNc(22,Ni,5,1,"div",61),e.qZA()(),e.TgZ(23,"div",48)(24,"div",62)(25,"button",63),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(null==n.modalRef?null:n.modalRef.hide())}),e._uU(26," Close "),e.qZA(),e.TgZ(27,"button",64),e._uU(28,"Save"),e.qZA()()()()}if(2&o){const t=e.oxw();e.xp6(4),e.Q6J("formGroup",t.addCategoryForm),e.xp6(6),e.Q6J("ngClass",e.VKq(6,Ii,t.submitted&&t.form.name.errors)),e.xp6(1),e.Q6J("ngIf",t.submitted&&t.form.name.errors),e.xp6(5),e.Q6J("checked",t.activeStatus),e.xp6(5),e.Q6J("ngIf",t.upload),e.xp6(1),e.Q6J("ngIf",!t.upload)}}class te{constructor(a,t,r,n){var i=this;this.modalService=a,this.service=t,this.utilService=r,this.formBuilder=n,this.showLoader=!1,this.submitted=!1,this.config={maxFilesize:50,acceptedFiles:"image/*",method:"POST",uploadMultiple:!1,accept:l=>{this.onAccept(l)}},this.upload=!0,this.image="",this.file="",this.activeStatus=!0,this.categoriesList=[],this.slicedCategoriesList=[],this.loadCategories=(0,_.Z)(function*(){for(i.itemsPerPage=10,i.currentPage=1;i.statusBoolean.length;)i.statusBoolean.pop();try{const l=yield i.service.getCategory().toPromise();l&&(i.categoriesList=l,i.slicedCategoriesList=i.categoriesList.slice(0,i.itemsPerPage),i.categoriesList.forEach((s,c)=>{i.statusBoolean.push("active"==s.status)}),i.showLoader=!1)}catch{i.showLoader=!1}}),this.delete=function(){var l=(0,_.Z)(function*(s){const c=v().mixin({customClass:{confirmButton:"btn btn-success",cancelButton:"btn btn-danger ms-2"},buttonsStyling:!1});c.fire({title:"Are you sure?",text:"You won't be able to revert this!",icon:"warning",confirmButtonText:"Yes, delete it!",cancelButtonText:"No, cancel!",showCancelButton:!0}).then(function(){var u=(0,_.Z)(function*(d){if(d.value){i.showLoader=!0;try{(yield i.service.deleteCategory(s).toPromise())&&(c.fire("Deleted!","Your data has been deleted.","success"),i.loadCategories())}catch{i.showLoader=!1}}else d.dismiss===v().DismissReason.cancel&&c.fire("Cancelled","Your data is safe :)","error")});return function(d){return u.apply(this,arguments)}}())});return function(s){return l.apply(this,arguments)}}(),this.editDataGet=function(){var l=(0,_.Z)(function*(s,c){i.showLoader=!0;try{const d=yield i.service.getSelectedCategoryDetail(s).toPromise();d&&(i.addCategoryForm.get("ids")?.setValue(d?.id),i.addCategoryForm.get("name")?.setValue(d?.name),i.addCategoryForm.get("logoUrl")?.setValue(d?.logoUrl),i.activeStatus="active"===d?.status,d?.logoUrl&&(i.upload=!1),i.submitted=!1,i.showLoader=!1,i.modalRef=i.modalService.show(c,{class:"modal-md"}),document.getElementById("add-btn").innerHTML="Update")}catch{i.showLoader=!1}});return function(s,c){return l.apply(this,arguments)}}(),this.saveUser=(0,_.Z)(function*(){if(i.submitted=!0,i.addCategoryForm.patchValue({status:i.activeStatus?"active":"inactive"}),console.log("asdsa"),i.addCategoryForm.valid){i.showLoader=!0;const{name:l,status:s,logoUrl:c}=i.addCategoryForm.value,u={name:l,status:s,logoUrl:c};if(console.log(u),i.form.ids.value)try{const d=yield i.service.updateCategoryDetail(u,i.form.ids.value).toPromise();d&&(console.log(d),i.modalService.hide(),i.loadCategories())}catch{i.showLoader=!1}else try{const d=yield i.service.saveCategory(u).toPromise();d&&(console.log(d),i.modalService.hide(),i.loadCategories())}catch{i.showLoader=!1}}}),this.updateStatus=function(){var l=(0,_.Z)(function*(s,c){const u=v().mixin({customClass:{confirmButton:"btn btn-success",cancelButton:"btn btn-danger ms-2"},buttonsStyling:!1});u.fire({title:"Are you sure?",text:"Do you want to update the status?",icon:"warning",confirmButtonText:"Yes, update!",cancelButtonText:"No, cancel!",showCancelButton:!0}).then(function(){var d=(0,_.Z)(function*(m){if(m.value){const f={status:"active"===s.status?"inactive":"active"};try{const g=yield i.service.updateCategoryDetail(f,s.id).toPromise();if(g){i.modalService.hide(),i.statusBoolean[c]="active"===g.status,s.status=g.status;const Z=i.slicedCategoriesList?.filter(T=>T.id===g.id);Z.length&&(Z[0]=g)}}catch{}}else m.dismiss===v().DismissReason.cancel&&(i.statusBoolean[c]="active"===s.status,u.fire("Cancelled","Status updation cancelled!","error"))});return function(m){return d.apply(this,arguments)}}())});return function(s,c){return l.apply(this,arguments)}}(),this.changePage=l=>{this.currentPage=l.page,this.slicedCategoriesList=this.categoriesList.slice((l.page-1)*l.itemsPerPage,l.page*l.itemsPerPage)},this.ordersList=t.countries$,this.total=t.total$}ngOnInit(){this.statusBoolean=[],this.showLoader=!0,this.breadCrumbItems=[{label:"Master Data"},{label:"Vehicles"},{label:"vehicle-type",active:!0}],this.addCategoryForm=this.formBuilder.group({id:"#VZ2101",ids:[""],name:["",[p.kI.required]],status:["",[p.kI.required]],logoUrl:[""]}),this.loadCategories()}openViewModal(a){this.modalRef=this.modalService.show(a)}checkUncheckAll(a){this.orderes.forEach(t=>t.state=a.target.checked)}openModal(a){this.submitted=!1,this.upload=!0,this.addCategoryForm.reset(),this.modalRef=this.modalService.show(a,{class:"modal-md"})}removeImage(){this.upload=!0,this.image="",this.file=""}get form(){return this.addCategoryForm.controls}onAccept(a){this.showLoader=!0,this.image=a.name,this.file=a;const t=a.currentTarget.files[0],r=new FormData;r.append("file",t),this.utilService.uploadFile(r).subscribe(n=>{if(n?.mediaId){const i=this.utilService.getBaseUrl()+n.mediaId;this.addCategoryForm.get("logoUrl").setValue(i),this.showLoader=!1}},n=>{console.log(n),this.showLoader=!1})}}te.\u0275fac=function(a){return new(a||te)(e.Y36(x.tT),e.Y36(U),e.Y36(C.f),e.Y36(p.QS))},te.\u0275cmp=e.Xpm({type:te,selectors:[["app-car-category"]],viewQuery:function(a,t){if(1&a&&e.Gf(ee,5),2&a){let r;e.iGM(r=e.CRH())&&(t.headers=r)}},features:[e._Bn([U,h.JJ])],decls:37,vars:7,consts:[[4,"ngIf"],[1,"container-fluid"],["title","Vehicle Type",3,"breadcrumbItems"],[1,"row"],[1,"col-12"],[1,"card"],[1,"card-body"],[1,"row","mb-2"],[1,"col-sm-4"],[1,"col-sm-8"],[1,"text-sm-end"],["type","button",1,"btn","btn-success","btn-rounded","mb-2","me-2",3,"click"],[1,"mdi","mdi-plus","mr-1"],[1,"table-responsive","mb-0"],[1,"table","table-centered","table-nowrap"],[1,"table"],[1,"align-middle"],[4,"ngFor","ngForOf"],[1,"pagination","pagination-rounded","justify-content-end","mb-2"],[3,"totalItems","itemsPerPage","ngModel","ngModelChange","pageChanged"],["role","document"],["ViewContent",""],["content",""],["colspan","5",1,"text-center"],["alt","",1,"avatar-sm","rounded","me-2",3,"src"],[1,"form-check","form-switch","form-switch-lg","mb-3"],["type","checkbox","id","SwitchCheckSizelg",1,"form-check-input",3,"ngModel","value","ngModelChange","click"],[1,"d-flex","gap-3"],["href","javascript:void(0);",1,"text-success",3,"click"],[1,"mdi","mdi-pencil","font-size-18"],["href","javascript:void(0);",1,"text-danger",3,"click"],[1,"mdi","mdi-delete","font-size-18"],[1,"modal-header"],[1,"modal-title","mt-0"],["type","button","aria-hidden","true",1,"btn-close",3,"click"],[1,"modal-body"],[1,"mb-2"],[1,"text-primary"],[1,"mb-4"],[1,"table-responsive"],["scope","col"],["scope","row"],["src","assets/images/product/img-7.png","alt","",1,"avatar-sm"],[1,"text-truncate","font-size-14"],[1,"text-muted","mb-0"],["src","assets/images/product/img-4.png","alt","",1,"avatar-sm"],["colspan","2"],[1,"m-0","text-end"],[1,"modal-footer"],[1,"btn","btn-secondary",3,"click"],["id","exampleModalLabel",1,"modal-title"],["type","button","data-bs-dismiss","modal","aria-label","Close","id","close-modal",1,"btn-close",3,"click"],[3,"formGroup","ngSubmit"],["type","hidden","name","id","value","","formControlName","ids"],[1,"mb-3"],["for","customername-field",1,"form-label"],["type","text","id","customername-field","placeholder","Enter Type name","required","","formControlName","name",1,"form-control",3,"ngClass"],["class","invalid-feedback","align","left",4,"ngIf"],["for","payment-field",1,"form-label"],["type","checkbox","id","SwitchCheckSizelg",1,"form-check-input",3,"checked","change"],["type","file",3,"change",4,"ngIf"],["class","img-block",4,"ngIf"],[1,"hstack","gap-2","justify-content-end"],["type","button","data-bs-dismiss","modal",1,"btn","btn-light",3,"click"],["type","submit","id","add-btn",1,"btn","btn-success"],["align","left",1,"invalid-feedback"],["type","file",3,"change"],[1,"img-block"],["type","button","id","close-btn","ngbTooltip","Remove Image",1,"close",3,"click"],["alt","",1,"avatar-lg","rounded","me-3",3,"src"]],template:function(a,t){if(1&a){const r=e.EpF();e.YNc(0,ki,1,0,"app-loader",0),e.TgZ(1,"div",1),e._UZ(2,"app-page-title",2),e.TgZ(3,"div",3)(4,"div",4)(5,"div",5)(6,"div",6)(7,"div",7),e._UZ(8,"div",8),e.TgZ(9,"div",9)(10,"div",10)(11,"button",11),e.NdJ("click",function(){e.CHM(r);const i=e.MAs(36);return e.KtG(t.openModal(i))}),e._UZ(12,"i",12),e._uU(13," Add New Type "),e.qZA()()()(),e.TgZ(14,"div",13)(15,"table",14)(16,"thead",15)(17,"tr")(18,"th",16),e._uU(19,"Sl. No."),e.qZA(),e.TgZ(20,"th",16),e._uU(21,"Type"),e.qZA(),e.TgZ(22,"th",16),e._uU(23,"Type Image"),e.qZA(),e.TgZ(24,"th",16),e._uU(25,"Status"),e.qZA(),e.TgZ(26,"th",16),e._uU(27,"Action"),e.qZA()()(),e.TgZ(28,"tbody"),e.YNc(29,Pi,4,0,"ng-container",0),e.YNc(30,Ui,16,5,"tr",17),e.qZA()()(),e.TgZ(31,"ul",18)(32,"pagination",19),e.NdJ("ngModelChange",function(i){return t.currentPage=i})("pageChanged",function(i){return t.changePage(i)}),e.qZA()()()()()()(),e.YNc(33,qi,69,0,"ng-template",20,21,e.W1O),e.YNc(35,Li,29,8,"ng-template",20,22,e.W1O)}2&a&&(e.Q6J("ngIf",t.showLoader),e.xp6(2),e.Q6J("breadcrumbItems",t.breadCrumbItems),e.xp6(27),e.Q6J("ngIf",!(null!=t.slicedCategoriesList&&t.slicedCategoriesList.length)),e.xp6(1),e.Q6J("ngForOf",t.slicedCategoriesList),e.xp6(2),e.Q6J("totalItems",t.categoriesList.length)("itemsPerPage",t.itemsPerPage)("ngModel",t.currentPage))},dependencies:[h.mk,h.sg,h.O5,A.V,w.R,p._Y,p.Fj,p.Wl,p.JJ,p.JL,p.Q7,p.On,y.Qt,p.sg,p.u],styles:["#close-btn[_ngcontent-%COMP%]{right:-100px;top:-50px;position:relative;background-color:#aeaeaf;border-radius:50%}"]});const Bi=[{path:"city",component:G},{path:"vehicles/car-manufacturer",component:D},{path:"pickup-types",component:R},{path:"types-of-work",component:Q},{path:"part-type",component:W},{path:"grade",component:z},{path:"vehicles/car-panel",component:E},{path:"vehicles/car-model",component:X},{path:"vehicles/vehicle-type",component:te}];class I{}I.\u0275fac=function(a){return new(a||I)},I.\u0275mod=e.oAB({type:I}),I.\u0275inj=e.cJS({imports:[ie.Bz.forChild(Bi),ie.Bz]});var Ce=b(19668),Ji=b(81819);class L{}L.\u0275fac=function(a){return new(a||L)},L.\u0275mod=e.oAB({type:L}),L.\u0275inj=e.cJS({imports:[h.ez,Ce.v,Ji.y]});var ye=b(71844);class B{}B.\u0275fac=function(a){return new(a||B)},B.\u0275mod=e.oAB({type:B}),B.\u0275inj=e.cJS({providers:[{provide:ye._t,useValue:C.f.config}],imports:[h.ez,ye.Ti,I,L,Ce.v,p.u5,y.u3,p.UX,S.A0,p.u5,he.d]})}}]);