"use strict";(self.webpackChunkskote=self.webpackChunkskote||[]).push([[992],{81992:(jt,ee,P)=>{P.r(ee),P.d(ee,{ServicesModule:()=>J});var C=P(36895),w=P(85892),Z=P(15861),u=P(24006),ce=P(35226),b=P.n(ce),K=P(73342),R=P(16119),S=P(58491),te=P(93824),ae=P(4128),H=P(66291),W=P(63223),E=P(36879),e=P(94650),j=P(20388),Y=P(6162),z=P(29234),$=P(18987),N=P(90702),M=P(32521),ie=P(17281);function de(a,i){1&a&&e._UZ(0,"app-loader")}function ge(a,i){1&a&&(e.ynx(0),e.TgZ(1,"tr")(2,"td",16),e._uU(3,"No Addons list."),e.qZA()(),e.BQk())}function ue(a,i){if(1&a){const t=e.EpF();e.TgZ(0,"tr")(1,"td"),e._uU(2),e.qZA(),e.TgZ(3,"td"),e._uU(4),e.qZA(),e.TgZ(5,"td"),e._uU(6),e.qZA(),e.TgZ(7,"td"),e._uU(8),e.qZA(),e.TgZ(9,"td"),e._uU(10),e.qZA(),e.TgZ(11,"td"),e._uU(12),e.qZA(),e.TgZ(13,"td"),e._uU(14),e.qZA(),e.TgZ(15,"td")(16,"div",17)(17,"a",18),e.NdJ("click",function(){const g=e.CHM(t).$implicit,n=e.oxw(),c=e.MAs(36);return e.KtG(n.editDataGet(null==g?null:g.id,c))}),e._UZ(18,"i",19),e.qZA(),e.TgZ(19,"a",20),e.NdJ("click",function(){const g=e.CHM(t).$implicit,n=e.oxw();return e.KtG(n.delete(null==g?null:g.id))}),e._UZ(20,"i",21),e.qZA()()()()}if(2&a){const t=i.$implicit,s=i.index,o=e.oxw();e.xp6(2),e.Oqu((o.currentPage-1)*o.itemsPerPage+s+1),e.xp6(2),e.Oqu(o.getName(null==t?null:t.cityId,"city")),e.xp6(2),e.Oqu(o.getName(null==t?null:t.gradeId,"oil")),e.xp6(2),e.AsE(" ",o.getName(null==t?null:t.modelId,"brand")," ",o.getName(null==t?null:t.modelId,"model")," "),e.xp6(2),e.Oqu(null==t?null:t.fuelType),e.xp6(2),e.Oqu(null==t?null:t.price),e.xp6(2),e.Oqu(null!=t&&t.slashedPrice?null==t?null:t.slashedPrice:"-")}}function me(a,i){1&a&&(e.TgZ(0,"div"),e._uU(1,"City is required"),e.qZA())}function pe(a,i){if(1&a&&(e.TgZ(0,"div",43),e.YNc(1,me,2,0,"div",0),e.qZA()),2&a){const t=e.oxw(2);e.xp6(1),e.Q6J("ngIf",t.form.cityId.errors.required)}}function _e(a,i){1&a&&(e.TgZ(0,"div"),e._uU(1," Car model is required "),e.qZA())}function fe(a,i){if(1&a&&(e.TgZ(0,"div",43),e.YNc(1,_e,2,0,"div",0),e.qZA()),2&a){const t=e.oxw(2);e.xp6(1),e.Q6J("ngIf",t.form.modelId.errors.required)}}function he(a,i){1&a&&(e.TgZ(0,"div"),e._uU(1," Package is required "),e.qZA())}function ve(a,i){if(1&a&&(e.TgZ(0,"div",43),e.YNc(1,he,2,0,"div",0),e.qZA()),2&a){const t=e.oxw(3);e.xp6(1),e.Q6J("ngIf",t.form.packageId.errors.required)}}const x=function(a){return{"is-invalid":a}};function Pe(a,i){if(1&a&&(e.TgZ(0,"div",28)(1,"label",29),e._uU(2,"Package"),e.qZA(),e._UZ(3,"ng-select",44),e.YNc(4,ve,2,1,"div",31),e.qZA()),2&a){const t=e.oxw(2);e.xp6(3),e.Q6J("items",t.packagesList)("ngClass",e.VKq(3,x,t.submitted&&t.form.packageId.errors)),e.xp6(1),e.Q6J("ngIf",t.submitted&&t.form.packageId.errors)}}function Ze(a,i){1&a&&(e.TgZ(0,"div"),e._uU(1," Fuel Type is required "),e.qZA())}function ke(a,i){if(1&a&&(e.TgZ(0,"div",43),e.YNc(1,Ze,2,0,"div",0),e.qZA()),2&a){const t=e.oxw(2);e.xp6(1),e.Q6J("ngIf",t.form.fuelType.errors.required)}}function Ce(a,i){1&a&&(e.TgZ(0,"div"),e._uU(1," Car panel is required "),e.qZA())}function be(a,i){if(1&a&&(e.TgZ(0,"div",47),e.YNc(1,Ce,2,0,"div",0),e.qZA()),2&a){const t=e.oxw(3);e.xp6(1),e.Q6J("ngIf",t.form.panelId.errors.required)}}function Te(a,i){if(1&a){const t=e.EpF();e.TgZ(0,"div",28)(1,"label",29),e._uU(2,"Car Panel"),e.qZA(),e.TgZ(3,"ng-select",45),e.NdJ("change",function(o){e.CHM(t);const g=e.oxw(2);return e.KtG(g.onPanelChange(o))})("clear",function(o){e.CHM(t);const g=e.oxw(2);return e.KtG(g.onPanelChange(o))}),e.qZA(),e.YNc(4,be,2,1,"div",46),e.qZA()}if(2&a){const t=e.oxw(2);e.xp6(3),e.Q6J("items",t.panelsList)("ngClass",e.VKq(3,x,t.submitted&&t.form.panelId.errors)),e.xp6(1),e.Q6J("ngIf",t.submitted&&t.form.panelId.errors)}}function xe(a,i){1&a&&(e.TgZ(0,"div"),e._uU(1," Type of work is required "),e.qZA())}function ye(a,i){if(1&a&&(e.TgZ(0,"div",47),e.YNc(1,xe,2,0,"div",0),e.qZA()),2&a){const t=e.oxw(3);e.xp6(1),e.Q6J("ngIf",t.form.typeOfWorkId.errors.required)}}function Ae(a,i){if(1&a&&(e.TgZ(0,"div",28)(1,"label",29),e._uU(2,"Type of Work"),e.qZA(),e._UZ(3,"ng-select",48),e.YNc(4,ye,2,1,"div",46),e.qZA()),2&a){const t=e.oxw(2);e.xp6(3),e.Q6J("items",t.typeOfWorksList)("ngClass",e.VKq(3,x,t.submitted&&t.form.typeOfWorkId.errors)),e.xp6(1),e.Q6J("ngIf",t.submitted&&t.form.typeOfWorkId.errors)}}function qe(a,i){1&a&&(e.TgZ(0,"div"),e._uU(1,"Price is required"),e.qZA())}function Ie(a,i){1&a&&(e.TgZ(0,"div"),e._uU(1," Numbers are only allowed! "),e.qZA())}function Ue(a,i){if(1&a&&(e.TgZ(0,"div",43),e.YNc(1,qe,2,0,"div",0),e.YNc(2,Ie,2,0,"div",0),e.qZA()),2&a){const t=e.oxw(2);e.xp6(1),e.Q6J("ngIf",t.form.price.errors.required),e.xp6(1),e.Q6J("ngIf",t.form.price.errors.pattern)}}function we(a,i){1&a&&(e.TgZ(0,"div"),e._uU(1," Dealer price is required "),e.qZA())}function Se(a,i){1&a&&(e.TgZ(0,"div"),e._uU(1," Numbers are only allowed! "),e.qZA())}function Ne(a,i){if(1&a&&(e.TgZ(0,"div",43),e.YNc(1,we,2,0,"div",0),e.YNc(2,Se,2,0,"div",0),e.qZA()),2&a){const t=e.oxw(2);e.xp6(1),e.Q6J("ngIf",t.form.dealerPrice.errors.required),e.xp6(1),e.Q6J("ngIf",t.form.dealerPrice.errors.pattern)}}function Le(a,i){1&a&&(e.TgZ(0,"div"),e._uU(1," Slashed price is required "),e.qZA())}function Je(a,i){1&a&&(e.TgZ(0,"div"),e._uU(1," Numbers are only allowed! "),e.qZA())}function Ye(a,i){if(1&a&&(e.TgZ(0,"div",43),e.YNc(1,Le,2,0,"div",0),e.YNc(2,Je,2,0,"div",0),e.qZA()),2&a){const t=e.oxw(2);e.xp6(1),e.Q6J("ngIf",t.form.slashedPrice.errors.required),e.xp6(1),e.Q6J("ngIf",t.form.slashedPrice.errors.pattern)}}function Me(a,i){if(1&a){const t=e.EpF();e.TgZ(0,"div",22)(1,"h5",23),e._uU(2,"Add/Edit"),e.qZA(),e.TgZ(3,"button",24),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(null==o.modalRef?null:o.modalRef.hide())}),e.qZA()(),e.TgZ(4,"form",25),e.NdJ("ngSubmit",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.savePanelPrice())}),e.TgZ(5,"div",26),e._UZ(6,"input",27),e.TgZ(7,"div",28)(8,"label",29),e._uU(9,"City"),e.qZA(),e._UZ(10,"ng-select",30),e.YNc(11,pe,2,1,"div",31),e.qZA(),e.TgZ(12,"div",28)(13,"label",29),e._uU(14,"Model"),e.qZA(),e._UZ(15,"ng-select",32),e.YNc(16,fe,2,1,"div",31),e.qZA(),e.YNc(17,Pe,5,5,"div",33),e.TgZ(18,"div",28)(19,"label",29),e._uU(20,"Fuel Type"),e.qZA(),e._UZ(21,"ng-select",34),e.YNc(22,ke,2,1,"div",31),e.qZA(),e.YNc(23,Te,5,5,"div",33),e.TgZ(24,"div",28)(25,"label",29),e._uU(26,"Oil Name"),e.qZA(),e._UZ(27,"ng-select",35),e.qZA(),e.YNc(28,Ae,5,5,"div",33),e.TgZ(29,"div",28)(30,"label",29),e._uU(31,"Price"),e.qZA(),e._UZ(32,"input",36),e.YNc(33,Ue,3,2,"div",31),e.qZA(),e.TgZ(34,"div",28)(35,"label",29),e._uU(36,"Dealer Price"),e.qZA(),e._UZ(37,"input",37),e.YNc(38,Ne,3,2,"div",31),e.qZA(),e.TgZ(39,"div",28)(40,"label",29),e._uU(41,"Slashed Price"),e.qZA(),e._UZ(42,"input",38),e.YNc(43,Ye,3,2,"div",31),e.qZA()(),e.TgZ(44,"div",39)(45,"div",40)(46,"button",41),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(null==o.modalRef?null:o.modalRef.hide())}),e._uU(47," Close "),e.qZA(),e.TgZ(48,"button",42),e._uU(49,"Save"),e.qZA()()()()}if(2&a){const t=e.oxw();e.xp6(4),e.Q6J("formGroup",t.panelPriceForm),e.xp6(6),e.Q6J("items",t.citiesList)("ngClass",e.VKq(21,x,t.submitted&&t.form.cityId.errors)),e.xp6(1),e.Q6J("ngIf",t.submitted&&t.form.cityId.errors),e.xp6(4),e.Q6J("items",t.modelsList)("ngClass",e.VKq(23,x,t.submitted&&t.form.modelId.errors)),e.xp6(1),e.Q6J("ngIf",t.submitted&&t.form.modelId.errors),e.xp6(1),e.Q6J("ngIf",!1),e.xp6(4),e.Q6J("items",t.util.fuels)("ngClass",e.VKq(25,x,t.submitted&&t.form.fuelType.errors)),e.xp6(1),e.Q6J("ngIf",t.submitted&&t.form.fuelType.errors),e.xp6(1),e.Q6J("ngIf",!1),e.xp6(4),e.Q6J("items",t.gradesList)("ngClass",e.VKq(27,x,t.submitted&&t.form.gradeId.errors)),e.xp6(1),e.Q6J("ngIf",!1),e.xp6(4),e.Q6J("ngClass",e.VKq(29,x,t.submitted&&t.form.price.errors)),e.xp6(1),e.Q6J("ngIf",t.submitted&&t.form.price.errors),e.xp6(4),e.Q6J("ngClass",e.VKq(31,x,t.submitted&&t.form.dealerPrice.errors)),e.xp6(1),e.Q6J("ngIf",t.submitted&&t.form.dealerPrice.errors),e.xp6(4),e.Q6J("ngClass",e.VKq(33,x,t.submitted&&t.form.slashedPrice.errors)),e.xp6(1),e.Q6J("ngIf",t.submitted&&t.form.slashedPrice.errors)}}class F{onAccept(i){throw new Error("Method not implemented.")}constructor(i,t,s,o,g,n,c,f,v,k,_){var r=this;this.router=i,this.modalService=t,this.fb=s,this.service=o,this.cityService=g,this.packagesService=n,this.gradeService=c,this.typeOfWorksService=f,this.carPanelService=v,this.carModelService=k,this.util=_,this.submitted=!1,this.data=[{cityId:"001",modelId:"XYZ",price:"3000",fuelType:"Petrol"},{cityId:"002",modelId:"XXZ",price:"5000",fuelType:"Petrol"},{cityId:"003",modelId:"YYZ",price:"8000",fuelType:"CNG"}],this.city=[{id:"001"},{id:"002"},{id:"003"},{id:"004"}],this.model=[{id:"XYZ"},{id:"XXZ"},{id:"YYZ"},{id:"XXY"}],this.package=[{id:"989"},{id:"998"},{id:"999"},{id:"988"}],this.grade=[{id:"303"},{id:"302"},{id:"301"}],this.work=[{id:"lmk"},{id:"mkl"},{id:"kml"}],this.panelPricesList=[],this.slicedPanelPricesList=[],this.citiesList=[],this.packagesList=[],this.oilGradesList=[],this.typeOfWorksList=[],this.modelsList=[],this.panelsList=[],this.gradesList=[],this.showLoader=!1,this.config={maxFilesize:50,acceptedFiles:"image/*",method:"POST",uploadMultiple:!1,accept:d=>{this.onAccept(d)}},this.savePanelPrice=(0,Z.Z)(function*(){if(r.submitted=!0,r.panelPriceForm.valid){r.showLoader=!0;const{cityId:d,modelId:l,packageId:m,fuelType:p,typeOfWorkId:h,price:T,dealerPrice:V,slashedPrice:y,panelId:A,gradeId:G}=r.panelPriceForm.value,q={cityId:d,modelId:l,packageId:m,fuelType:p,typeOfWorkId:h,price:T,dealerPrice:V,slashedPrice:y,panelId:A,gradeId:G};if(r.form.ids.value)try{(yield r.service.updatePanelPriceDetail(q,r.form.ids.value).toPromise())&&(r.modalService.hide(),r.loadPanelPrice())}catch{r.showLoader=!1}else try{(yield r.service.savePanelPrice(q).toPromise())&&(r.modalService.hide(),r.loadPanelPrice())}catch{r.showLoader=!1}}}),this.getName=(d,l)=>{let m=[];if("city"==l&&(m=this.citiesList.filter(p=>p.id==d)),"model"==l&&(m=this.modelsList.filter(p=>p.id==d)),"package"==l&&(m=this.packagesList.filter(p=>p.id==d)),"oil"==l)return m=this.gradesList.filter(p=>p.id==d),m.length?m[0].oilName:"-";if("brand"==l){const p=this.modelsList.filter(h=>h.id==d);return p.length?p[0].brand.name:"-"}return m.length?m[0].name:"-"},this.loadAllData=()=>{(0,ae.D)([this.cityService.getCities(),this.gradeService.getGrades(),this.carModelService.getCarModels()]).subscribe(([d,l,m])=>{this.citiesList=d?.length?d:[],this.gradesList=l.length?l:[],this.modelsList=m?.length?m:[],this.loadPanelPrice()},d=>{this.showLoader=!1})},this.editDataGet=function(){var d=(0,Z.Z)(function*(l,m){r.showLoader=!0;try{const h=yield r.service.getSelectedPanelPriceDetail(l).toPromise();h&&(r.panelPriceForm.get("ids")?.setValue(h?.id),r.panelPriceForm.get("cityId")?.setValue(h?.cityId),r.panelPriceForm.get("modelId")?.setValue(h?.modelId),r.panelPriceForm.get("packageId")?.setValue(h?.packageId),r.panelPriceForm.get("fuelType")?.setValue(h?.fuelType),r.panelPriceForm.get("typeOfWorkId")?.setValue(h?.typeOfWorkId),r.panelPriceForm.get("gradeId")?.setValue(h?.gradeId),r.panelPriceForm.get("price")?.setValue(h?.price),r.panelPriceForm.get("dealerPrice")?.setValue(h?.dealerPrice),r.panelPriceForm.get("panelId")?.setValue(h?.panelId),r.panelPriceForm.get("slashedPrice")?.setValue(h?.slashedPrice),r.submitted=!1,r.showLoader=!1,r.modalRef=r.modalService.show(m,{class:"modal-md"}),document.getElementById("add-btn").innerHTML="Update")}catch{r.showLoader=!1}});return function(l,m){return d.apply(this,arguments)}}(),this.delete=function(){var d=(0,Z.Z)(function*(l){const m=b().mixin({customClass:{confirmButton:"btn btn-success",cancelButton:"btn btn-danger ms-2"},buttonsStyling:!1});m.fire({title:"Are you sure?",text:"You won't be able to revert this!",icon:"warning",confirmButtonText:"Yes, delete it!",cancelButtonText:"No, cancel!",showCancelButton:!0}).then(function(){var p=(0,Z.Z)(function*(h){if(h.value){r.showLoader=!0;try{(yield r.service.deletePanelPrice(l).toPromise())&&(m.fire("Deleted!","Your data has been deleted.","success"),r.loadPanelPrice())}catch{r.showLoader=!1}}else h.dismiss===b().DismissReason.cancel&&m.fire("Cancelled","Your data is safe :)","error")});return function(h){return p.apply(this,arguments)}}())});return function(l){return d.apply(this,arguments)}}(),this.loadPanelPrice=(0,Z.Z)(function*(){r.itemsPerPage=10,r.currentPage=1;try{const d=yield r.service.getPanelPrices().toPromise();d&&(console.log(d),r.panelPricesList=d?.filter(l=>19===l.panelId&&2===l.typeOfWorkId&&l.packageId===Number(r.packageId||"0")),r.slicedPanelPricesList=r.panelPricesList.slice(0,r.itemsPerPage),r.showLoader=!1)}catch{r.showLoader=!1}}),this.changePage=d=>{this.currentPage=d.page,this.slicedPanelPricesList=this.panelPricesList.slice((d.page-1)*d.itemsPerPage,d.page*d.itemsPerPage)},this.total=o.total$}ngOnInit(){this.showLoader=!0,this.breadCrumbItems=[{label:"Master Data"},{label:"Panel price",active:!0}],this.panelPriceForm=this.fb.group({ids:[""],gradeId:[""],cityId:[null,[u.kI.required]],modelId:[null,[u.kI.required]],packageId:[this.packageId,[u.kI.required]],fuelType:[null,[u.kI.required]],typeOfWorkId:[2,[u.kI.required]],price:["",[u.kI.required,u.kI.pattern("[0-9]{1,}")]],dealerPrice:["",[u.kI.required,u.kI.pattern("[0-9]{1,}")]],slashedPrice:["",[u.kI.pattern("[0-9]{1,}")]],panelId:[19,[u.kI.required]]}),this.loadAllData()}openModal(i){this.submitted=!1;const{packageId:t,typeOfWorkId:s,panelId:o}=this.panelPriceForm.value;this.panelPriceForm.reset(),this.panelPriceForm.get("packageId").setValue(t),this.panelPriceForm.get("typeOfWorkId").setValue(s),this.panelPriceForm.get("panelId").setValue(o),this.modalRef=this.modalService.show(i,{class:"modal-md"})}get form(){return this.panelPriceForm.controls}onPanelChange(i){this.engine=i?.name.toLowerCase().includes("engine")}}function Fe(a,i){1&a&&e._UZ(0,"app-loader")}function Qe(a,i){1&a&&(e.TgZ(0,"th"),e._uU(1," Panel "),e.qZA())}function De(a,i){1&a&&(e.TgZ(0,"th"),e._uU(1," Working type "),e.qZA())}function Oe(a,i){1&a&&(e.ynx(0),e.TgZ(1,"tr")(2,"td",31),e._uU(3," No Service Package Price list. "),e.qZA()(),e.BQk())}function Be(a,i){if(1&a&&(e.TgZ(0,"td"),e._uU(1),e.qZA()),2&a){const t=e.oxw().$implicit,s=e.oxw();e.xp6(1),e.hij(" ",s.getName(null==t?null:t.panelId,"panel")," ")}}function Ve(a,i){if(1&a&&(e.TgZ(0,"td"),e._uU(1),e.qZA()),2&a){const t=e.oxw().$implicit,s=e.oxw();e.xp6(1),e.hij(" ",s.getName(null==t?null:t.typeOfWorkId,"typeOfWork")," ")}}function Ge(a,i){1&a&&(e.TgZ(0,"span",32),e._uU(1,"\u20b9"),e.qZA())}function Ke(a,i){if(1&a){const t=e.EpF();e.TgZ(0,"tr")(1,"td"),e._uU(2),e.qZA(),e.TgZ(3,"td"),e._uU(4),e.qZA(),e.YNc(5,Be,2,1,"td",0),e.YNc(6,Ve,2,1,"td",0),e.TgZ(7,"td"),e._uU(8),e.qZA(),e.TgZ(9,"td"),e._uU(10),e.qZA(),e.TgZ(11,"td")(12,"span",32),e._uU(13,"\u20b9"),e.qZA(),e._uU(14),e.qZA(),e.TgZ(15,"td"),e.YNc(16,Ge,2,0,"span",33),e._uU(17),e.qZA(),e.TgZ(18,"td")(19,"div",34)(20,"a",35),e.NdJ("click",function(){const g=e.CHM(t).$implicit,n=e.oxw(),c=e.MAs(139);return e.KtG(n.editDataGet(g,c))}),e._UZ(21,"i",36),e.qZA(),e.TgZ(22,"a",37),e.NdJ("click",function(){const g=e.CHM(t).$implicit,n=e.oxw();return e.KtG(n.delete(g.id))}),e._UZ(23,"i",38),e.qZA()()()()}if(2&a){const t=i.$implicit,s=i.index,o=e.oxw();e.xp6(2),e.Oqu((o.currentPage-1)*o.itemsPerPage+s+1),e.xp6(2),e.Oqu(o.getName(null==t?null:t.cityId,"city")),e.xp6(1),e.Q6J("ngIf",null==o.package||null==o.package.name?null:o.package.name.includes("Denting and Painting")),e.xp6(1),e.Q6J("ngIf",null==o.package||null==o.package.name?null:o.package.name.includes("Denting and Painting")),e.xp6(2),e.AsE(" ",o.getName(null==t?null:t.modelId,"brand")," ",o.getName(null==t?null:t.modelId,"model")," "),e.xp6(2),e.Oqu(t.fuelType),e.xp6(4),e.hij(" ",null==t?null:t.price," "),e.xp6(2),e.Q6J("ngIf",null==t?null:t.slashedPrice),e.xp6(1),e.hij(" ",null!=t&&t.slashedPrice?t.slashedPrice:"-"," ")}}function Re(a,i){if(1&a&&(e.TgZ(0,"div",10),e._UZ(1,"app-panel-price",39),e.qZA()),2&a){const t=e.oxw();e.xp6(1),e.Q6J("packageId",t.packageId)}}function He(a,i){}function We(a,i){1&a&&(e.TgZ(0,"div"),e._uU(1,"City is required"),e.qZA())}function Ee(a,i){if(1&a&&(e.TgZ(0,"div",61),e.YNc(1,We,2,0,"div",0),e.qZA()),2&a){const t=e.oxw(2);e.xp6(1),e.Q6J("ngIf",t.form.cityId.errors.required)}}function je(a,i){}function $e(a,i){1&a&&(e.TgZ(0,"div"),e._uU(1," Car Model is required "),e.qZA())}function ze(a,i){if(1&a&&(e.TgZ(0,"div",61),e.YNc(1,$e,2,0,"div",0),e.qZA()),2&a){const t=e.oxw(2);e.xp6(1),e.Q6J("ngIf",t.form.modelId.errors.required)}}function Xe(a,i){1&a&&(e.TgZ(0,"div"),e._uU(1," Fuel Type is required "),e.qZA())}function et(a,i){if(1&a&&(e.TgZ(0,"div",61),e.YNc(1,Xe,2,0,"div",0),e.qZA()),2&a){const t=e.oxw(2);e.xp6(1),e.Q6J("ngIf",t.form.fuelType.errors.required)}}function tt(a,i){1&a&&(e.TgZ(0,"div"),e._uU(1," Car Panel is required "),e.qZA())}function at(a,i){if(1&a&&(e.TgZ(0,"div",61),e.YNc(1,tt,2,0,"div",0),e.qZA()),2&a){const t=e.oxw(3);e.xp6(1),e.Q6J("ngIf",t.form.carPanel.errors.carPanel)}}F.\u0275fac=function(i){return new(i||F)(e.Y36(w.F0),e.Y36(j.tT),e.Y36(u.QS),e.Y36(H.Y),e.Y36(R.Z),e.Y36(S.M),e.Y36(ie.U),e.Y36(E.Z),e.Y36(W.g),e.Y36(K.i),e.Y36(Y.f))},F.\u0275cmp=e.Xpm({type:F,selectors:[["app-panel-price"]],inputs:{packageId:"packageId"},features:[e._Bn([H.Y,C.JJ,R.Z,K.i,S.M,W.g,E.Z,ie.U])],decls:37,vars:6,consts:[[4,"ngIf"],[1,"row","mb-2"],[1,"col-sm-4"],[1,"col-sm-8"],[1,"text-sm-end"],["type","button",1,"btn","btn-success","btn-rounded","mb-2","me-2",3,"click"],[1,"mdi","mdi-plus","mr-1"],[1,"table-responsive","mb-0"],[1,"table","table-centered","table-nowrap"],[1,"table"],[1,"align-middle"],[4,"ngFor","ngForOf"],[1,"pagination","pagination-rounded","justify-content-end","mb-2"],[3,"totalItems","itemsPerPage","ngModel","ngModelChange","pageChanged"],["role","document"],["content",""],["colspan","9",1,"text-center"],[1,"d-flex","gap-3"],["href","javascript:void(0);",1,"text-success",3,"click"],[1,"mdi","mdi-pencil","font-size-18"],["href","javascript:void(0);",1,"text-danger",3,"click"],[1,"mdi","mdi-delete","font-size-18"],[1,"modal-header"],["id","exampleModalLabel",1,"modal-title"],["type","button","data-bs-dismiss","modal","aria-label","Close","id","close-modal",1,"btn-close",3,"click"],[3,"formGroup","ngSubmit"],[1,"modal-body"],["type","hidden","name","id","value","","formControlName","ids"],[1,"mb-3"],["for","state-field",1,"form-label"],["bindLabel","name","bindValue","id","placeholder","Selelct city","formControlName","cityId",3,"items","ngClass"],["class","invalid-feedback","align","left",4,"ngIf"],["bindLabel","name","bindValue","id","placeholder","Select car model","formControlName","modelId",3,"items","ngClass"],["class","mb-3",4,"ngIf"],["bindLabel","name","bindValue","name","placeholder","Select Fuel type","formControlName","fuelType",3,"items","ngClass"],["bindLabel","oilName","bindValue","id","placeholder","Select Oil Name","formControlName","gradeId",3,"items","ngClass"],["type","text","id","customername-field","placeholder","Enter price","required","","formControlName","price",1,"form-control",3,"ngClass"],["type","text","id","customername-field","placeholder","Enter dealer price","required","","formControlName","dealerPrice",1,"form-control",3,"ngClass"],["type","text","id","customername-field","placeholder","Enter Slashed price","formControlName","slashedPrice",1,"form-control",3,"ngClass"],[1,"modal-footer"],[1,"hstack","gap-2","justify-content-end"],["type","button","data-bs-dismiss","modal",1,"btn","btn-light",3,"click"],["type","submit","id","add-btn",1,"btn","btn-success"],["align","left",1,"invalid-feedback"],["bindLabel","name","bindValue","id","placeholder","Select package","formControlName","packageId",3,"items","ngClass"],["bindLabel","name","bindValue","id","placeholder","Select car panel","formControlName","panelId",3,"items","ngClass","change","clear"],["class","invalid-feedback",4,"ngIf"],[1,"invalid-feedback"],["bindLabel","name","bindValue","id","placeholder","Select type of work","formControlName","typeOfWorkId",3,"items","ngClass"]],template:function(i,t){if(1&i){const s=e.EpF();e.YNc(0,de,1,0,"app-loader",0),e.TgZ(1,"div",1)(2,"div",2)(3,"h5"),e._uU(4,"Addons List"),e.qZA()(),e.TgZ(5,"div",3)(6,"div",4)(7,"button",5),e.NdJ("click",function(){e.CHM(s);const g=e.MAs(36);return e.KtG(t.openModal(g))}),e._UZ(8,"i",6),e._uU(9," Add Addons "),e.qZA()()()(),e.TgZ(10,"div",7)(11,"table",8)(12,"thead",9)(13,"tr")(14,"th",10),e._uU(15,"Sl. No."),e.qZA(),e.TgZ(16,"th",10),e._uU(17,"City"),e.qZA(),e.TgZ(18,"th",10),e._uU(19,"Oil Name"),e.qZA(),e.TgZ(20,"th",10),e._uU(21,"Model"),e.qZA(),e.TgZ(22,"th",10),e._uU(23,"Fuel Type"),e.qZA(),e.TgZ(24,"th",10),e._uU(25,"Price"),e.qZA(),e.TgZ(26,"th",10),e._uU(27,"Selling Price"),e.qZA(),e.TgZ(28,"th",10),e._uU(29,"Action"),e.qZA()()(),e.TgZ(30,"tbody"),e.YNc(31,ge,4,0,"ng-container",0),e.YNc(32,ue,21,8,"tr",11),e.qZA()()(),e.TgZ(33,"ul",12)(34,"pagination",13),e.NdJ("ngModelChange",function(g){return t.currentPage=g})("pageChanged",function(g){return t.changePage(g)}),e.qZA()(),e.YNc(35,Me,50,35,"ng-template",14,15,e.W1O)}2&i&&(e.Q6J("ngIf",t.showLoader),e.xp6(31),e.Q6J("ngIf",!(null!=t.slicedPanelPricesList&&t.slicedPanelPricesList.length)),e.xp6(1),e.Q6J("ngForOf",t.slicedPanelPricesList),e.xp6(2),e.Q6J("totalItems",t.panelPricesList.length)("itemsPerPage",t.itemsPerPage)("ngModel",t.currentPage))},dependencies:[C.mk,C.sg,C.O5,u._Y,u.Fj,u.JJ,u.JL,u.Q7,u.sg,u.u,$.R,N.w9,M.Qt,u.On],styles:[".modal-body[_ngcontent-%COMP%]{max-height:520px;overflow:auto}"]});const I=function(a){return{"is-invalid":a}};function it(a,i){if(1&a&&(e.TgZ(0,"div",46)(1,"label",47),e._uU(2,"Car Panel"),e.qZA(),e._UZ(3,"ng-select",62),e.YNc(4,at,2,1,"div",50),e.qZA()),2&a){const t=e.oxw(2);e.xp6(3),e.Q6J("items",t.panelList)("ngClass",e.VKq(3,I,t.submitted&&t.form.carPanel.errors)),e.xp6(1),e.Q6J("ngIf",t.submitted&&t.form.carPanel.errors)}}function nt(a,i){1&a&&(e.TgZ(0,"div"),e._uU(1," Type of work is required "),e.qZA())}function rt(a,i){if(1&a&&(e.TgZ(0,"div",61),e.YNc(1,nt,2,0,"div",0),e.qZA()),2&a){const t=e.oxw(3);e.xp6(1),e.Q6J("ngIf",t.form.typeOfWork.errors.typeOfWork)}}function ot(a,i){if(1&a&&(e.TgZ(0,"div",46)(1,"label",47),e._uU(2,"Car Service Work"),e.qZA(),e._UZ(3,"ng-select",63),e.YNc(4,rt,2,1,"div",50),e.qZA()),2&a){const t=e.oxw(2);e.xp6(3),e.Q6J("items",t.typeOfWorkList)("ngClass",e.VKq(3,I,t.submitted&&t.form.typeOfWork.errors)),e.xp6(1),e.Q6J("ngIf",t.submitted&&t.form.typeOfWork.errors)}}function st(a,i){1&a&&(e.TgZ(0,"div"),e._uU(1," Package Price is required "),e.qZA())}function lt(a,i){1&a&&(e.TgZ(0,"div"),e._uU(1," Numbers are only allowed! "),e.qZA())}function ct(a,i){if(1&a&&(e.TgZ(0,"div",61),e.YNc(1,st,2,0,"div",0),e.YNc(2,lt,2,0,"div",0),e.qZA()),2&a){const t=e.oxw(2);e.xp6(1),e.Q6J("ngIf",t.form.price.errors.required),e.xp6(1),e.Q6J("ngIf",t.form.price.errors.pattern)}}function dt(a,i){1&a&&(e.TgZ(0,"div"),e._uU(1," Slashed price is required "),e.qZA())}function gt(a,i){1&a&&(e.TgZ(0,"div"),e._uU(1," Numbers are only allowed! "),e.qZA())}function ut(a,i){if(1&a&&(e.TgZ(0,"div",61),e.YNc(1,dt,2,0,"div",0),e.YNc(2,gt,2,0,"div",0),e.qZA()),2&a){const t=e.oxw(2);e.xp6(1),e.Q6J("ngIf",t.form.slashedPrice.errors.required),e.xp6(1),e.Q6J("ngIf",t.form.slashedPrice.errors.pattern)}}function mt(a,i){if(1&a){const t=e.EpF();e.TgZ(0,"div",40)(1,"h5",41),e._uU(2,"Add/Edit Package Price"),e.qZA(),e.TgZ(3,"button",42),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(null==o.modalRef?null:o.modalRef.hide())}),e.qZA()(),e.TgZ(4,"form",43),e.NdJ("ngSubmit",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.savePackagePrice())}),e.TgZ(5,"div",44),e._UZ(6,"input",45),e.TgZ(7,"div",46)(8,"label",47),e._uU(9,"City"),e.qZA(),e.TgZ(10,"ng-select",48),e.YNc(11,He,0,0,"ng-template",49),e.qZA(),e.YNc(12,Ee,2,1,"div",50),e.qZA(),e.TgZ(13,"div",46)(14,"label",47),e._uU(15,"Model"),e.qZA(),e.TgZ(16,"ng-select",51),e.YNc(17,je,0,0,"ng-template",49),e.qZA(),e.YNc(18,ze,2,1,"div",50),e.qZA(),e.TgZ(19,"div",46)(20,"label",47),e._uU(21,"Fuel Type"),e.qZA(),e._UZ(22,"ng-select",52),e.YNc(23,et,2,1,"div",50),e.qZA(),e.YNc(24,it,5,5,"div",53),e.YNc(25,ot,5,5,"div",53),e.TgZ(26,"div",46)(27,"label",54),e._uU(28,"Price"),e.qZA(),e._UZ(29,"input",55),e.YNc(30,ct,3,2,"div",50),e.qZA(),e.TgZ(31,"div",46)(32,"label",54),e._uU(33,"Slashed Price"),e.qZA(),e._UZ(34,"input",56),e.YNc(35,ut,3,2,"div",50),e.qZA()(),e.TgZ(36,"div",57)(37,"div",58)(38,"button",59),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(null==o.modalRef?null:o.modalRef.hide())}),e._uU(39," Close "),e.qZA(),e.TgZ(40,"button",60),e._uU(41,"Save"),e.qZA()()()()}if(2&a){const t=e.oxw();e.xp6(4),e.Q6J("formGroup",t.packagePriceAddForm),e.xp6(6),e.Q6J("items",t.cityList)("ngClass",e.VKq(16,I,t.submitted&&t.form.cityId.errors)),e.xp6(2),e.Q6J("ngIf",t.submitted&&t.form.cityId.errors),e.xp6(4),e.Q6J("items",t.modelList)("ngClass",e.VKq(18,I,t.submitted&&t.form.modelId.errors)),e.xp6(2),e.Q6J("ngIf",t.submitted&&t.form.modelId.errors),e.xp6(4),e.Q6J("items",t.util.fuels)("ngClass",e.VKq(20,I,t.submitted&&t.form.fuelType.errors)),e.xp6(1),e.Q6J("ngIf",t.submitted&&t.form.fuelType.errors),e.xp6(1),e.Q6J("ngIf",null==t.package||null==t.package.name?null:t.package.name.includes("Denting and Painting")),e.xp6(1),e.Q6J("ngIf",null==t.package||null==t.package.name?null:t.package.name.includes("Denting and Painting")),e.xp6(4),e.Q6J("ngClass",e.VKq(22,I,t.submitted&&t.form.price.errors)),e.xp6(1),e.Q6J("ngIf",t.submitted&&t.form.price.errors),e.xp6(4),e.Q6J("ngClass",e.VKq(24,I,t.submitted&&t.form.slashedPrice.errors)),e.xp6(1),e.Q6J("ngIf",t.submitted&&t.form.slashedPrice.errors)}}class Q{constructor(i,t,s,o,g,n,c,f,v,k,_){var r=this;this.modalService=i,this.formBuilder=t,this.packageService=s,this.service=o,this.cityService=g,this.carModelService=n,this.router=c,this.panelPriceService=f,this.panelService=v,this.typeOfWorkService=k,this.util=_,this.submitted=!1,this.packagePrices=[{id:1,city:"Delhi",model:"Hyundai Grand i10",fuelType:"Petrol",price:"1900",slashedPrice:"1800"},{id:2,city:"Bangalore",model:"Hyundai Grand i10",fuelType:"Petrol",price:"2100",slashedPrice:"2000"}],this.packagePriceList=[],this.slicedPackagePriceList=[],this.activeStatus=!0,this.cityList=[],this.modelList=[],this.brandsList=[],this.panelList=[],this.typeOfWorkList=[],this.carCategories=[],this.categories=[],this.showLoader=!1,this.editDataGet=function(){var d=(0,Z.Z)(function*(l,m){console.log(l),r.packagePriceAddForm.get("ids")?.setValue(l?.id),r.packagePriceAddForm.get("cityId")?.setValue(l?.cityId),r.packagePriceAddForm.get("modelId")?.setValue(l?.modelId),r.packagePriceAddForm.get("fuelType")?.setValue(l?.fuelType),r.packagePriceAddForm.get("carPanel")?.setValue(l?.panelId),r.packagePriceAddForm.get("typeOfWork")?.setValue(l?.typeOfWorkId),r.packagePriceAddForm.get("price")?.setValue(l?.price),r.packagePriceAddForm.get("slashedPrice")?.setValue(l?.slashedPrice),r.submitted=!1,r.showLoader=!1,r.modalRef=r.modalService.show(m,{class:"modal-md"}),document.getElementById("add-btn").innerHTML="Update"});return function(l,m){return d.apply(this,arguments)}}(),this.delete=function(){var d=(0,Z.Z)(function*(l){const m=b().mixin({customClass:{confirmButton:"btn btn-success",cancelButton:"btn btn-danger ms-2"},buttonsStyling:!1});m.fire({title:"Are you sure?",text:"You won't be able to revert this!",icon:"warning",confirmButtonText:"Yes, delete it!",cancelButtonText:"No, cancel!",showCancelButton:!0}).then(function(){var p=(0,Z.Z)(function*(h){if(h.value){r.showLoader=!0;try{r.package?.name?.includes("Denting and Painting")?(yield r.panelPriceService.deletePanelPrice(l).toPromise())&&(m.fire("Deleted!","Your data has been deleted.","success"),r.loadCarPanelPrice()):(yield r.service.deletePackagePrice(l).toPromise())&&(m.fire("Deleted!","Your data has been deleted.","success"),r.loadPackagePriceList())}catch{r.showLoader=!1}}else h.dismiss===b().DismissReason.cancel&&m.fire("Cancelled","Your data is safe :)","error")});return function(h){return p.apply(this,arguments)}}())});return function(l){return d.apply(this,arguments)}}(),this.savePackagePrice=(0,Z.Z)(function*(){if(r.submitted=!0,r.packagePriceAddForm.valid){r.showLoader=!0;const{cityId:d,modelId:l,packageId:m,fuelType:p,price:h,slashedPrice:T}=r.packagePriceAddForm.value;if(r.package?.name?.includes("Denting and Painting")){const{typeOfWork:y,carPanel:A}=r.packagePriceAddForm.value,G={cityId:d,modelId:l,packageId:m,fuelType:p,price:h,slashedPrice:T,typeOfWorkId:y?Number(y):void 0,panelId:A?Number(A):void 0};if(console.log(G),r.form.ids.value)try{(yield r.panelPriceService.updatePanelPriceDetail(G,r.form.ids.value).toPromise())&&(r.modalService.hide(),r.loadCarPanelPrice())}catch{r.showLoader=!1}else try{const q=yield r.panelPriceService.savePanelPrice(G).toPromise();q&&(console.log(q),r.modalService.hide(),r.loadCarPanelPrice())}catch{r.showLoader=!1}}else{const y={cityId:d,modelId:l,packageId:m,fuelType:p,price:h,slashedPrice:T};if(console.log(y),r.form.ids.value)try{(yield r.service.updatePackagePriceDetail(y,r.form.ids.value).toPromise())&&(r.modalService.hide(),r.loadPackagePriceList())}catch{r.showLoader=!1}else try{const A=yield r.service.savePackagePrice(y).toPromise();A&&(console.log(A),r.modalService.hide(),r.loadPackagePriceList())}catch{r.showLoader=!1}}}}),this.loadPackageDetails=function(){var d=(0,Z.Z)(function*(l){try{const m=yield r.packageService.getSelectedPackageDetail(l).toPromise();m&&(r.package=m,r.showLoader=!1)}catch{r.showLoader=!1}});return function(l){return d.apply(this,arguments)}}(),this.loadPackagePriceList=(0,Z.Z)(function*(){r.itemsPerPage=5,r.currentPage=1;try{const d=yield r.service.getPackagePrice(r.packageId).toPromise();d&&(r.packagePriceList=d,r.slicedPackagePriceList=r.packagePriceList.slice(0,r.itemsPerPage),r.showLoader=!1)}catch{r.showLoader=!1}}),this.changePage=d=>{this.currentPage=d.page,this.slicedPackagePriceList=this.packagePriceList.slice((d.page-1)*d.itemsPerPage,d.page*d.itemsPerPage)},this.preProcessing=()=>{(0,ae.D)([this.packageService.getSelectedPackageDetail(this.packageId),this.packageService.getCategories(),this.packageService.getCarModels(),this.packageService.getCarBrands(),this.cityService.getCities(),this.panelService.getCarPanels(),this.typeOfWorkService.getAllTypesofWorks()]).subscribe(([d,l,m,p,h,T,V])=>{d&&(this.package=d,d?.name?.includes("Denting and Painting")?this.loadCarPanelPrice():this.loadPackagePriceList()),l?.length&&(this.categories=l),m?.length&&(this.modelList=m),p?.length&&(this.brandsList=p),h?.length&&(this.cityList=h),T?.length&&(this.panelList=T),V?.length&&(this.typeOfWorkList=V.filter(y=>"Replace"!==y.name)),this.showLoader=!1},d=>{this.showLoader=!1})},this.loadCarPanelPrice=()=>{this.itemsPerPage=5,this.currentPage=1,this.panelPriceService.getPanelPrices().subscribe(d=>{console.log(d),this.packagePriceList=d?.length?d.filter(l=>l.packageId===Number(this.packageId)):[],this.slicedPackagePriceList=this.packagePriceList?.length?this.packagePriceList.slice(0,this.itemsPerPage):[]},d=>{this.showLoader=!1})},this.preProcessing1=(0,Z.Z)(function*(){try{const d=yield r.packageService.getCategories().toPromise();d&&(r.categories=d,r.modelList.length&&r.brandsList.length&&r.cityList.length&&(r.showLoader=!1));const l=yield r.packageService.getCarModels().toPromise();l&&(r.modelList=l,r.categories.length&&r.brandsList.length&&r.cityList.length&&(r.showLoader=!1));const m=yield r.packageService.getCarBrands().toPromise();m&&(r.brandsList=m,r.categories.length&&r.modelList.length&&r.cityList.length&&(r.showLoader=!1));const p=yield r.cityService.getCities().toPromise();p&&(r.cityList=p,r.categories.length&&r.brandsList.length&&r.modelList.length&&(r.showLoader=!1))}catch{r.showLoader=!1}}),this.getName=(d,l)=>{let m=[];if("category"==l&&(m=this.categories.filter(p=>p.id==d)),"city"==l&&(m=this.cityList.filter(p=>p.id==d)),"model"==l&&(m=this.modelList.filter(p=>p.id==d)),"brand"==l){const p=this.modelList.filter(h=>h.id==d);return p.length?p[0].brand.name:"-"}if("panel"===l){const p=this.panelList.filter(h=>h.id===d);return p.length?p[0]?.name:"-"}if("typeOfWork"===l){const p=this.typeOfWorkList.filter(h=>h.id===d);return p.length?p[0]?.name:"-"}return m.length?m[0].name:"-"},this.GoBack=()=>{this.router.navigate(["/services/package"])}}ngOnInit(){this.packageId=localStorage.getItem("packageId"),this.showLoader=!0,this.breadCrumbItems=[{label:"Services"},{label:"Packages"},{label:"Package details",active:!0}],this.packagePriceAddForm=this.formBuilder.group({id:"",ids:[""],cityId:[null,[u.kI.required]],modelId:[null,[u.kI.required]],packageId:this.packageId,price:["",[u.kI.required,u.kI.pattern("[0-9]{1,}")]],fuelType:["",[u.kI.required]],carPanel:["",[]],typeOfWork:["",[]],slashedPrice:[""]}),this.preProcessing()}openModal(i){this.submitted=!1,this.packagePriceAddForm.reset(),this.packagePriceAddForm.patchValue({packageId:this.packageId}),this.modalRef=this.modalService.show(i,{class:"modal-md"})}get form(){return this.packagePriceAddForm.controls}}Q.\u0275fac=function(i){return new(i||Q)(e.Y36(j.tT),e.Y36(u.QS),e.Y36(S.M),e.Y36(te.Z),e.Y36(R.Z),e.Y36(K.i),e.Y36(w.F0),e.Y36(H.Y),e.Y36(W.g),e.Y36(E.Z),e.Y36(Y.f))},Q.\u0275cmp=e.Xpm({type:Q,selectors:[["app-package-details"]],features:[e._Bn([S.M,C.JJ,K.i,te.Z,R.Z,H.Y,W.g,E.Z])],decls:140,vars:21,consts:[[4,"ngIf"],[1,"container-fluid"],[1,"row","backrow"],[1,"backicon"],[1,"bx","bx-arrow-back","goback",3,"click"],[1,"pageheader"],["title","Package Details",3,"breadcrumbItems"],[1,"row"],[1,"col-md-12"],[1,"card"],[1,"card-body"],[1,"col-md-10"],[1,"ps-2"],[1,"table-responsive","float-end"],["id","booking-info",1,"table","align-middle","mb-0"],[1,"text-med-bold","mb-1"],[1,"mb-1"],[1,"row","mb-2"],[1,"col-sm-4"],[1,"col-sm-8"],[1,"text-sm-end"],["type","button",1,"btn","btn-success","btn-rounded","mb-2","me-2",3,"click"],[1,"mdi","mdi-plus","mr-1"],[1,"table-responsive"],[1,"table","mb-0","mt-2"],[4,"ngFor","ngForOf"],[1,"pagination","pagination-rounded","justify-content-end","mb-2"],[3,"totalItems","itemsPerPage","ngModel","ngModelChange","pageChanged"],["class","card-body",4,"ngIf"],["role","document"],["content",""],["colspan","7",1,"text-center"],[1,"rupee-symbol"],["class","rupee-symbol",4,"ngIf"],[1,"d-flex","gap-3"],["href","javascript:void(0);",1,"text-success",3,"click"],[1,"mdi","mdi-pencil","font-size-18"],["href","javascript:void(0);",1,"text-danger",3,"click"],[1,"mdi","mdi-delete","font-size-18"],[3,"packageId"],[1,"modal-header"],["id","exampleModalLabel",1,"modal-title"],["type","button","data-bs-dismiss","modal","aria-label","Close","id","close-modal",1,"btn-close",3,"click"],[3,"formGroup","ngSubmit"],[1,"modal-body"],["type","hidden","name","id","value","","formControlName","ids"],[1,"mb-3"],["for","state-field",1,"form-label"],["bindLabel","name","bindValue","id","required","","placeholder","Select City","formControlName","cityId",3,"items","ngClass"],["ng-optgroup-tmp",""],["class","invalid-feedback","align","left",4,"ngIf"],["bindLabel","name","bindValue","id","required","","placeholder","Select Car model","formControlName","modelId",3,"items","ngClass"],["bindLabel","name","bindValue","name","placeholder","Select Fuel type","formControlName","fuelType",3,"items","ngClass"],["class","mb-3",4,"ngIf"],["for","customername-field",1,"form-label"],["type","text","placeholder","Enter package price","required","","formControlName","price",1,"form-control",3,"ngClass"],["type","text","placeholder","Enter Slashed price","formControlName","slashedPrice",1,"form-control",3,"ngClass"],[1,"modal-footer"],[1,"hstack","gap-2","justify-content-end"],["type","button","data-bs-dismiss","modal",1,"btn","btn-light",3,"click"],["type","submit","id","add-btn",1,"btn","btn-success"],["align","left",1,"invalid-feedback"],["bindLabel","name","bindValue","id","placeholder","Select Car Panel","formControlName","carPanel",3,"items","ngClass"],["bindLabel","name","bindValue","id","placeholder","Select Work","formControlName","typeOfWork",3,"items","ngClass"]],template:function(i,t){if(1&i){const s=e.EpF();e.YNc(0,Fe,1,0,"app-loader",0),e.TgZ(1,"div",1)(2,"div",2)(3,"div",3)(4,"i",4),e.NdJ("click",function(){return t.GoBack()}),e.qZA()(),e.TgZ(5,"div",5),e._UZ(6,"app-page-title",6),e.qZA()(),e.TgZ(7,"div",7)(8,"div",8)(9,"div",9)(10,"div",10)(11,"div",7)(12,"div",11)(13,"div")(14,"h5",12),e._uU(15,"Details"),e.qZA(),e.TgZ(16,"div",13)(17,"table",14)(18,"tbody")(19,"tr")(20,"td")(21,"p",15),e._uU(22,"Name"),e.qZA()(),e.TgZ(23,"td"),e._uU(24,":"),e.qZA(),e.TgZ(25,"td")(26,"p",16),e._uU(27),e.qZA()()(),e.TgZ(28,"tr")(29,"td")(30,"p",15),e._uU(31,"Category"),e.qZA()(),e.TgZ(32,"td"),e._uU(33,":"),e.qZA(),e.TgZ(34,"td")(35,"p",16),e._uU(36),e.qZA()()(),e.TgZ(37,"tr")(38,"td")(39,"p",15),e._uU(40,"Description"),e.qZA()(),e.TgZ(41,"td"),e._uU(42,":"),e.qZA(),e.TgZ(43,"td")(44,"p",16),e._uU(45),e.qZA()()(),e.TgZ(46,"tr")(47,"td")(48,"p",15),e._uU(49,"Detailed description"),e.qZA()(),e.TgZ(50,"td"),e._uU(51,":"),e.qZA(),e.TgZ(52,"td")(53,"p",16),e._uU(54),e.qZA()()(),e.TgZ(55,"tr")(56,"td")(57,"p",15),e._uU(58,"Description URL"),e.qZA()(),e.TgZ(59,"td"),e._uU(60,":"),e.qZA(),e.TgZ(61,"td")(62,"p",16),e._uU(63),e.qZA()()(),e.TgZ(64,"tr")(65,"td")(66,"p",15),e._uU(67,"Service period"),e.qZA()(),e.TgZ(68,"td"),e._uU(69,":"),e.qZA(),e.TgZ(70,"td")(71,"p",16),e._uU(72),e.qZA()()(),e.TgZ(73,"tr")(74,"td")(75,"p",15),e._uU(76,"Turn Around Time"),e.qZA()(),e.TgZ(77,"td"),e._uU(78,":"),e.qZA(),e.TgZ(79,"td")(80,"p",16),e._uU(81),e.qZA()()(),e.TgZ(82,"tr")(83,"td")(84,"p",15),e._uU(85,"Warranty Period"),e.qZA()(),e.TgZ(86,"td"),e._uU(87,":"),e.qZA(),e.TgZ(88,"td")(89,"p",16),e._uU(90),e.qZA()()(),e.TgZ(91,"tr")(92,"td")(93,"p",15),e._uU(94,"Status"),e.qZA()(),e.TgZ(95,"td"),e._uU(96,":"),e.qZA(),e.TgZ(97,"td")(98,"p",16),e._uU(99),e.ALo(100,"titlecase"),e.qZA()()()()()()()()()(),e.TgZ(101,"div",10)(102,"div",17)(103,"div",18)(104,"h5"),e._uU(105,"Package Price List"),e.qZA()(),e.TgZ(106,"div",19)(107,"div",20)(108,"button",21),e.NdJ("click",function(){e.CHM(s);const g=e.MAs(139);return e.KtG(t.openModal(g))}),e._UZ(109,"i",22),e._uU(110," Add New "),e.qZA()()()(),e.TgZ(111,"div",23)(112,"table",24),e._UZ(113,"caption"),e.TgZ(114,"thead")(115,"tr")(116,"th"),e._uU(117,"Sl. No."),e.qZA(),e.TgZ(118,"th"),e._uU(119,"City"),e.qZA(),e.YNc(120,Qe,2,0,"th",0),e.YNc(121,De,2,0,"th",0),e.TgZ(122,"th"),e._uU(123,"Model"),e.qZA(),e.TgZ(124,"th"),e._uU(125,"Fuel Type"),e.qZA(),e.TgZ(126,"th"),e._uU(127,"Price"),e.qZA(),e.TgZ(128,"th"),e._uU(129,"Slashed Price"),e.qZA(),e.TgZ(130,"th"),e._uU(131,"Action"),e.qZA()()(),e.TgZ(132,"tbody"),e.YNc(133,Oe,4,0,"ng-container",0),e.YNc(134,Ke,24,10,"tr",25),e.qZA()()(),e.TgZ(135,"ul",26)(136,"pagination",27),e.NdJ("ngModelChange",function(g){return t.currentPage=g})("pageChanged",function(g){return t.changePage(g)}),e.qZA()()(),e.YNc(137,Re,2,1,"div",28),e.qZA()()()(),e.YNc(138,mt,42,26,"ng-template",29,30,e.W1O)}if(2&i){let s,o;e.Q6J("ngIf",t.showLoader),e.xp6(6),e.Q6J("breadcrumbItems",t.breadCrumbItems),e.xp6(21),e.Oqu(null==t.package?null:t.package.name),e.xp6(9),e.hij(" ",t.getName(null==t.package?null:t.package.categoryId,"category")," "),e.xp6(9),e.Oqu(null==t.package?null:t.package.desc),e.xp6(9),e.Oqu(null==t.package?null:t.package.longDesc),e.xp6(9),e.hij(" ",null!=t.package&&t.package.descUrl?t.package.descUrl:"-"," "),e.xp6(9),e.hij(" ",null!=t.package&&t.package.whenToGetItDone?t.package.whenToGetItDone:"-"," "),e.xp6(9),e.Oqu(null==t.package?null:t.package.turnAroundTime),e.xp6(9),e.Oqu(null==t.package?null:t.package.warrantyPeriod),e.xp6(9),e.Oqu(e.lcZ(100,19,null==t.package?null:t.package.status)),e.xp6(21),e.Q6J("ngIf",null==t.package||null==t.package.name?null:t.package.name.includes("Denting and Painting")),e.xp6(1),e.Q6J("ngIf",null==t.package||null==t.package.name?null:t.package.name.includes("Denting and Painting")),e.xp6(12),e.Q6J("ngIf",!(null!=t.slicedPackagePriceList&&t.slicedPackagePriceList.length)),e.xp6(1),e.Q6J("ngForOf",t.slicedPackagePriceList),e.xp6(2),e.Q6J("totalItems",t.packagePriceList.length)("itemsPerPage",t.itemsPerPage)("ngModel",t.currentPage),e.xp6(1),e.Q6J("ngIf",null==(s=t.getName(null==t.package?null:t.package.categoryId,"category"))||null==(o=s.toLowerCase())?null:o.includes("periodic"))}},dependencies:[C.mk,C.sg,C.O5,u._Y,u.Fj,u.JJ,u.JL,u.Q7,u.sg,u.u,z.V,$.R,N.w9,N.C5,M.Qt,u.On,F,C.rS],styles:[".table-responsive[_ngcontent-%COMP%]{width:100%}.table-responsive[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{border-bottom:none}.text-med-bold[_ngcontent-%COMP%]{font-weight:500}#booking-info[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:.5rem;border-bottom:none}.goback[_ngcontent-%COMP%]{font-size:25px;margin-bottom:20px;cursor:pointer}.backrow[_ngcontent-%COMP%]{align-items:center}.row[_ngcontent-%COMP%]   .backicon[_ngcontent-%COMP%]{width:3%}.row[_ngcontent-%COMP%]   .pageheader[_ngcontent-%COMP%]{width:97%}"]});const pt={asc:"desc",desc:"","":"asc"};class D{constructor(){this.sortable="",this.direction="",this.sort=new e.vpe}rotate(){this.direction=pt[this.direction],this.sort.emit({column:this.sortable,direction:this.direction})}}D.\u0275fac=function(i){return new(i||D)},D.\u0275dir=e.lG2({type:D,selectors:[["th","sortable",""]],hostVars:4,hostBindings:function(i,t){1&i&&e.NdJ("click",function(){return t.rotate()}),2&i&&e.ekj("asc","asc"===t.direction)("desc","desc"===t.direction)},inputs:{sortable:"sortable",direction:"direction"},outputs:{sort:"sort"}});var _t=P(96170),ne=P(87522);function ft(a,i){1&a&&e._UZ(0,"app-loader")}function ht(a,i){1&a&&(e.ynx(0),e.TgZ(1,"tr")(2,"td",23),e._uU(3," No Service Packages list. "),e.qZA()(),e.BQk())}function vt(a,i){if(1&a){const t=e.EpF();e.TgZ(0,"div",29)(1,"a",30),e.NdJ("click",function(){e.CHM(t);const o=e.oxw().$implicit,g=e.oxw(),n=e.MAs(42);return e.KtG(g.editDataGet(o.id,n))}),e._UZ(2,"i",31),e.qZA(),e.TgZ(3,"a",32),e.NdJ("click",function(){e.CHM(t);const o=e.oxw().$implicit,g=e.oxw();return e.KtG(g.delete(o.id))}),e._UZ(4,"i",33),e.qZA()()}}function Pt(a,i){if(1&a){const t=e.EpF();e.TgZ(0,"tr",24)(1,"td"),e._uU(2),e.qZA(),e.TgZ(3,"td"),e._uU(4),e.qZA(),e.TgZ(5,"td"),e._uU(6),e.qZA(),e.TgZ(7,"td"),e._uU(8),e.qZA(),e.TgZ(9,"td"),e._uU(10),e.qZA(),e.TgZ(11,"td")(12,"div",25)(13,"input",26),e.NdJ("ngModelChange",function(o){const n=e.CHM(t).index,c=e.oxw();return e.KtG(c.statusBoolean[(c.currentPage-1)*c.itemsPerPage+n]=o)})("click",function(){const o=e.CHM(t),g=o.$implicit,n=o.index,c=e.oxw();return e.KtG(c.updateStatus(g,(c.currentPage-1)*c.itemsPerPage+n))}),e.qZA()()(),e.TgZ(14,"td")(15,"button",27),e.NdJ("click",function(){const g=e.CHM(t).$implicit,n=e.oxw();return e.KtG(n.navigateToUrl(null==g?null:g.id))}),e._uU(16," Configure "),e.qZA()(),e.TgZ(17,"td"),e.YNc(18,vt,5,0,"div",28),e.qZA()()}if(2&a){const t=i.$implicit,s=i.index,o=e.oxw();e.MGl("id","o_",t.id,""),e.xp6(2),e.Oqu((o.currentPage-1)*o.itemsPerPage+s+1),e.xp6(2),e.Oqu(null==t?null:t.name),e.xp6(2),e.Oqu(o.getCategoryName(null==t?null:t.categoryId)),e.xp6(2),e.Oqu(null==t?null:t.turnAroundTime),e.xp6(2),e.Oqu(null==t?null:t.warrantyPeriod),e.xp6(3),e.Q6J("ngModel",o.statusBoolean[(o.currentPage-1)*o.itemsPerPage+s]),e.xp6(5),e.Q6J("ngIf",!(null!=t&&null!=t.name&&t.name.includes("Denting and Painting")))}}function Zt(a,i){if(1&a){const t=e.EpF();e.TgZ(0,"div",34)(1,"h5",35),e._uU(2,"Package Details"),e.qZA(),e.TgZ(3,"button",36),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(null==o.modalRef?null:o.modalRef.hide())}),e.qZA()(),e.TgZ(4,"div",37)(5,"p",38),e._uU(6," Product id: "),e.TgZ(7,"span",39),e._uU(8,"#SK2540"),e.qZA()(),e.TgZ(9,"p",40),e._uU(10," Billing Name: "),e.TgZ(11,"span",39),e._uU(12,"Neal Matthews"),e.qZA()(),e.TgZ(13,"div",41)(14,"table",14)(15,"thead")(16,"tr")(17,"th",42),e._uU(18,"Product"),e.qZA(),e.TgZ(19,"th",42),e._uU(20,"Product Name"),e.qZA(),e.TgZ(21,"th",42),e._uU(22,"Price"),e.qZA()()(),e.TgZ(23,"tbody")(24,"tr")(25,"th",43)(26,"div"),e._UZ(27,"img",44),e.qZA()(),e.TgZ(28,"td")(29,"div")(30,"h5",45),e._uU(31," Wireless Headphone (Black) "),e.qZA(),e.TgZ(32,"p",46),e._uU(33,"$ 225 x 1"),e.qZA()()(),e.TgZ(34,"td"),e._uU(35,"$ 255"),e.qZA()(),e.TgZ(36,"tr")(37,"th",43)(38,"div"),e._UZ(39,"img",47),e.qZA()(),e.TgZ(40,"td")(41,"div")(42,"h5",45),e._uU(43," Phone patterned cases "),e.qZA(),e.TgZ(44,"p",46),e._uU(45,"$ 145 x 1"),e.qZA()()(),e.TgZ(46,"td"),e._uU(47,"$ 145"),e.qZA()(),e.TgZ(48,"tr")(49,"td",48)(50,"h6",49),e._uU(51,"Sub Total:"),e.qZA()(),e.TgZ(52,"td"),e._uU(53,"$ 400"),e.qZA()(),e.TgZ(54,"tr")(55,"td",48)(56,"h6",49),e._uU(57,"Shipping:"),e.qZA()(),e.TgZ(58,"td"),e._uU(59,"Free"),e.qZA()(),e.TgZ(60,"tr")(61,"td",48)(62,"h6",49),e._uU(63,"Total:"),e.qZA()(),e.TgZ(64,"td"),e._uU(65,"$ 400"),e.qZA()()()()()(),e.TgZ(66,"div",50)(67,"button",51),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(null==o.modalRef?null:o.modalRef.hide())}),e._uU(68,"Close"),e.qZA()()}}function kt(a,i){1&a&&(e.TgZ(0,"div"),e._uU(1," Package Name is required "),e.qZA())}function Ct(a,i){if(1&a&&(e.TgZ(0,"div",78),e.YNc(1,kt,2,0,"div",0),e.qZA()),2&a){const t=e.oxw(2);e.xp6(1),e.Q6J("ngIf",t.form.name.errors.required)}}function bt(a,i){}function Tt(a,i){1&a&&(e.TgZ(0,"div"),e._uU(1," Category is required "),e.qZA())}function xt(a,i){if(1&a&&(e.TgZ(0,"div",78),e.YNc(1,Tt,2,0,"div",0),e.qZA()),2&a){const t=e.oxw(2);e.xp6(1),e.Q6J("ngIf",t.form.categoryId.errors.required)}}function yt(a,i){1&a&&(e.TgZ(0,"div"),e._uU(1," Description is required "),e.qZA())}function At(a,i){if(1&a&&(e.TgZ(0,"div",78),e.YNc(1,yt,2,0,"div",0),e.qZA()),2&a){const t=e.oxw(2);e.xp6(1),e.Q6J("ngIf",t.form.desc.errors.required)}}function qt(a,i){1&a&&(e.TgZ(0,"div"),e._uU(1," Service Period is required "),e.qZA())}function It(a,i){if(1&a&&(e.TgZ(0,"div",78),e.YNc(1,qt,2,0,"div",0),e.qZA()),2&a){const t=e.oxw(2);e.xp6(1),e.Q6J("ngIf",t.form.whenToGetItDone.errors.required)}}function Ut(a,i){1&a&&(e.TgZ(0,"div"),e._uU(1," Warranty Period is required "),e.qZA())}function wt(a,i){if(1&a&&(e.TgZ(0,"div",78),e.YNc(1,Ut,2,0,"div",0),e.qZA()),2&a){const t=e.oxw(2);e.xp6(1),e.Q6J("ngIf",t.form.warrantyPeriod.errors.required)}}function St(a,i){1&a&&(e.TgZ(0,"div"),e._uU(1," Turnaround time is required "),e.qZA())}function Nt(a,i){if(1&a&&(e.TgZ(0,"div",78),e.YNc(1,St,2,0,"div",0),e.qZA()),2&a){const t=e.oxw(2);e.xp6(1),e.Q6J("ngIf",t.form.turnAroundTime.errors.required)}}function Lt(a,i){1&a&&(e.TgZ(0,"div",79),e._uU(1," Package description is required "),e.qZA())}function Jt(a,i){if(1&a){const t=e.EpF();e.TgZ(0,"input",80),e.NdJ("change",function(o){e.CHM(t);const g=e.oxw(2);return e.KtG(g.onAccept(o))}),e.qZA()}}function Yt(a,i){if(1&a){const t=e.EpF();e.TgZ(0,"div",81)(1,"button",82),e.NdJ("click",function(){e.CHM(t);const o=e.oxw(2);return e.KtG(o.removeImage())}),e.TgZ(2,"span"),e._uU(3,"\xd7"),e.qZA()(),e._UZ(4,"img",83),e.qZA()}if(2&a){const t=e.oxw(2);e.xp6(4),e.s9C("src",t.form.photo.value,e.LSH)}}const U=function(a){return{"is-invalid":a}},Mt=function(){return{placeholder:"Enter package description here"}};function Ft(a,i){if(1&a){const t=e.EpF();e.TgZ(0,"div",34)(1,"h5",52),e._uU(2,"Add/Edit Package"),e.qZA(),e.TgZ(3,"button",53),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(null==o.modalRef?null:o.modalRef.hide())}),e.qZA()(),e.TgZ(4,"form",54),e.NdJ("ngSubmit",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.savePackage())}),e.TgZ(5,"div",37),e._UZ(6,"input",55),e.TgZ(7,"div",56)(8,"label",57),e._uU(9,"Package Name"),e.qZA(),e._UZ(10,"input",58),e.YNc(11,Ct,2,1,"div",59),e.qZA(),e.TgZ(12,"div",56)(13,"label",60),e._uU(14,"Category"),e.qZA(),e.TgZ(15,"ng-select",61),e.YNc(16,bt,0,0,"ng-template",62),e.qZA(),e.YNc(17,xt,2,1,"div",59),e.qZA(),e.TgZ(18,"div",56)(19,"label",63),e._uU(20,"Description"),e.qZA(),e._UZ(21,"textarea",64),e.YNc(22,At,2,1,"div",59),e.qZA(),e.TgZ(23,"div",56)(24,"label",57),e._uU(25,"Service period"),e.qZA(),e._UZ(26,"input",65),e.YNc(27,It,2,1,"div",59),e.qZA(),e.TgZ(28,"div",56)(29,"label",57),e._uU(30,"Warranty Period"),e.qZA(),e._UZ(31,"input",66),e.YNc(32,wt,2,1,"div",59),e.qZA(),e.TgZ(33,"div",56)(34,"label",57),e._uU(35,"Turnaround time"),e.qZA(),e._UZ(36,"input",67),e.YNc(37,Nt,2,1,"div",59),e.qZA(),e.TgZ(38,"div",56)(39,"label",68),e._uU(40,"Package Description"),e.qZA(),e.TgZ(41,"div",69),e._UZ(42,"ckeditor",70),e.qZA(),e.YNc(43,Lt,2,0,"div",71),e.qZA(),e.TgZ(44,"div",56)(45,"label",68),e._uU(46,"Status"),e.qZA(),e.TgZ(47,"div",25)(48,"input",72),e.NdJ("change",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.activeStatus=!o.activeStatus)}),e.qZA()()(),e.TgZ(49,"div",56)(50,"label",68),e._uU(51,"Package Icon"),e.qZA(),e._UZ(52,"br"),e.YNc(53,Jt,1,0,"input",73),e.YNc(54,Yt,5,1,"div",74),e.qZA()(),e.TgZ(55,"div",50)(56,"div",75)(57,"button",76),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(null==o.modalRef?null:o.modalRef.hide())}),e._uU(58," Close "),e.qZA(),e.TgZ(59,"button",77),e._uU(60,"Save"),e.qZA()()()()}if(2&a){const t=e.oxw();e.xp6(4),e.Q6J("formGroup",t.packageAddForm),e.xp6(6),e.Q6J("ngClass",e.VKq(21,U,t.submitted&&t.form.name.errors)),e.xp6(1),e.Q6J("ngIf",t.submitted&&t.form.name.errors),e.xp6(4),e.Q6J("items",t.categories)("ngClass",e.VKq(23,U,t.submitted&&t.form.categoryId.errors)),e.xp6(2),e.Q6J("ngIf",t.submitted&&t.form.categoryId.errors),e.xp6(4),e.Q6J("ngClass",e.VKq(25,U,t.submitted&&t.form.desc.errors)),e.xp6(1),e.Q6J("ngIf",t.submitted&&t.form.desc.errors),e.xp6(4),e.Q6J("ngClass",e.VKq(27,U,t.submitted&&t.form.whenToGetItDone.errors)),e.xp6(1),e.Q6J("ngIf",t.submitted&&t.form.whenToGetItDone.errors),e.xp6(4),e.Q6J("ngClass",e.VKq(29,U,t.submitted&&t.form.warrantyPeriod.errors)),e.xp6(1),e.Q6J("ngIf",t.submitted&&t.form.warrantyPeriod.errors),e.xp6(4),e.Q6J("ngClass",e.VKq(31,U,t.submitted&&t.form.turnAroundTime.errors)),e.xp6(1),e.Q6J("ngIf",t.submitted&&t.form.turnAroundTime.errors),e.xp6(5),e.Q6J("editor",t.Editor)("ngClass",e.VKq(33,U,t.submitted&&t.form.packageMetaData.errors))("config",e.DdM(35,Mt)),e.xp6(1),e.Q6J("ngIf",t.submitted&&t.packageAddForm.get("packageMetaData").hasError("required")),e.xp6(5),e.Q6J("checked",t.activeStatus),e.xp6(5),e.Q6J("ngIf",t.upload),e.xp6(1),e.Q6J("ngIf",!t.upload)}}class O{constructor(i,t,s,o,g){var n=this;this.modalService=i,this.service=t,this.formBuilder=s,this.utilService=o,this.router=g,this.Editor=_t,this.upload=!1,this.submitted=!1,this.image="",this.file="",this.showLoader=!1,this.packagesList=[],this.slicedPackagesList=[],this.config={maxFilesize:50,acceptedFiles:"image/*",method:"POST",uploadMultiple:!1,accept:c=>{this.onAccept(c)}},this.categories=[],this.states=["Andhra Pradesh","Arunachal Pradesh","Assam","Bihar","Chhattisgarh","Goa","Gujarat","Haryana","Himachal Pradesh","Jharkhand","Karnataka","Kerala","Madhya Pradesh","Maharashtra","Manipur","Meghalaya","Mizoram","Nagaland","Odisha","Punjab","Rajasthan","Sikkim","Tamil Nadu","Telangana","Tripura","Uttar Pradesh","Uttarakhand","West Bengal","Andaman and Nicobar Islands","Chandigarh","Dadra & Nagar Haveli and Daman & Diu","Delhi","Jammu and Kashmir","Lakshadweep","Puducherry","Ladakh"],this.activeStatus=!0,this.loadPackages=(0,Z.Z)(function*(){for(n.itemsPerPage=10,n.currentPage=1;n.statusBoolean.length;)n.statusBoolean.pop();try{const c=yield n.service.getPackages().toPromise();c&&(n.packagesList=c,n.slicedPackagesList=n.packagesList.slice(0,n.itemsPerPage),n.packagesList.forEach((f,v)=>{n.statusBoolean.push("active"==f.status)}),n.categories.length&&(n.showLoader=!1))}catch{n.showLoader=!1}}),this.changePage=c=>{this.currentPage=c.page,this.slicedPackagesList=this.packagesList.slice((c.page-1)*c.itemsPerPage,c.page*c.itemsPerPage)},this.loadCategories=(0,Z.Z)(function*(){try{const c=yield n.service.getCategories().toPromise();c&&(n.categories=c,n.packagesList.length&&(n.showLoader=!1))}catch{n.showLoader=!1}}),this.getCategoryName=c=>{const f=this.categories.filter(v=>v.id==c);return f.length?f[0].name:"-"},this.delete=function(){var c=(0,Z.Z)(function*(f){const v=b().mixin({customClass:{confirmButton:"btn btn-success",cancelButton:"btn btn-danger ms-2"},buttonsStyling:!1});v.fire({title:"Are you sure?",text:"You won't be able to revert this!",icon:"warning",confirmButtonText:"Yes, delete it!",cancelButtonText:"No, cancel!",showCancelButton:!0}).then(function(){var k=(0,Z.Z)(function*(_){if(_.value){n.showLoader=!0;try{(yield n.service.deletePackage(f).toPromise())&&(v.fire("Deleted!","Your data has been deleted.","success"),n.loadPackages())}catch{n.showLoader=!1}}else _.dismiss===b().DismissReason.cancel&&v.fire("Cancelled","Your data is safe :)","error")});return function(_){return k.apply(this,arguments)}}())});return function(f){return c.apply(this,arguments)}}(),this.updateStatus=function(){var c=(0,Z.Z)(function*(f,v){const k=b().mixin({customClass:{confirmButton:"btn btn-success",cancelButton:"btn btn-danger ms-2"},buttonsStyling:!1});k.fire({title:"Are you sure?",text:"Do you want to update the status?",icon:"warning",confirmButtonText:"Yes, update!",cancelButtonText:"No, cancel!",showCancelButton:!0}).then(function(){var _=(0,Z.Z)(function*(r){if(r.value){const d={status:"active"===f.status?"inactive":"active"};try{const l=yield n.service.updatePackageDetail(d,f.id).toPromise();if(l){n.statusBoolean[v]="active"===l.status,f.status=l.status;const m=n.slicedPackagesList?.filter(p=>p.id===l.id);m.length&&(m[0]=l)}}catch{}}else r.dismiss===b().DismissReason.cancel&&(n.statusBoolean[v]="active"===f.status,k.fire("Cancelled","Status updation cancelled!","error"))});return function(r){return _.apply(this,arguments)}}())});return function(f,v){return c.apply(this,arguments)}}(),this.savePackage=(0,Z.Z)(function*(){if(n.submitted=!0,n.packageAddForm.patchValue({status:n.activeStatus?"active":"inactive"}),console.log(n.packageAddForm.value),n.packageAddForm.valid)if(console.log(n.packageAddForm.value),n.showLoader=!0,n.form.ids.value)try{(yield n.service.updatePackageDetail(n.packageAddForm.value,n.form.ids.value).toPromise())&&(n.modalService.hide(),n.loadPackages())}catch{n.showLoader=!1}else try{(yield n.service.savePackage(n.packageAddForm.value).toPromise())&&(n.modalService.hide(),n.loadPackages())}catch{n.showLoader=!1}}),this.editDataGet=function(){var c=(0,Z.Z)(function*(f,v){n.showLoader=!0;try{const _=yield n.service.getSelectedPackageDetail(f).toPromise();_&&(n.packageAddForm.get("ids")?.setValue(_?.id),n.packageAddForm.get("name")?.setValue(_?.name),n.packageAddForm.get("desc")?.setValue(_?.desc),n.packageAddForm.get("whenToGetItDone")?.setValue(_?.whenToGetItDone),n.packageAddForm.get("isDoorstep")?.setValue(_?.isDoorstep),n.packageAddForm.get("descUrl")?.setValue(_?.descUrl),n.packageAddForm.get("turnAroundTime")?.setValue(_?.turnAroundTime),n.packageAddForm.get("photo")?.setValue(_?.photo),n.packageAddForm.get("warrantyPeriod")?.setValue(_?.warrantyPeriod),n.packageAddForm.get("packageMetaData")?.setValue(_?.packageMetaData),n.packageAddForm.get("categoryId")?.setValue(_?.categoryId),n.packageAddForm.get("pickupTypeId")?.setValue(_?.pickupTypeId),n.packageAddForm.get("longDesc")?.setValue(_?.longDesc),n.activeStatus="active"===_?.status,_?.photo&&(n.upload=!1),n.submitted=!1,n.showLoader=!1,n.modalRef=n.modalService.show(v,{class:"modal-md"}),document.getElementById("add-btn").innerHTML="Update")}catch{n.showLoader=!1}});return function(f,v){return c.apply(this,arguments)}}(),this.navigateToUrl=c=>{localStorage.setItem("packageId",c),this.router.navigate(["/services/package-details"])},this.total=t.total$}ngOnInit(){this.showLoader=!0,this.statusBoolean=[],this.breadCrumbItems=[{label:"Services"},{label:"Package",active:!0}],this.packageAddForm=this.formBuilder.group({ids:[""],name:[null,[u.kI.required]],status:[null,[u.kI.required]],desc:["",[u.kI.required]],whenToGetItDone:["",[u.kI.required]],turnAroundTime:["",[u.kI.required]],warrantyPeriod:["",[u.kI.required]],categoryId:[null,[u.kI.required]],pickupTypeId:[1],photo:[""],isDoorstep:!1,sizedPhoto:[""],packageMetaData:["",u.kI.required]}),this.loadPackages(),this.loadCategories()}openViewModal(i){this.modalRef=this.modalService.show(i)}checkUncheckAll(i){this.orderes.forEach(t=>t.state=i.target.checked)}openModal(i){this.submitted=!1,this.upload=!0,this.activeStatus=!0,this.packageAddForm.reset(),this.packageAddForm.patchValue({pickupTypeId:1,isDoorstep:!1}),this.modalRef=this.modalService.show(i,{class:"modal-md"})}removeImage(){this.upload=!0,this.image="",this.file=""}get form(){return this.packageAddForm.controls}onAccept(i){this.showLoader=!0,this.image=i.name,this.file=i;const t=i.currentTarget.files[0],s=new FormData;s.append("file",t),this.utilService.uploadFile(s).subscribe(o=>{if(o?.mediaId){const g=this.utilService.getBaseUrl()+o.mediaId;this.packageAddForm.get("photo").setValue(g),this.showLoader=!1}},o=>{this.showLoader=!1})}}O.\u0275fac=function(i){return new(i||O)(e.Y36(j.tT),e.Y36(S.M),e.Y36(u.QS),e.Y36(Y.f),e.Y36(w.F0))},O.\u0275cmp=e.Xpm({type:O,selectors:[["app-package"]],viewQuery:function(i,t){if(1&i&&e.Gf(D,5),2&i){let s;e.iGM(s=e.CRH())&&(t.headers=s)}},features:[e._Bn([S.M,C.JJ])],decls:43,vars:7,consts:[[4,"ngIf"],[1,"container-fluid"],["title","Package",3,"breadcrumbItems"],[1,"row"],[1,"col-12"],[1,"card"],[1,"card-body"],[1,"row","mb-2"],[1,"col-sm-4"],[1,"col-sm-8"],[1,"text-sm-end"],["type","button",1,"btn","btn-success","btn-rounded","mb-2","me-2",3,"click"],[1,"mdi","mdi-plus","mr-1"],[1,"table-responsive","mb-0"],[1,"table","table-centered","table-nowrap"],[1,"table"],[1,"align-middle"],[3,"id",4,"ngFor","ngForOf"],[1,"pagination","pagination-rounded","justify-content-end","mb-2"],[3,"totalItems","itemsPerPage","ngModel","ngModelChange","pageChanged"],["role","document"],["ViewContent",""],["content",""],["colspan","8",1,"text-center"],[3,"id"],[1,"form-check","form-switch","form-switch-lg","mb-3"],["type","checkbox","id","SwitchCheckSizelg",1,"form-check-input",3,"ngModel","ngModelChange","click"],["type","button","id","configure",1,"btn","btn-sm","btn-rounded",3,"click"],["class","d-flex gap-3",4,"ngIf"],[1,"d-flex","gap-3"],["href","javascript:void(0);",1,"text-success",3,"click"],[1,"mdi","mdi-pencil","font-size-18"],["href","javascript:void(0);",1,"text-danger",3,"click"],[1,"mdi","mdi-delete","font-size-18"],[1,"modal-header"],[1,"modal-title","mt-0"],["type","button","aria-hidden","true",1,"btn-close",3,"click"],[1,"modal-body"],[1,"mb-2"],[1,"text-primary"],[1,"mb-4"],[1,"table-responsive"],["scope","col"],["scope","row"],["src","assets/images/product/img-7.png","alt","",1,"avatar-sm"],[1,"text-truncate","font-size-14"],[1,"text-muted","mb-0"],["src","assets/images/product/img-4.png","alt","",1,"avatar-sm"],["colspan","2"],[1,"m-0","text-end"],[1,"modal-footer"],[1,"btn","btn-secondary",3,"click"],["id","exampleModalLabel",1,"modal-title"],["type","button","data-bs-dismiss","modal","aria-label","Close","id","close-modal",1,"btn-close",3,"click"],[3,"formGroup","ngSubmit"],["type","hidden","name","id","value","","formControlName","ids"],[1,"mb-3"],["for","customername-field",1,"form-label"],["type","text","placeholder","Enter Package Name","required","","formControlName","name",1,"form-control",3,"ngClass"],["class","invalid-feedback","align","left",4,"ngIf"],["for","state-field",1,"form-label"],["bindLabel","name","bindValue","id","required","","placeholder","Select package category","formControlName","categoryId",3,"items","ngClass"],["ng-optgroup-tmp",""],["for","commentmessage-input"],["id","commentmessage-input","formControlName","desc","placeholder","Enter package description...","rows","3",1,"form-control",3,"ngClass"],["type","text","placeholder","Enter service period","required","","formControlName","whenToGetItDone",1,"form-control",3,"ngClass"],["type","text","placeholder","Enter Warranty period","required","","formControlName","warrantyPeriod",1,"form-control",3,"ngClass"],["type","text","placeholder","Enter turnaround time","required","","formControlName","turnAroundTime",1,"form-control",3,"ngClass"],["for","payment-field",1,"form-label"],[1,"col-mb-3"],["formControlName","packageMetaData",3,"editor","ngClass","config"],["class","invalid-feedback errormessage","align","left",4,"ngIf"],["type","checkbox","id","SwitchCheckSizelg",1,"form-check-input",3,"checked","change"],["type","file",3,"change",4,"ngIf"],["class","img-block",4,"ngIf"],[1,"hstack","gap-2","justify-content-end"],["type","button","data-bs-dismiss","modal",1,"btn","btn-light",3,"click"],["type","submit","id","add-btn",1,"btn","btn-success"],["align","left",1,"invalid-feedback"],["align","left",1,"invalid-feedback","errormessage"],["type","file",3,"change"],[1,"img-block"],["type","button","id","close-btn","ngbTooltip","Remove Image",1,"close",3,"click"],["alt","",1,"avatar-lg","rounded","me-3",3,"src"]],template:function(i,t){if(1&i){const s=e.EpF();e.YNc(0,ft,1,0,"app-loader",0),e.TgZ(1,"div",1),e._UZ(2,"app-page-title",2),e.TgZ(3,"div",3)(4,"div",4)(5,"div",5)(6,"div",6)(7,"div",7),e._UZ(8,"div",8),e.TgZ(9,"div",9)(10,"div",10)(11,"button",11),e.NdJ("click",function(){e.CHM(s);const g=e.MAs(42);return e.KtG(t.openModal(g))}),e._UZ(12,"i",12),e._uU(13," Add New Package "),e.qZA()()()(),e.TgZ(14,"div",13)(15,"table",14)(16,"thead",15)(17,"tr")(18,"th",16),e._uU(19,"Sl. No."),e.qZA(),e.TgZ(20,"th",16),e._uU(21,"Package"),e.qZA(),e.TgZ(22,"th",16),e._uU(23,"Category"),e.qZA(),e.TgZ(24,"th",16),e._uU(25,"Turnaround time"),e.qZA(),e.TgZ(26,"th",16),e._uU(27,"Warranty period"),e.qZA(),e.TgZ(28,"th",16),e._uU(29,"Status"),e.qZA(),e.TgZ(30,"th",16),e._uU(31,"Configure"),e.qZA(),e.TgZ(32,"th",16),e._uU(33,"Action"),e.qZA()()(),e.TgZ(34,"tbody"),e.YNc(35,ht,4,0,"ng-container",0),e.YNc(36,Pt,19,8,"tr",17),e.qZA()()(),e.TgZ(37,"ul",18)(38,"pagination",19),e.NdJ("ngModelChange",function(g){return t.currentPage=g})("pageChanged",function(g){return t.changePage(g)}),e.qZA()()()()()()(),e.YNc(39,Zt,69,0,"ng-template",20,21,e.W1O),e.YNc(41,Ft,61,36,"ng-template",20,22,e.W1O)}2&i&&(e.Q6J("ngIf",t.showLoader),e.xp6(2),e.Q6J("breadcrumbItems",t.breadCrumbItems),e.xp6(33),e.Q6J("ngIf",!(null!=t.slicedPackagesList&&t.slicedPackagesList.length)),e.xp6(1),e.Q6J("ngForOf",t.slicedPackagesList),e.xp6(2),e.Q6J("totalItems",t.packagesList.length)("itemsPerPage",t.itemsPerPage)("ngModel",t.currentPage))},dependencies:[C.mk,C.sg,C.O5,u._Y,u.Fj,u.Wl,u.JJ,u.JL,u.Q7,u.sg,u.u,z.V,$.R,N.w9,N.C5,M.Qt,u.On,ne.u],styles:[".modal-body[_ngcontent-%COMP%]{max-height:520px;overflow:auto}#close-btn[_ngcontent-%COMP%]{right:-100px;top:-50px;position:relative;background-color:#aeaeaf;border-radius:50%}.errormessage[_ngcontent-%COMP%]{display:block}#configure[_ngcontent-%COMP%]{background:#9A1C1F!important;color:#fff!important}"]});var re=P(25953);function Qt(a,i){1&a&&e._UZ(0,"app-loader")}function Dt(a,i){1&a&&(e.ynx(0),e.TgZ(1,"tr")(2,"td",23),e._uU(3," No Service Categories list. "),e.qZA()(),e.BQk())}function Ot(a,i){if(1&a){const t=e.EpF();e.TgZ(0,"tr")(1,"td"),e._uU(2),e.qZA(),e.TgZ(3,"td"),e._uU(4),e.qZA(),e.TgZ(5,"td"),e._UZ(6,"img",24),e.qZA(),e.TgZ(7,"td",25),e._UZ(8,"div",26),e.qZA(),e.TgZ(9,"td")(10,"div",27)(11,"input",28),e.NdJ("ngModelChange",function(o){const n=e.CHM(t).index,c=e.oxw();return e.KtG(c.statusBoolean[(c.currentPage-1)*c.itemsPerPage+n]=o)})("click",function(){const o=e.CHM(t),g=o.$implicit,n=o.index,c=e.oxw();return e.KtG(c.updateStatus(g,(c.currentPage-1)*c.itemsPerPage+n))}),e.qZA()()(),e.TgZ(12,"td")(13,"div",29)(14,"a",30)(15,"i",31),e.NdJ("click",function(){const g=e.CHM(t).$implicit,n=e.oxw(),c=e.MAs(37);return e.KtG(n.editDataGet(g.id,c))}),e.qZA()(),e.TgZ(16,"a",32)(17,"i",33),e.NdJ("click",function(){const g=e.CHM(t).$implicit,n=e.oxw();return e.KtG(n.delete(g.id))}),e.qZA()()()()()}if(2&a){const t=i.$implicit,s=i.index,o=e.oxw();e.xp6(2),e.Oqu((o.currentPage-1)*o.itemsPerPage+s+1),e.xp6(2),e.Oqu(t.name),e.xp6(2),e.s9C("src",t.logoUrl,e.LSH),e.xp6(2),e.Udp("background-color",t.bgColor),e.xp6(3),e.Q6J("ngModel",o.statusBoolean[(o.currentPage-1)*o.itemsPerPage+s])}}function Bt(a,i){1&a&&(e.TgZ(0,"div"),e._uU(1," Category Name is required "),e.qZA())}function Vt(a,i){if(1&a&&(e.TgZ(0,"div",53),e.YNc(1,Bt,2,0,"div",0),e.qZA()),2&a){const t=e.oxw(2);e.xp6(1),e.Q6J("ngIf",t.form.name.errors.required)}}function Gt(a,i){if(1&a){const t=e.EpF();e.TgZ(0,"input",54),e.NdJ("change",function(o){e.CHM(t);const g=e.oxw(2);return e.KtG(g.onAccept(o))}),e.qZA()}}function Kt(a,i){if(1&a){const t=e.EpF();e.TgZ(0,"div",55)(1,"button",56),e.NdJ("click",function(){e.CHM(t);const o=e.oxw(2);return e.KtG(o.removeImage())}),e.TgZ(2,"span"),e._uU(3,"\xd7"),e.qZA()(),e._UZ(4,"img",57),e.qZA()}if(2&a){const t=e.oxw(2);e.xp6(4),e.s9C("src",t.form.logoUrl.value,e.LSH)}}function Rt(a,i){1&a&&(e.TgZ(0,"div"),e._uU(1," Background Color is required "),e.qZA())}function Ht(a,i){if(1&a&&(e.TgZ(0,"div",53),e.YNc(1,Rt,2,0,"div",0),e.qZA()),2&a){const t=e.oxw(2);e.xp6(1),e.Q6J("ngIf",t.form.bgColor.errors.required)}}const oe=function(a){return{"is-invalid":a}};function Wt(a,i){if(1&a){const t=e.EpF();e.TgZ(0,"div",34)(1,"h5",35),e._uU(2," Add/Edit Service Category "),e.qZA(),e.TgZ(3,"button",36),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(null==o.modalRef?null:o.modalRef.hide())}),e.qZA()(),e.TgZ(4,"form",37),e.NdJ("ngSubmit",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.saveServiceCategory())}),e.TgZ(5,"div",38),e._UZ(6,"input",39),e.TgZ(7,"div",40)(8,"label",41),e._uU(9,"Category Name"),e.qZA(),e._UZ(10,"input",42),e.YNc(11,Vt,2,1,"div",43),e.qZA(),e.TgZ(12,"div",40)(13,"label",44),e._uU(14,"Status"),e.qZA(),e.TgZ(15,"div",27)(16,"input",45),e.NdJ("change",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.activeStatus=!o.activeStatus)}),e.qZA()()(),e.TgZ(17,"div",40)(18,"label",44),e._uU(19,"Icon"),e.qZA(),e._UZ(20,"br"),e.YNc(21,Gt,1,0,"input",46),e.YNc(22,Kt,5,1,"div",47),e.qZA(),e.TgZ(23,"div",40)(24,"label",41),e._uU(25,"Background Color"),e.qZA(),e._UZ(26,"input",48),e.YNc(27,Ht,2,1,"div",43),e.qZA()(),e.TgZ(28,"div",49)(29,"div",50)(30,"button",51),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(null==o.modalRef?null:o.modalRef.hide())}),e._uU(31," Close "),e.qZA(),e.TgZ(32,"button",52),e._uU(33,"Save"),e.qZA()()()()}if(2&a){const t=e.oxw();e.xp6(4),e.Q6J("formGroup",t.serviceCategoryAddForm),e.xp6(6),e.Q6J("ngClass",e.VKq(8,oe,t.submitted&&t.form.name.errors)),e.xp6(1),e.Q6J("ngIf",t.submitted&&t.form.name.errors),e.xp6(5),e.Q6J("checked",t.activeStatus),e.xp6(5),e.Q6J("ngIf",t.upload),e.xp6(1),e.Q6J("ngIf",!t.upload),e.xp6(4),e.Q6J("ngClass",e.VKq(10,oe,t.submitted&&t.form.bgColor.errors)),e.xp6(1),e.Q6J("ngIf",t.submitted&&t.form.bgColor.errors)}}class B{constructor(i,t,s,o,g){var n=this;this.router=i,this.modalService=t,this.formBuilder=s,this.service=o,this.utilService=g,this.submitted=!1,this.upload=!1,this.image="",this.file="",this.showLoader=!1,this.serviceCategoriesList=[],this.slicedServiceCategoriesList=[],this.data=[{name:"Category A"},{name:"Category B"},{name:"Category C"}],this.config={maxFilesize:50,acceptedFiles:"image/*",method:"POST",uploadMultiple:!1,accept:c=>{this.onAccept(c)}},this.activeStatus=!0,this.editDataGet=function(){var c=(0,Z.Z)(function*(f,v){n.showLoader=!0;try{const _=yield n.service.getSelectedServiceCategoryDetail(f).toPromise();_&&(n.serviceCategoryAddForm.get("ids")?.setValue(_?.id),n.serviceCategoryAddForm.get("name")?.setValue(_?.name),n.serviceCategoryAddForm.get("logoUrl")?.setValue(_?.logoUrl),n.activeStatus="active"===_?.status,_?.logoUrl&&(n.upload=!1),n.submitted=!1,n.showLoader=!1,n.modalRef=n.modalService.show(v,{class:"modal-md"}),document.getElementById("add-btn").innerHTML="Update")}catch{n.showLoader=!1}});return function(f,v){return c.apply(this,arguments)}}(),this.saveServiceCategory=(0,Z.Z)(function*(){if(n.submitted=!0,console.log(n.serviceCategoryAddForm.value),n.serviceCategoryAddForm.valid){n.showLoader=!0;const{name:c,logoUrl:v,bgColor:k}=n.serviceCategoryAddForm.value,_={name:c,status:n.activeStatus?"active":"inactive",logoUrl:v,bgColor:k};if(n.form.ids.value)try{(yield n.service.updateServiceCategoryDetail(_,n.form.ids.value).toPromise())&&(n.modalService.hide(),n.loadServiceCategories())}catch{n.showLoader=!1}else try{(yield n.service.saveServiceCategory(_).toPromise())&&(n.modalService.hide(),n.loadServiceCategories())}catch{n.showLoader=!1}}}),this.loadServiceCategories=(0,Z.Z)(function*(){for(n.itemsPerPage=10,n.currentPage=1;n.statusBoolean.length;)n.statusBoolean.pop();try{const c=yield n.service.getServiceCategory().toPromise();c&&(n.serviceCategoriesList=c,n.slicedServiceCategoriesList=n.serviceCategoriesList.slice(0,n.itemsPerPage),n.serviceCategoriesList.forEach((f,v)=>{n.statusBoolean.push("active"==f.status)}),n.showLoader=!1)}catch{n.showLoader=!1}}),this.changePage=c=>{this.currentPage=c.page,this.slicedServiceCategoriesList=this.serviceCategoriesList.slice((c.page-1)*c.itemsPerPage,c.page*c.itemsPerPage)},this.delete=function(){var c=(0,Z.Z)(function*(f){const v=b().mixin({customClass:{confirmButton:"btn btn-success",cancelButton:"btn btn-danger ms-2"},buttonsStyling:!1});v.fire({title:"Are you sure?",text:"You won't be able to revert this!",icon:"warning",confirmButtonText:"Yes, delete it!",cancelButtonText:"No, cancel!",showCancelButton:!0}).then(function(){var k=(0,Z.Z)(function*(_){if(_.value){n.showLoader=!0;try{(yield n.service.deleteServiceCategory(f).toPromise())&&(v.fire("Deleted!","Your data has been deleted.","success"),n.loadServiceCategories())}catch{n.showLoader=!1}}else _.dismiss===b().DismissReason.cancel&&v.fire("Cancelled","Your data is safe :)","error")});return function(_){return k.apply(this,arguments)}}())});return function(f){return c.apply(this,arguments)}}(),this.updateStatus=function(){var c=(0,Z.Z)(function*(f,v){const k=b().mixin({customClass:{confirmButton:"btn btn-success",cancelButton:"btn btn-danger ms-2"},buttonsStyling:!1});k.fire({title:"Are you sure?",text:"Do you want to update the status?",icon:"warning",confirmButtonText:"Yes, update!",cancelButtonText:"No, cancel!",showCancelButton:!0}).then(function(){var _=(0,Z.Z)(function*(r){if(r.value){const d={status:"active"===f.status?"inactive":"active"};try{const l=yield n.service.updateServiceCategoryDetail(d,f.id).toPromise();if(l){n.modalService.hide(),n.statusBoolean[v]="active"===l.status,f.status=l.status;const m=n.slicedServiceCategoriesList?.filter(p=>p.id===l.id);m.length&&(m[0]=l)}}catch{}}else r.dismiss===b().DismissReason.cancel&&(n.statusBoolean[v]="active"===f.status,k.fire("Cancelled","Status updation cancelled!","error"))});return function(r){return _.apply(this,arguments)}}())});return function(f,v){return c.apply(this,arguments)}}()}ngOnInit(){this.showLoader=!0,this.statusBoolean=[],this.breadCrumbItems=[{label:"Services"},{label:"Service Category",active:!0}],this.serviceCategoryAddForm=this.formBuilder.group({id:"",ids:[""],name:["",[u.kI.required]],logoUrl:[""],status:[""],bgColor:[""]}),this.loadServiceCategories()}openModal(i){this.submitted=!1,this.activeStatus=!0,this.serviceCategoryAddForm.reset(),this.upload=!0,this.modalRef=this.modalService.show(i,{class:"modal-md"})}get form(){return this.serviceCategoryAddForm.controls}removeImage(){this.upload=!0,this.image="",this.file=""}onAccept(i){this.showLoader=!0,this.image=i.name,this.file=i;const t=i.currentTarget.files[0],s=new FormData;s.append("file",t),this.utilService.uploadFile(s).subscribe(o=>{if(o?.mediaId){const g=this.utilService.getBaseUrl()+o.mediaId;this.serviceCategoryAddForm.get("logoUrl").setValue(g),this.showLoader=!1}},o=>{console.log(o),this.showLoader=!1})}}B.\u0275fac=function(i){return new(i||B)(e.Y36(w.F0),e.Y36(j.tT),e.Y36(u.QS),e.Y36(re.u),e.Y36(Y.f))},B.\u0275cmp=e.Xpm({type:B,selectors:[["app-service-category"]],features:[e._Bn([re.u,C.JJ])],decls:38,vars:7,consts:[[4,"ngIf"],[1,"container-fluid"],["title","Categories",3,"breadcrumbItems"],[1,"nav"],[1,"row"],[1,"col-12"],[1,"card"],[1,"card-body"],[1,"row","mb-2"],[1,"col-sm-4"],[1,"col-sm-8"],[1,"text-sm-end"],["type","button",1,"btn","btn-success","btn-rounded","mb-2","me-2",3,"click"],[1,"mdi","mdi-plus","mr-1"],[1,"table-responsive","mb-0"],[1,"table","table-centered","table-nowrap"],[1,"table"],[1,"align-middle"],[4,"ngFor","ngForOf"],[1,"pagination","pagination-rounded","justify-content-end","mb-2"],[3,"totalItems","itemsPerPage","ngModel","ngModelChange","pageChanged"],["role","document"],["content",""],["colspan","5",1,"text-center"],["alt","",1,"avatar-sm","rounded","me-2",3,"src"],[2,"align-items","center","justify-content","center"],[1,"avatar-sm","rounded","me-2"],[1,"form-check","form-switch","form-switch-lg","mb-3"],["type","checkbox","id","SwitchCheckSizelg",1,"form-check-input",3,"ngModel","ngModelChange","click"],[1,"d-flex","gap-3"],["href","javascript:void(0);",1,"text-success"],[1,"mdi","mdi-pencil","font-size-18",3,"click"],["href","javascript:void(0);",1,"text-danger"],[1,"mdi","mdi-delete","font-size-18",3,"click"],[1,"modal-header"],["id","exampleModalLabel",1,"modal-title"],["type","button","data-bs-dismiss","modal","aria-label","Close","id","close-modal",1,"btn-close",3,"click"],[3,"formGroup","ngSubmit"],[1,"modal-body"],["type","hidden","name","id","value","","formControlName","ids"],[1,"mb-3"],["for","state-field",1,"form-label"],["type","text","id","customername-field","required","","placeholder","Enter category name","formControlName","name",1,"form-control",3,"ngClass"],["class","invalid-feedback","align","left",4,"ngIf"],["for","payment-field",1,"form-label"],["type","checkbox","id","SwitchCheckSizelg",1,"form-check-input",3,"checked","change"],["type","file",3,"change",4,"ngIf"],["class","img-block",4,"ngIf"],["type","color","id","colorpick","required","","value","#9A1C1F","placeholder","Choose background color","formControlName","bgColor",1,"form-control",3,"ngClass"],[1,"modal-footer"],[1,"hstack","gap-2","justify-content-end"],["type","button","data-bs-dismiss","modal",1,"btn","btn-light",3,"click"],["type","submit","id","add-btn",1,"btn","btn-success"],["align","left",1,"invalid-feedback"],["type","file",3,"change"],[1,"img-block"],["type","button","id","close-btn","ngbTooltip","Remove Image",1,"close",3,"click"],["alt","",1,"avatar-lg","rounded","me-3",3,"src"]],template:function(i,t){if(1&i){const s=e.EpF();e.YNc(0,Qt,1,0,"app-loader",0),e.TgZ(1,"div",1),e._UZ(2,"app-page-title",2)(3,"div",3),e.TgZ(4,"div",4)(5,"div",5)(6,"div",6)(7,"div",7)(8,"div",8),e._UZ(9,"div",9),e.TgZ(10,"div",10)(11,"div",11)(12,"button",12),e.NdJ("click",function(){e.CHM(s);const g=e.MAs(37);return e.KtG(t.openModal(g))}),e._UZ(13,"i",13),e._uU(14," Add New Category "),e.qZA()()()(),e.TgZ(15,"div",14)(16,"table",15)(17,"thead",16)(18,"tr")(19,"th",17),e._uU(20,"Sl. No."),e.qZA(),e.TgZ(21,"th",17),e._uU(22,"Category Name"),e.qZA(),e.TgZ(23,"th",17),e._uU(24,"Icon"),e.qZA(),e.TgZ(25,"th",17),e._uU(26,"Color"),e.qZA(),e.TgZ(27,"th",17),e._uU(28,"Status"),e.qZA(),e.TgZ(29,"th",17),e._uU(30,"Action"),e.qZA()()(),e.TgZ(31,"tbody"),e.YNc(32,Dt,4,0,"ng-container",0),e.YNc(33,Ot,18,6,"tr",18),e.qZA()()(),e.TgZ(34,"ul",19)(35,"pagination",20),e.NdJ("ngModelChange",function(g){return t.currentPage=g})("pageChanged",function(g){return t.changePage(g)}),e.qZA()()()()()()(),e.YNc(36,Wt,34,12,"ng-template",21,22,e.W1O)}2&i&&(e.Q6J("ngIf",t.showLoader),e.xp6(2),e.Q6J("breadcrumbItems",t.breadCrumbItems),e.xp6(30),e.Q6J("ngIf",!(null!=t.slicedServiceCategoriesList&&t.slicedServiceCategoriesList.length)),e.xp6(1),e.Q6J("ngForOf",t.slicedServiceCategoriesList),e.xp6(2),e.Q6J("totalItems",t.serviceCategoriesList.length)("itemsPerPage",t.itemsPerPage)("ngModel",t.currentPage))},dependencies:[C.mk,C.sg,C.O5,u._Y,u.Fj,u.Wl,u.JJ,u.JL,u.Q7,u.sg,u.u,z.V,$.R,M.Qt,u.On],styles:["#close-btn[_ngcontent-%COMP%]{right:-100px;top:-50px;position:relative;background-color:#aeaeaf;border-radius:50%}#colorpick[_ngcontent-%COMP%]{width:75px;height:50px}"]});const Et=[{path:"package",component:O},{path:"package-details",component:Q},{path:"service-category",component:B}];class L{}L.\u0275fac=function(i){return new(i||L)},L.\u0275mod=e.oAB({type:L}),L.\u0275inj=e.cJS({imports:[w.Bz.forChild(Et),w.Bz]});var se=P(71844),le=P(19668);class J{}J.\u0275fac=function(i){return new(i||J)},J.\u0275mod=e.oAB({type:J}),J.\u0275inj=e.cJS({providers:[{provide:se._t,useValue:Y.f.config}],imports:[C.ez,L,se.Ti,u.UX,le.v,N.A0,M.u3,u.u5,ne.d,le.v]})}}]);