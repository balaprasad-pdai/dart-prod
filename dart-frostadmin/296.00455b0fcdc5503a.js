"use strict";(self.webpackChunkskote=self.webpackChunkskote||[]).push([[296],{59296:(Ot,E,h)=>{h.r(E),h.d(E,{BlogsModule:()=>S});var m=h(36895),y=h(85892),_=h(15861),b=h(61135),M=h(77579),N=h(39646),v=h(18505),F=h(78372),R=h(63900),z=h(91005),t=h(94650),O=h(80529);let P;class B{constructor(e,s){this.pipe=e,this.http=s,this._loading$=new b.X(!0),this._search$=new M.x,this._filteredData$=new b.X([]),this._total$=new b.X(0),this._state={page:1,pageSize:8,searchTerm:"",sortColumn:"",sortDirection:"",startIndex:0,endIndex:9,totalRecords:0,status:"",payment:"",date:""},this.cities=[{id:1,name:"Kannur",state:"Kerala"},{id:2,name:"Kochi",state:"Kerala"},{id:3,name:"Chalakudi",state:"Kerala"}],this.saveBlogCategory=n=>this.http.post("/api/blog-category",n,{headers:P}),this.getBlogCategory=()=>this.http.get("/api/blog-category",{headers:P}),this.deleteBlogCategory=n=>this.http.delete(`/api/blog-category/${n}`,{headers:P}),this.getSelectedBlogCategoryDetail=n=>this.http.get(`/api/blog-category/${n}`,{headers:P}),this.updateBlogCategoryDetail=(n,r)=>this.http.patch(`/api/blog-category/${r}`,n,{headers:P}),this._search$.pipe((0,v.b)(()=>this._loading$.next(!0)),(0,F.b)(200),(0,R.w)(()=>this._search()),(0,z.g)(200),(0,v.b)(()=>this._loading$.next(!1))).subscribe(n=>{this._filteredData$.next(n.filteredData),this._total$.next(n.total)}),this._search$.next()}get filteredData$(){return this._filteredData$.asObservable()}get product(){return this.products}get total$(){return this._total$.asObservable()}get loading$(){return this._loading$.asObservable()}get page(){return this._state.page}get pageSize(){return this._state.pageSize}get searchTerm(){return this._state.searchTerm}get startIndex(){return this._state.startIndex}get endIndex(){return this._state.endIndex}get totalRecords(){return this._state.totalRecords}get status(){return this._state.status}get payment(){return this._state.payment}get date(){return this._state.date}set page(e){this._set({page:e})}set pageSize(e){this._set({pageSize:e})}set searchTerm(e){this._set({searchTerm:e})}set sortColumn(e){this._set({sortColumn:e})}set sortDirection(e){this._set({sortDirection:e})}set startIndex(e){this._set({startIndex:e})}set endIndex(e){this._set({endIndex:e})}set totalRecords(e){this._set({totalRecords:e})}set status(e){this._set({status:e})}set payment(e){this._set({payment:e})}set date(e){this._set({date:e})}_set(e){Object.assign(this._state,e),this._search$.next()}_search(){const{sortColumn:e,sortDirection:s,page:r,searchTerm:o}=this._state;let d=function ot(i,e,s){return""===s||""===e?i:[...i].sort((n,r)=>{const o=((i,e)=>i<e?-1:i>e?1:0)(n[e],r[e]);return"asc"===s?o:-o})}(this.cities,e,s);d=d.filter(p=>function it(i,e,s){return i.name.toLowerCase().includes(e.toLowerCase())}(p,o));const g=d.length;return this.totalRecords=d.length,this._state.startIndex=(r-1)*this.pageSize+1,this._state.endIndex=(r-1)*this.pageSize+this.pageSize,this.endIndex>this.totalRecords&&(this.endIndex=this.totalRecords),d=d.slice(this._state.startIndex-1,this._state.endIndex),(0,N.of)({filteredData:d,total:g})}}B.\u0275fac=function(e){return new(e||B)(t.LFG(m.JJ),t.LFG(O.eN))},B.\u0275prov=t.Yz7({token:B,factory:B.\u0275fac,providedIn:"root"});var u=h(24006),X=h(96170),at=h(35226),C=h.n(at),W=h(20388),Y=h(6162),j=h(32521),Q=h(29234),G=h(18987),K=h(90702);function rt(i,e){1&i&&t._UZ(0,"app-loader")}function nt(i,e){1&i&&(t.ynx(0),t.TgZ(1,"tr")(2,"td",23),t._uU(3," No Blog Categories list. "),t.qZA()(),t.BQk())}function lt(i,e){if(1&i){const s=t.EpF();t.TgZ(0,"tr")(1,"td"),t._uU(2),t.qZA(),t.TgZ(3,"td"),t._uU(4),t.qZA(),t.TgZ(5,"td")(6,"div",24)(7,"input",25),t.NdJ("ngModelChange",function(r){const a=t.CHM(s).index,l=t.oxw();return t.KtG(l.statusBoolean[(l.currentPage-1)*l.itemsPerPage+a]=r)})("click",function(){const r=t.CHM(s),o=r.$implicit,a=r.index,l=t.oxw();return t.KtG(l.updateStatus(o,(l.currentPage-1)*l.itemsPerPage+a))}),t.qZA()()(),t.TgZ(8,"td")(9,"div",26)(10,"a",27)(11,"i",28),t.NdJ("click",function(){const o=t.CHM(s).$implicit,a=t.oxw(),l=t.MAs(33);return t.KtG(a.editDataGet(o.id,l))}),t.qZA()(),t.TgZ(12,"a",29)(13,"i",30),t.NdJ("click",function(){const o=t.CHM(s).$implicit,a=t.oxw();return t.KtG(a.delete(o.id))}),t.qZA()()()()()}if(2&i){const s=e.$implicit,n=e.index,r=t.oxw();t.xp6(2),t.Oqu((r.currentPage-1)*r.itemsPerPage+n+1),t.xp6(2),t.Oqu(s.name),t.xp6(3),t.Q6J("ngModel",r.statusBoolean[(r.currentPage-1)*r.itemsPerPage+n])}}function dt(i,e){}function gt(i,e){1&i&&(t.TgZ(0,"div"),t._uU(1," Category is required "),t.qZA())}function ct(i,e){if(1&i&&(t.TgZ(0,"div",49),t.YNc(1,gt,2,0,"div",0),t.qZA()),2&i){const s=t.oxw(2);t.xp6(1),t.Q6J("ngIf",s.form.name.errors.required)}}const ut=function(i){return{"is-invalid":i}};function ht(i,e){if(1&i){const s=t.EpF();t.TgZ(0,"div",31)(1,"h5",32),t._uU(2,"Add/Edit Category"),t.qZA(),t.TgZ(3,"button",33),t.NdJ("click",function(){t.CHM(s);const r=t.oxw();return t.KtG(null==r.modalRef?null:r.modalRef.hide())}),t.qZA()(),t.TgZ(4,"form",34),t.NdJ("ngSubmit",function(){t.CHM(s);const r=t.oxw();return t.KtG(r.saveBlogCategory())}),t.TgZ(5,"div",35),t._UZ(6,"input",36),t.TgZ(7,"div",37)(8,"label",38),t._uU(9,"Category"),t.qZA(),t._UZ(10,"input",39),t.YNc(11,dt,0,0,"ng-template",40),t.YNc(12,ct,2,1,"div",41),t.qZA()(),t.TgZ(13,"div",42)(14,"label",43),t._uU(15,"Status"),t.qZA(),t.TgZ(16,"div",24)(17,"input",44),t.NdJ("change",function(){t.CHM(s);const r=t.oxw();return t.KtG(r.activeStatus=!r.activeStatus)}),t.qZA()()(),t.TgZ(18,"div",45)(19,"div",46)(20,"button",47),t.NdJ("click",function(){t.CHM(s);const r=t.oxw();return t.KtG(null==r.modalRef?null:r.modalRef.hide())}),t._uU(21," Close "),t.qZA(),t.TgZ(22,"button",48),t._uU(23,"Save"),t.qZA()()()()}if(2&i){const s=t.oxw();t.xp6(4),t.Q6J("formGroup",s.BlogCategoryAddForm),t.xp6(6),t.Q6J("ngClass",t.VKq(4,ut,s.submitted&&s.form.name.errors)),t.xp6(2),t.Q6J("ngIf",s.submitted&&s.form.name.errors),t.xp6(5),t.Q6J("checked",s.activeStatus)}}class q{constructor(e,s,n,r){var o=this;this.modalService=e,this.service=s,this.formBuilder=n,this.utilService=r,this.Editor=X,this.statusBoolean=[],this.submitted=!1,this.upload=!1,this.activeStatus=!0,this.image="",this.file="",this.blogcategory=[],this.slicedBlogcategory=[],this.categoryId=[],this.config={maxFilesize:50,acceptedFiles:"image/*",method:"POST",uploadMultiple:!1},this.showLoader=!1,this.updateStatus=function(){var a=(0,_.Z)(function*(l,c){const d=C().mixin({customClass:{confirmButton:"btn btn-success",cancelButton:"btn btn-danger ms-2"},buttonsStyling:!1});d.fire({title:"Are you sure?",text:"Do you want to update the status?",icon:"warning",confirmButtonText:"Yes, update!",cancelButtonText:"No, cancel!",showCancelButton:!0}).then(function(){var g=(0,_.Z)(function*(p){if(p.value){const D={status:"active"===l.status?"inactive":"active"};try{const f=yield o.service.updateBlogCategoryDetail(D,l.id).toPromise();if(f){o.modalService.hide(),o.statusBoolean[c]="active"===f.status,l.status=f.status;const I=o.slicedBlogcategory?.filter(k=>k.id===f.id);I.length&&(I[0]=f)}}catch{}}else p.dismiss===C().DismissReason.cancel&&(o.statusBoolean[c]="active"===l.status,d.fire("Cancelled","Status updation cancelled!","error"))});return function(p){return g.apply(this,arguments)}}())});return function(l,c){return a.apply(this,arguments)}}(),this.editDataGet=function(){var a=(0,_.Z)(function*(l,c){o.showLoader=!0;try{const g=yield o.service.getSelectedBlogCategoryDetail(l).toPromise();g&&(o.BlogCategoryAddForm.get("ids")?.setValue(g?.id),o.BlogCategoryAddForm.get("name")?.setValue(g?.name),o.BlogCategoryAddForm.get("status")?.setValue(g?.status),o.activeStatus="active"===g?.status,o.submitted=!1,o.showLoader=!1,o.modalRef=o.modalService.show(c,{class:"modal-md"}),document.getElementById("add-btn").innerHTML="Update")}catch{o.showLoader=!1}});return function(l,c){return a.apply(this,arguments)}}(),this.delete=function(){var a=(0,_.Z)(function*(l){const c=C().mixin({customClass:{confirmButton:"btn btn-success",cancelButton:"btn btn-danger ms-2"},buttonsStyling:!1});c.fire({title:"Are you sure?",text:"You won't be able to revert this!",icon:"warning",confirmButtonText:"Yes, delete it!",cancelButtonText:"No, cancel!",showCancelButton:!0}).then(function(){var d=(0,_.Z)(function*(g){if(g.value){o.showLoader=!0;try{(yield o.service.deleteBlogCategory(l).toPromise())&&(c.fire("Deleted!","Your data has been deleted.","success"),o.loadBlogCategory())}catch{o.showLoader=!1}}else g.dismiss===C().DismissReason.cancel&&c.fire("Cancelled","Your data is safe :)","error")});return function(g){return d.apply(this,arguments)}}())});return function(l){return a.apply(this,arguments)}}(),this.loadBlogCategory=(0,_.Z)(function*(){for(o.itemsPerPage=10,o.currentPage=1;o.statusBoolean.length;)o.statusBoolean.pop();try{const a=yield o.service.getBlogCategory().toPromise();a&&(console.log(a),o.blogcategory=a,o.slicedBlogcategory=o.blogcategory.slice(0,o.itemsPerPage),o.blogcategory.forEach((l,c)=>{o.statusBoolean.push("active"==l.status)}),o.showLoader=!1)}catch{o.showLoader=!1}}),this.changePage=a=>{this.currentPage=a.page,this.slicedBlogcategory=this.blogcategory.slice((a.page-1)*a.itemsPerPage,a.page*a.itemsPerPage)},this.saveBlogCategory=(0,_.Z)(function*(){if(console.log(o.BlogCategoryAddForm.value),o.submitted=!0,o.BlogCategoryAddForm.valid){o.showLoader=!0,console.log(o.BlogCategoryAddForm.value);const{name:a}=o.BlogCategoryAddForm.value,c={name:a,status:o.activeStatus?"active":"inactive"};if(o.form.ids.value)try{(yield o.service.updateBlogCategoryDetail(c,o.form.ids.value).toPromise())&&(o.modalService.hide(),o.loadBlogCategory())}catch{o.showLoader=!1}else try{(yield o.service.saveBlogCategory(c).toPromise())&&(o.modalService.hide(),o.loadBlogCategory())}catch{o.showLoader=!1}}})}ngOnInit(){this.showLoader=!0,this.breadCrumbItems=[{label:"Blogs"},{label:"Blog Category",active:!0}],this.BlogCategoryAddForm=this.formBuilder.group({id:"",ids:[""],name:["",[u.kI.required]],status:[""]}),this.loadBlogCategory()}openModal(e){this.submitted=!1,this.activeStatus=!0,this.upload=!0,this.BlogCategoryAddForm.reset(),this.modalRef=this.modalService.show(e,{class:"modal-md"})}get form(){return this.BlogCategoryAddForm.controls}}let L,A;q.\u0275fac=function(e){return new(e||q)(t.Y36(W.tT),t.Y36(B),t.Y36(u.QS),t.Y36(Y.f))},q.\u0275cmp=t.Xpm({type:q,selectors:[["app-blog-category"]],features:[t._Bn([B,m.JJ])],decls:34,vars:7,consts:[[4,"ngIf"],[1,"container-fluid"],["title","Blogs Category",3,"breadcrumbItems"],[1,"nav"],[1,"row"],[1,"col-12"],[1,"card"],[1,"card-body"],[1,"row","mb-2"],[1,"col-sm-4"],[1,"col-sm-8"],[1,"text-sm-end"],["type","button",1,"btn","btn-success","btn-rounded","mb-2","me-2",3,"click"],[1,"mdi","mdi-plus","mr-1"],[1,"table-responsive","mb-0"],[1,"table","table-centered","table-nowrap"],[1,"table"],[1,"align-middle"],[4,"ngFor","ngForOf"],[1,"pagination","pagination-rounded","justify-content-end","mb-2"],[3,"totalItems","itemsPerPage","ngModel","ngModelChange","pageChanged"],["role","document"],["content",""],["colspan","4",1,"text-center"],[1,"form-check","form-switch","form-switch-lg","mb-3"],["type","checkbox","id","SwitchCheckSizelg",1,"form-check-input",3,"ngModel","ngModelChange","click"],[1,"d-flex","gap-3"],["href","javascript:void(0);",1,"text-success"],[1,"mdi","mdi-pencil","font-size-18",3,"click"],["href","javascript:void(0);",1,"text-danger"],[1,"mdi","mdi-delete","font-size-18",3,"click"],[1,"modal-header"],["id","exampleModalLabel",1,"modal-title"],["type","button","data-bs-dismiss","modal","aria-label","Close","id","close-modal",1,"btn-close",3,"click"],[3,"formGroup","ngSubmit"],[1,"modal-body"],["type","hidden","name","id","value","","formControlName","id"],[1,"mb-3"],["for","customername-field",1,"form-label"],["type","text","placeholder","Enter Category","required","","formControlName","name",1,"form-control",3,"ngClass"],["ng-optgroup-tmp",""],["class","invalid-feedback","align","left",4,"ngIf"],[1,"mb-3",2,"margin-left","20px"],["for","payment-field",1,"form-label"],["type","checkbox","id","SwitchCheckSizelg",1,"form-check-input",3,"checked","change"],[1,"modal-footer"],[1,"hstack","gap-2","justify-content-end"],["type","button","data-bs-dismiss","modal",1,"btn","btn-light",3,"click"],["type","submit","id","add-btn",1,"btn","btn-success"],["align","left",1,"invalid-feedback"]],template:function(e,s){if(1&e){const n=t.EpF();t.YNc(0,rt,1,0,"app-loader",0),t.TgZ(1,"div",1),t._UZ(2,"app-page-title",2)(3,"div",3),t.TgZ(4,"div",4)(5,"div",5)(6,"div",6)(7,"div",7)(8,"div",8),t._UZ(9,"div",9),t.TgZ(10,"div",10)(11,"div",11)(12,"button",12),t.NdJ("click",function(){t.CHM(n);const o=t.MAs(33);return t.KtG(s.openModal(o))}),t._UZ(13,"i",13),t._uU(14," Add New Category "),t.qZA()()()(),t.TgZ(15,"div",14)(16,"table",15)(17,"thead",16)(18,"tr")(19,"th",17),t._uU(20,"Sl. No."),t.qZA(),t.TgZ(21,"th",17),t._uU(22,"Category Name"),t.qZA(),t.TgZ(23,"th",17),t._uU(24,"Status"),t.qZA(),t.TgZ(25,"th",17),t._uU(26,"Action"),t.qZA()()(),t.TgZ(27,"tbody"),t.YNc(28,nt,4,0,"ng-container",0),t.YNc(29,lt,14,3,"tr",18),t.qZA()()(),t.TgZ(30,"ul",19)(31,"pagination",20),t.NdJ("ngModelChange",function(o){return s.currentPage=o})("pageChanged",function(o){return s.changePage(o)}),t.qZA()()()()()()(),t.YNc(32,ht,24,6,"ng-template",21,22,t.W1O)}2&e&&(t.Q6J("ngIf",s.showLoader),t.xp6(2),t.Q6J("breadcrumbItems",s.breadCrumbItems),t.xp6(26),t.Q6J("ngIf",!(null!=s.slicedBlogcategory&&s.slicedBlogcategory.length)),t.xp6(1),t.Q6J("ngForOf",s.slicedBlogcategory),t.xp6(2),t.Q6J("totalItems",s.blogcategory.length)("itemsPerPage",s.itemsPerPage)("ngModel",s.currentPage))},dependencies:[m.mk,m.sg,m.O5,j.Qt,u._Y,u.Fj,u.Wl,u.JJ,u.JL,u.Q7,u.On,u.sg,u.u,Q.V,G.R,K.C5],styles:[".modal-body[_ngcontent-%COMP%]{max-height:520px;overflow:auto}#close-btn[_ngcontent-%COMP%]{right:-100px;top:-50px;position:relative;background-color:#aeaeaf;border-radius:50%}"]});class x{constructor(e,s){this.pipe=e,this.http=s,this._loading$=new b.X(!0),this._search$=new M.x,this._filteredData$=new b.X([]),this._total$=new b.X(0),this._state={page:1,pageSize:8,searchTerm:"",sortColumn:"",sortDirection:"",startIndex:0,endIndex:9,totalRecords:0,status:"",payment:"",date:""},this.cities=[{id:1,name:"Kannur",state:"Kerala"},{id:2,name:"Kochi",state:"Kerala"},{id:3,name:"Chalakudi",state:"Kerala"}],this.saveBlogsList=n=>this.http.post("/api/blog-content",n,{headers:L}),this.getBlogsList=()=>this.http.get("/api/blog-content",{headers:L}),this.deleteBlogsList=n=>this.http.delete(`/api/blog-content/${n}`,{headers:L}),this.getSelectedBlogsList=n=>this.http.get(`/api/blog-content/${n}`,{headers:L}),this.updateBlogsList=(n,r)=>this.http.patch(`/api/blog-content/${r}`,n,{headers:L}),this.getBlogCategory=()=>this.http.get("/api/blog-category",{headers:L}),this._search$.pipe((0,v.b)(()=>this._loading$.next(!0)),(0,F.b)(200),(0,R.w)(()=>this._search()),(0,z.g)(200),(0,v.b)(()=>this._loading$.next(!1))).subscribe(n=>{this._filteredData$.next(n.filteredData),this._total$.next(n.total)}),this._search$.next()}get filteredData$(){return this._filteredData$.asObservable()}get product(){return this.products}get total$(){return this._total$.asObservable()}get loading$(){return this._loading$.asObservable()}get page(){return this._state.page}get pageSize(){return this._state.pageSize}get searchTerm(){return this._state.searchTerm}get startIndex(){return this._state.startIndex}get endIndex(){return this._state.endIndex}get totalRecords(){return this._state.totalRecords}get status(){return this._state.status}get payment(){return this._state.payment}get date(){return this._state.date}set page(e){this._set({page:e})}set pageSize(e){this._set({pageSize:e})}set searchTerm(e){this._set({searchTerm:e})}set sortColumn(e){this._set({sortColumn:e})}set sortDirection(e){this._set({sortDirection:e})}set startIndex(e){this._set({startIndex:e})}set endIndex(e){this._set({endIndex:e})}set totalRecords(e){this._set({totalRecords:e})}set status(e){this._set({status:e})}set payment(e){this._set({payment:e})}set date(e){this._set({date:e})}_set(e){Object.assign(this._state,e),this._search$.next()}_search(){const{sortColumn:e,sortDirection:s,page:r,searchTerm:o}=this._state;let d=function mt(i,e,s){return""===s||""===e?i:[...i].sort((n,r)=>{const o=((i,e)=>i<e?-1:i>e?1:0)(n[e],r[e]);return"asc"===s?o:-o})}(this.cities,e,s);d=d.filter(p=>function _t(i,e,s){return i.name.toLowerCase().includes(e.toLowerCase())}(p,o));const g=d.length;return this.totalRecords=d.length,this._state.startIndex=(r-1)*this.pageSize+1,this._state.endIndex=(r-1)*this.pageSize+this.pageSize,this.endIndex>this.totalRecords&&(this.endIndex=this.totalRecords),d=d.slice(this._state.startIndex-1,this._state.endIndex),(0,N.of)({filteredData:d,total:g})}}function ft(i,e){1&i&&t._UZ(0,"app-loader")}function bt(i,e){1&i&&(t.ynx(0),t.TgZ(1,"tr")(2,"td",21),t._uU(3,"No Blogs list."),t.qZA()(),t.BQk())}function vt(i,e){if(1&i){const s=t.EpF();t.TgZ(0,"tr",22)(1,"td"),t._uU(2),t.qZA(),t.TgZ(3,"td"),t._uU(4),t.qZA(),t.TgZ(5,"td"),t._uU(6),t.qZA(),t.TgZ(7,"td")(8,"div",23)(9,"input",24),t.NdJ("ngModelChange",function(r){const a=t.CHM(s).index,l=t.oxw();return t.KtG(l.statusBoolean[(l.currentPage-1)*l.itemsPerPage+a]=r)})("click",function(){const r=t.CHM(s),o=r.$implicit,a=r.index,l=t.oxw();return t.KtG(l.updateStatus(o,(l.currentPage-1)*l.itemsPerPage+a))}),t.qZA()()(),t.TgZ(10,"td")(11,"button",25),t.NdJ("click",function(){const o=t.CHM(s).$implicit,a=t.oxw();return t.KtG(a.navigateToUrl(null==o?null:o.id))}),t._uU(12," Details "),t.qZA()(),t.TgZ(13,"td")(14,"div",26)(15,"a",27)(16,"i",28),t.NdJ("click",function(){const o=t.CHM(s).$implicit,a=t.oxw();return t.KtG(a.editDataGet(null==o?null:o.id))}),t.qZA()(),t.TgZ(17,"a",29)(18,"i",30),t.NdJ("click",function(){const o=t.CHM(s).$implicit,a=t.oxw();return t.KtG(a.delete(o.id))}),t.qZA()()()()()}if(2&i){const s=e.$implicit,n=e.index,r=t.oxw();t.MGl("id","o_",s.id,""),t.xp6(2),t.Oqu((r.currentPage-1)*r.itemsPerPage+n+1),t.xp6(2),t.Oqu(r.getCategoryName(null==s?null:s.categoryId)),t.xp6(2),t.Oqu(null==s?null:s.title),t.xp6(3),t.Q6J("ngModel",r.statusBoolean[(r.currentPage-1)*r.itemsPerPage+n])}}x.\u0275fac=function(e){return new(e||x)(t.LFG(m.JJ),t.LFG(O.eN))},x.\u0275prov=t.Yz7({token:x,factory:x.\u0275fac,providedIn:"root"});class ${constructor(e,s,n,r){var o=this;this.service=e,this.utilService=s,this.router=n,this.formBuilder=r,this.submitted=!1,this.upload=!1,this.activeStatus=!0,this.showLoader=!1,this.blogsList=[],this.slicedBlogsList=[],this.blogcategory=[],this.categoryId=[],this.delete=function(){var a=(0,_.Z)(function*(l){const c=C().mixin({customClass:{confirmButton:"btn btn-success",cancelButton:"btn btn-danger ms-2"},buttonsStyling:!1});c.fire({title:"Are you sure?",text:"You won't be able to revert this!",icon:"warning",confirmButtonText:"Yes, delete it!",cancelButtonText:"No, cancel!",showCancelButton:!0}).then(function(){var d=(0,_.Z)(function*(g){if(g.value){o.showLoader=!0;try{(yield o.service.deleteBlogsList(l).toPromise())&&(c.fire("Deleted!","Your data has been deleted.","success"),o.loadBlogsList())}catch{o.showLoader=!1}}else g.dismiss===C().DismissReason.cancel&&c.fire("Cancelled","Your data is safe :)","error")});return function(g){return d.apply(this,arguments)}}())});return function(l){return a.apply(this,arguments)}}(),this.updateStatus=function(){var a=(0,_.Z)(function*(l,c){const d=C().mixin({customClass:{confirmButton:"btn btn-success",cancelButton:"btn btn-danger ms-2"},buttonsStyling:!1});d.fire({title:"Are you sure?",text:"Do you want to update the status?",icon:"warning",confirmButtonText:"Yes, update!",cancelButtonText:"No, cancel!",showCancelButton:!0}).then(function(){var g=(0,_.Z)(function*(p){if(p.value){const D={status:"active"===l.status?"inactive":"active"};try{const f=yield o.service.updateBlogsList(D,l.id).toPromise();if(f){o.statusBoolean[c]="active"===f.status,l.status=f.status;const I=o.slicedBlogsList?.filter(k=>k.id===f.id);I.length&&(I[0]=f)}}catch{}}else p.dismiss===C().DismissReason.cancel&&(o.statusBoolean[c]="active"===l.status,d.fire("Cancelled","Status updation cancelled!","error"))});return function(p){return g.apply(this,arguments)}}())});return function(l,c){return a.apply(this,arguments)}}(),this.loadBlogsList=(0,_.Z)(function*(){for(o.itemsPerPage=10,o.currentPage=1;o.statusBoolean.length;)o.statusBoolean.pop();try{const a=yield o.service.getBlogsList().toPromise();a&&(o.blogsList=a,o.slicedBlogsList=o.blogsList.slice(0,o.itemsPerPage),o.blogsList.forEach((l,c)=>{o.statusBoolean.push("active"==l.status)}),o.blogcategory.length&&(o.showLoader=!1))}catch{o.showLoader=!1}}),this.changePage=a=>{this.currentPage=a.page,this.slicedBlogsList=this.blogsList.slice((a.page-1)*a.itemsPerPage,a.page*a.itemsPerPage)},this.loadBlogCategory=(0,_.Z)(function*(){try{const a=yield o.service.getBlogCategory().toPromise();a&&(o.blogcategory=a,o.blogsList.length&&(o.showLoader=!1))}catch{o.showLoader=!1}}),this.getCategoryName=a=>{const l=this.blogcategory.filter(c=>c.id==a);return l.length?l[0].name:"-"},this.editDataGet=a=>{localStorage.setItem("blogId",a),localStorage.setItem("operations","edit"),this.router.navigate(["/blogs/add-blog"]),console.log(this.blogId)},this.AddBlog=()=>{localStorage.setItem("operations","add"),this.router.navigate(["/blogs/add-blog"])},this.navigateToUrl=a=>{localStorage.setItem("blogId",a),this.router.navigate(["/blogs/blog-details"])}}ngOnInit(){this.showLoader=!0,this.statusBoolean=[],this.upload=!0,this.breadCrumbItems=[{label:"Blogs"},{label:"Blogs List",active:!0}],this.loadBlogsList(),this.loadBlogCategory()}}$.\u0275fac=function(e){return new(e||$)(t.Y36(x),t.Y36(Y.f),t.Y36(y.F0),t.Y36(u.QS))},$.\u0275cmp=t.Xpm({type:$,selectors:[["app-blogs-list"]],features:[t._Bn([x,m.JJ])],decls:36,vars:7,consts:[[4,"ngIf"],[1,"container-fluid"],["title","Blogs List",3,"breadcrumbItems"],[1,"nav"],[1,"row"],[1,"col-12"],[1,"card"],[1,"card-body"],[1,"row","mb-2"],[1,"col-sm-4"],[1,"col-sm-8"],[1,"text-sm-end"],["type","button",1,"btn","btn-success","btn-rounded","mb-2","me-2",3,"click"],[1,"mdi","mdi-plus","mr-1"],[1,"table-responsive","mb-0"],[1,"table","table-centered","table-nowrap"],[1,"table"],[1,"align-middle"],[3,"id",4,"ngFor","ngForOf"],[1,"pagination","pagination-rounded","justify-content-end","mb-2"],[3,"totalItems","itemsPerPage","ngModel","ngModelChange","pageChanged"],["colspan","6",1,"text-center"],[3,"id"],[1,"form-check","form-switch","form-switch-lg","mb-3"],["type","checkbox","id","SwitchCheckSizelg",1,"form-check-input",3,"ngModel","ngModelChange","click"],["type","button","id","details",1,"btn","btn-sm","btn-rounded",3,"click"],[1,"d-flex","gap-3"],["href","javascript:void(0);",1,"text-success"],[1,"mdi","mdi-pencil","font-size-18",3,"click"],["href","javascript:void(0);",1,"text-danger"],[1,"mdi","mdi-delete","font-size-18",3,"click"]],template:function(e,s){1&e&&(t.YNc(0,ft,1,0,"app-loader",0),t.TgZ(1,"div",1),t._UZ(2,"app-page-title",2)(3,"div",3),t.TgZ(4,"div",4)(5,"div",5)(6,"div",6)(7,"div",7)(8,"div",8),t._UZ(9,"div",9),t.TgZ(10,"div",10)(11,"div",11)(12,"button",12),t.NdJ("click",function(){return s.AddBlog()}),t._UZ(13,"i",13),t._uU(14," Add Blog "),t.qZA()()()(),t.TgZ(15,"div",14)(16,"table",15)(17,"thead",16)(18,"tr")(19,"th",17),t._uU(20,"Sl. No."),t.qZA(),t.TgZ(21,"th",17),t._uU(22,"Category Name"),t.qZA(),t.TgZ(23,"th",17),t._uU(24,"Title"),t.qZA(),t.TgZ(25,"th",17),t._uU(26,"Status"),t.qZA(),t.TgZ(27,"th",17),t._uU(28,"View Details"),t.qZA(),t.TgZ(29,"th",17),t._uU(30,"Action"),t.qZA()()(),t.TgZ(31,"tbody"),t.YNc(32,bt,4,0,"ng-container",0),t.YNc(33,vt,19,5,"tr",18),t.qZA()()(),t.TgZ(34,"ul",19)(35,"pagination",20),t.NdJ("ngModelChange",function(r){return s.currentPage=r})("pageChanged",function(r){return s.changePage(r)}),t.qZA()()()()()()()),2&e&&(t.Q6J("ngIf",s.showLoader),t.xp6(2),t.Q6J("breadcrumbItems",s.breadCrumbItems),t.xp6(30),t.Q6J("ngIf",!(null!=s.slicedBlogsList&&s.slicedBlogsList.length)),t.xp6(1),t.Q6J("ngForOf",s.slicedBlogsList),t.xp6(2),t.Q6J("totalItems",s.blogsList.length)("itemsPerPage",s.itemsPerPage)("ngModel",s.currentPage))},dependencies:[m.sg,m.O5,j.Qt,u.Wl,u.JJ,u.On,Q.V,G.R],styles:[".modal-body[_ngcontent-%COMP%]{max-height:520px;overflow:auto}#close-btn[_ngcontent-%COMP%]{right:-100px;top:-50px;position:relative;background-color:#aeaeaf;border-radius:50%}#details[_ngcontent-%COMP%]{background-color:#9a1c1f!important;color:#fff}"]});class Z{constructor(e,s){this.pipe=e,this.http=s,this._loading$=new b.X(!0),this._search$=new M.x,this._filteredData$=new b.X([]),this._total$=new b.X(0),this._state={page:1,pageSize:8,searchTerm:"",sortColumn:"",sortDirection:"",startIndex:0,endIndex:9,totalRecords:0,status:"",payment:"",date:""},this.cities=[{id:1,name:"Kannur",state:"Kerala"},{id:2,name:"Kochi",state:"Kerala"},{id:3,name:"Chalakudi",state:"Kerala"}],this.saveBlogsList=n=>this.http.post("/api/blog-content",n,{headers:A}),this.getBlogsList=()=>this.http.get("/api/blog-content",{headers:A}),this.deleteBlogsList=n=>this.http.delete(`/api/blog-content/${n}`,{headers:A}),this.getSelectedBlogsList=n=>this.http.get(`/api/blog-content/${n}`,{headers:A}),this.updateBlogsList=(n,r)=>this.http.patch(`/api/blog-content/${r}`,n,{headers:A}),this.getBlogCategory=()=>this.http.get("/api/blog-category",{headers:A}),this._search$.pipe((0,v.b)(()=>this._loading$.next(!0)),(0,F.b)(200),(0,R.w)(()=>this._search()),(0,z.g)(200),(0,v.b)(()=>this._loading$.next(!1))).subscribe(n=>{this._filteredData$.next(n.filteredData),this._total$.next(n.total)}),this._search$.next()}get filteredData$(){return this._filteredData$.asObservable()}get product(){return this.products}get total$(){return this._total$.asObservable()}get loading$(){return this._loading$.asObservable()}get page(){return this._state.page}get pageSize(){return this._state.pageSize}get searchTerm(){return this._state.searchTerm}get startIndex(){return this._state.startIndex}get endIndex(){return this._state.endIndex}get totalRecords(){return this._state.totalRecords}get status(){return this._state.status}get payment(){return this._state.payment}get date(){return this._state.date}set page(e){this._set({page:e})}set pageSize(e){this._set({pageSize:e})}set searchTerm(e){this._set({searchTerm:e})}set sortColumn(e){this._set({sortColumn:e})}set sortDirection(e){this._set({sortDirection:e})}set startIndex(e){this._set({startIndex:e})}set endIndex(e){this._set({endIndex:e})}set totalRecords(e){this._set({totalRecords:e})}set status(e){this._set({status:e})}set payment(e){this._set({payment:e})}set date(e){this._set({date:e})}_set(e){Object.assign(this._state,e),this._search$.next()}_search(){const{sortColumn:e,sortDirection:s,page:r,searchTerm:o}=this._state;let d=function yt(i,e,s){return""===s||""===e?i:[...i].sort((n,r)=>{const o=((i,e)=>i<e?-1:i>e?1:0)(n[e],r[e]);return"asc"===s?o:-o})}(this.cities,e,s);d=d.filter(p=>function Bt(i,e,s){return i.name.toLowerCase().includes(e.toLowerCase())}(p,o));const g=d.length;return this.totalRecords=d.length,this._state.startIndex=(r-1)*this.pageSize+1,this._state.endIndex=(r-1)*this.pageSize+this.pageSize,this.endIndex>this.totalRecords&&(this.endIndex=this.totalRecords),d=d.slice(this._state.startIndex-1,this._state.endIndex),(0,N.of)({filteredData:d,total:g})}}Z.\u0275fac=function(e){return new(e||Z)(t.LFG(m.JJ),t.LFG(O.eN))},Z.\u0275prov=t.Yz7({token:Z,factory:Z.\u0275fac,providedIn:"root"});var tt=h(87522);function xt(i,e){1&i&&t._UZ(0,"app-loader")}function Zt(i,e){1&i&&(t.TgZ(0,"div"),t._uU(1," title is required "),t.qZA())}function Tt(i,e){if(1&i&&(t.TgZ(0,"div",28),t.YNc(1,Zt,2,0,"div",0),t.qZA()),2&i){const s=t.oxw();t.xp6(1),t.Q6J("ngIf",s.form.title.errors.required)}}function It(i,e){}function Lt(i,e){1&i&&(t.TgZ(0,"div"),t._uU(1," Category is required "),t.qZA())}function At(i,e){if(1&i&&(t.TgZ(0,"div",28),t.YNc(1,Lt,2,0,"div",0),t.qZA()),2&i){const s=t.oxw();t.xp6(1),t.Q6J("ngIf",s.form.categoryId.errors.required)}}function wt(i,e){1&i&&(t.TgZ(0,"div"),t._uU(1," Tags is required "),t.qZA())}function St(i,e){if(1&i&&(t.TgZ(0,"div",28),t.YNc(1,wt,2,0,"div",0),t.qZA()),2&i){const s=t.oxw();t.xp6(1),t.Q6J("ngIf",s.form.tags.errors.required)}}function kt(i,e){1&i&&(t.TgZ(0,"div",29),t._uU(1," Description is required "),t.qZA())}function Pt(i,e){if(1&i){const s=t.EpF();t.TgZ(0,"input",30),t.NdJ("change",function(r){t.CHM(s);const o=t.oxw();return t.KtG(o.onAccept(r))}),t.qZA()}}function qt(i,e){1&i&&(t.TgZ(0,"div",29),t._uU(1," Image is required "),t.qZA())}function $t(i,e){if(1&i){const s=t.EpF();t.TgZ(0,"div",31)(1,"button",32),t.NdJ("click",function(){t.CHM(s);const r=t.oxw();return t.KtG(r.removeImage())}),t.TgZ(2,"span"),t._uU(3,"\xd7"),t.qZA()(),t._UZ(4,"img",33),t.qZA()}if(2&i){const s=t.oxw();t.xp6(4),t.s9C("src",s.form.image.value,t.LSH)}}const H=function(i){return{"is-invalid":i}},Jt=function(){return{placeholder:"Enter Description here"}};class J{constructor(e,s,n,r,o){var a=this;this.service=e,this.formBuilder=s,this.utilService=n,this.router=r,this.route=o,this.upload=!1,this.activeStatus=!0,this.image="",this.file="",this.submitted=!1,this.Editor=X,this.blogsList=[],this.blogcategory=[],this.showLoader=!1,this.editDataLoaded=!1,this.editDataGet=function(){var l=(0,_.Z)(function*(c){try{const g=yield a.service.getSelectedBlogsList(c).toPromise();g&&(a.BlogsListAddForm.get("id")?.setValue(g?.id),a.BlogsListAddForm.get("title")?.setValue(g?.title),a.BlogsListAddForm.get("categoryId")?.setValue(g?.categoryId),a.BlogsListAddForm.get("content")?.setValue(g?.content),a.BlogsListAddForm.get("tags")?.setValue(g?.tags),a.BlogsListAddForm.get("image")?.setValue(g?.image),a.activeStatus="active"===g?.status,g?.image&&(a.upload=!1),a.submitted=!1,a.blogcategory.length&&(a.showLoader=!1),a.editDataLoaded=!0,document.getElementById("add-btn").innerHTML="Update")}catch{a.showLoader=!1}});return function(c){return l.apply(this,arguments)}}(),this.loadBlogCategory=(0,_.Z)(function*(){try{const l=yield a.service.getBlogCategory().toPromise();l&&(a.blogcategory=l,"edit"==a.operations?1==a.editDataLoaded&&(a.showLoader=!1):a.showLoader=!1)}catch{a.showLoader=!1}}),this.saveBlogsList=(0,_.Z)(function*(){if(a.submitted=!0,a.BlogsListAddForm.valid){a.showLoader=!0;const{title:l,image:d,content:g,tags:p,categoryId:D,previewTitle:f,previewImage:I}=a.BlogsListAddForm.value,k={title:l,status:a.activeStatus?"active":"inactive",image:d,content:g,tags:p,categoryId:D,previewTitle:f,previewImage:I};if(a.form.id?.value)try{(yield a.service.updateBlogsList(k,a.form.id.value).toPromise())&&a.GoBack()}catch{a.showLoader=!1}else try{(yield a.service.saveBlogsList(k).toPromise())&&a.GoBack()}catch{a.showLoader=!1}}}),this.GoBack=()=>{this.showLoader=!1,this.router.navigate(["/blogs/blogs-list"])}}ngOnInit(){this.showLoader=!0,this.blogId=localStorage.getItem("blogId"),this.operations=localStorage.getItem("operations"),this.breadCrumbItems=[{label:"Blogs"},{label:"Add Blog",active:!0}],this.submitted=!1,this.activeStatus=!0,this.upload=!0,this.BlogsListAddForm=this.formBuilder.group({id:[""],categoryId:[null,[u.kI.required]],title:["",[u.kI.required]],image:["",[u.kI.required]],content:["",[u.kI.required]],tags:["",[u.kI.required]],status:[!0,[u.kI.required]],previewTitle:[""],previewImage:[""]}),this.loadBlogCategory(),"edit"==this.operations&&this.editDataGet(this.blogId)}get form(){return this.BlogsListAddForm.controls}removeImage(){this.upload=!0,this.image="",this.file=""}onAccept(e){this.showLoader=!0,this.image=e.name,this.file=e;const s=e.currentTarget.files[0],n=new FormData;n.append("file",s),this.utilService.uploadFile(n).subscribe(r=>{if(r?.mediaId){const o=this.utilService.getBaseUrl()+r.mediaId;this.BlogsListAddForm.get("image").setValue(o),this.showLoader=!1}},r=>{this.showLoader=!1,console.log(r)})}}J.\u0275fac=function(e){return new(e||J)(t.Y36(Z),t.Y36(u.QS),t.Y36(Y.f),t.Y36(y.F0),t.Y36(y.gz))},J.\u0275cmp=t.Xpm({type:J,selectors:[["app-addblog"]],features:[t._Bn([Z,m.JJ])],decls:50,vars:28,consts:[[4,"ngIf"],[1,"container-fluid"],["title","Add Blog",3,"breadcrumbItems"],[1,"row"],[1,"col-12"],[1,"card"],[1,"card-body"],[3,"formGroup","ngSubmit"],[1,"mb-3"],["for","customername-field",1,"form-label"],["type","text","placeholder","Enter Title","required","","formControlName","title",1,"form-control",3,"ngClass"],["class","invalid-feedback","align","left",4,"ngIf"],[1,"col-md-6"],["for","state-field",1,"form-label"],["required","","bindLabel","name","bindValue","id","placeholder","Select Category","formControlName","categoryId",3,"items","ngClass"],["ng-optgroup-tmp",""],["type","text","placeholder","Add Tags here","required","","formControlName","tags",1,"form-control",3,"multiple","ngClass"],["for","payment-field",1,"form-label"],[1,"col-mb-3"],["formControlName","content",3,"editor","ngClass","config"],["class","invalid-feedback errormessage","align","left",4,"ngIf"],[1,"form-check","form-switch","form-switch-lg","mb-3"],["type","checkbox","id","SwitchCheckSizelg",1,"form-check-input",3,"checked","change"],["type","file",3,"change",4,"ngIf"],["class","img-block",4,"ngIf"],[1,"hstack","gap-2","justify-content-end"],["type","button","data-bs-dismiss","modal",1,"btn","btn-light",3,"click"],["type","submit","id","add-btn",1,"btn","btn-success"],["align","left",1,"invalid-feedback"],["align","left",1,"invalid-feedback","errormessage"],["type","file",3,"change"],[1,"img-block"],["type","button","id","close-btn","ngbTooltip","Remove Image",1,"close",3,"click"],["alt","",1,"avatar-lg","rounded","me-3",3,"src"]],template:function(e,s){1&e&&(t.YNc(0,xt,1,0,"app-loader",0),t.TgZ(1,"div",1),t._UZ(2,"app-page-title",2),t.TgZ(3,"div",3)(4,"div",4)(5,"div",5)(6,"div",6)(7,"form",7),t.NdJ("ngSubmit",function(){return s.saveBlogsList()}),t.TgZ(8,"div",8)(9,"label",9),t._uU(10,"Title"),t.qZA(),t._UZ(11,"input",10),t.YNc(12,Tt,2,1,"div",11),t.qZA(),t.TgZ(13,"div",3)(14,"div",12)(15,"div",8)(16,"label",13),t._uU(17,"Category"),t.qZA(),t.TgZ(18,"ng-select",14),t.YNc(19,It,0,0,"ng-template",15),t.qZA(),t.YNc(20,At,2,1,"div",11),t.qZA()(),t.TgZ(21,"div",12)(22,"div",8)(23,"label",9),t._uU(24,"Tags"),t.qZA(),t._UZ(25,"input",16),t.YNc(26,St,2,1,"div",11),t.qZA()()(),t.TgZ(27,"div",8)(28,"label",17),t._uU(29,"Description"),t.qZA(),t.TgZ(30,"div",18),t._UZ(31,"ckeditor",19),t.qZA(),t.YNc(32,kt,2,0,"div",20),t.qZA(),t.TgZ(33,"div",8)(34,"label",17),t._uU(35,"Status"),t.qZA(),t.TgZ(36,"div",21)(37,"input",22),t.NdJ("change",function(){return s.activeStatus=!s.activeStatus}),t.qZA()()(),t.TgZ(38,"div",8)(39,"label",17),t._uU(40,"Blog Image"),t.qZA(),t._UZ(41,"br"),t.YNc(42,Pt,1,0,"input",23),t.YNc(43,qt,2,0,"div",20),t.YNc(44,$t,5,1,"div",24),t.qZA(),t.TgZ(45,"div",25)(46,"button",26),t.NdJ("click",function(){return s.GoBack()}),t._uU(47," Back "),t.qZA(),t.TgZ(48,"button",27),t._uU(49," Save "),t.qZA()()()()()()()()),2&e&&(t.Q6J("ngIf",s.showLoader),t.xp6(2),t.Q6J("breadcrumbItems",s.breadCrumbItems),t.xp6(5),t.Q6J("formGroup",s.BlogsListAddForm),t.xp6(4),t.Q6J("ngClass",t.VKq(19,H,s.submitted&&s.form.title.errors)),t.xp6(1),t.Q6J("ngIf",s.submitted&&s.form.title.errors),t.xp6(6),t.Q6J("items",s.blogcategory)("ngClass",t.VKq(21,H,s.submitted&&s.form.categoryId.errors)),t.xp6(2),t.Q6J("ngIf",s.submitted&&s.form.categoryId.errors),t.xp6(5),t.Q6J("multiple",!0)("ngClass",t.VKq(23,H,s.submitted&&s.form.tags.errors)),t.xp6(1),t.Q6J("ngIf",s.submitted&&s.form.tags.errors),t.xp6(5),t.Q6J("editor",s.Editor)("ngClass",t.VKq(25,H,s.submitted&&s.form.content.errors))("config",t.DdM(27,Jt)),t.xp6(1),t.Q6J("ngIf",s.submitted&&s.BlogsListAddForm.get("content").hasError("required")),t.xp6(5),t.Q6J("checked",s.activeStatus),t.xp6(5),t.Q6J("ngIf",s.upload),t.xp6(1),t.Q6J("ngIf",s.submitted&&s.BlogsListAddForm.get("image").hasError("required")),t.xp6(1),t.Q6J("ngIf",!s.upload))},dependencies:[m.mk,m.O5,u._Y,u.Fj,u.JJ,u.JL,u.Q7,u.sg,u.u,Q.V,G.R,K.w9,K.C5,tt.u],styles:["#close-btn[_ngcontent-%COMP%]{right:-100px;top:-50px;position:relative;background-color:#aeaeaf;border-radius:50%}.errormessage[_ngcontent-%COMP%]{display:block}"]});class T{constructor(e,s,n){this.pipe=e,this.http=s,this.util=n,this._loading$=new b.X(!0),this._search$=new M.x,this._filteredData$=new b.X([]),this._total$=new b.X(0),this._state={page:1,pageSize:8,searchTerm:"",sortColumn:"",sortDirection:"",startIndex:0,endIndex:9,totalRecords:0,status:"",payment:"",date:""},this.cities=[{id:1,name:"Kannur",state:"Kerala"},{id:2,name:"Kochi",state:"Kerala"},{id:3,name:"Chalakudi",state:"Kerala"}],this.getSelectedBlogsList=r=>this.http.get(`/api/blog-content/${r}`,{headers:void 0}),this.getBlogCategory=()=>this.http.get("/api/blog-category",{headers:void 0}),this._search$.pipe((0,v.b)(()=>this._loading$.next(!0)),(0,F.b)(200),(0,R.w)(()=>this._search()),(0,z.g)(200),(0,v.b)(()=>this._loading$.next(!1))).subscribe(r=>{this._filteredData$.next(r.filteredData),this._total$.next(r.total)}),this._search$.next()}get filteredData$(){return this._filteredData$.asObservable()}get product(){return this.products}get total$(){return this._total$.asObservable()}get loading$(){return this._loading$.asObservable()}get page(){return this._state.page}get pageSize(){return this._state.pageSize}get searchTerm(){return this._state.searchTerm}get startIndex(){return this._state.startIndex}get endIndex(){return this._state.endIndex}get totalRecords(){return this._state.totalRecords}get status(){return this._state.status}get payment(){return this._state.payment}get date(){return this._state.date}set page(e){this._set({page:e})}set pageSize(e){this._set({pageSize:e})}set searchTerm(e){this._set({searchTerm:e})}set sortColumn(e){this._set({sortColumn:e})}set sortDirection(e){this._set({sortDirection:e})}set startIndex(e){this._set({startIndex:e})}set endIndex(e){this._set({endIndex:e})}set totalRecords(e){this._set({totalRecords:e})}set status(e){this._set({status:e})}set payment(e){this._set({payment:e})}set date(e){this._set({date:e})}_set(e){Object.assign(this._state,e),this._search$.next()}_search(){const{sortColumn:e,sortDirection:s,page:r,searchTerm:o}=this._state;let d=function Dt(i,e,s){return""===s||""===e?i:[...i].sort((n,r)=>{const o=((i,e)=>i<e?-1:i>e?1:0)(n[e],r[e]);return"asc"===s?o:-o})}(this.cities,e,s);d=d.filter(p=>function Mt(i,e,s){return i.name.toLowerCase().includes(e.toLowerCase())}(p,o));const g=d.length;return this.totalRecords=d.length,this._state.startIndex=(r-1)*this.pageSize+1,this._state.endIndex=(r-1)*this.pageSize+this.pageSize,this.endIndex>this.totalRecords&&(this.endIndex=this.totalRecords),d=d.slice(this._state.startIndex-1,this._state.endIndex),(0,N.of)({filteredData:d,total:g})}}function Nt(i,e){1&i&&t._UZ(0,"app-loader")}T.\u0275fac=function(e){return new(e||T)(t.LFG(m.JJ),t.LFG(O.eN),t.LFG(Y.f))},T.\u0275prov=t.Yz7({token:T,factory:T.\u0275fac,providedIn:"root"});class U{constructor(e,s){var n=this;this.service=e,this.router=s,this.blogcategory=[],this.showLoader=!1,this.loadBlogDetails=function(){var r=(0,_.Z)(function*(o){try{const a=yield n.service.getSelectedBlogsList(o).toPromise();a&&(n.blog=a,n.showLoader=!1)}catch{n.showLoader=!1}});return function(o){return r.apply(this,arguments)}}(),this.loadBlogCategory=(0,_.Z)(function*(){try{const r=yield n.service.getBlogCategory().toPromise();r&&(n.blogcategory=r,n.showLoader=!1)}catch{n.showLoader=!1}}),this.getCategoryName=r=>{const o=this.blogcategory.filter(a=>a.id==r);return console.log(o),o.length?o[0].name:"-"},this.GoBack=()=>{this.router.navigate(["/blogs/blogs-list"])}}ngOnInit(){this.showLoader=!0,this.blogId=localStorage.getItem("blogId"),this.breadCrumbItems=[{label:"Blogs"},{label:"Blog Details",active:!0}],this.loadBlogCategory(),this.loadBlogDetails(this.blogId)}}U.\u0275fac=function(e){return new(e||U)(t.Y36(T),t.Y36(y.F0))},U.\u0275cmp=t.Xpm({type:U,selectors:[["app-blog-details"]],features:[t._Bn([T,m.JJ])],decls:52,vars:16,consts:[[4,"ngIf"],[1,"container-fluid"],[1,"row","backrow"],[1,"backicon"],[1,"bx","bx-arrow-back","goback",3,"click"],[1,"pageheader"],["title","Blog Details",3,"breadcrumbItems"],[1,"row"],[1,"col-lg-12"],[1,"card"],[1,"card-body"],[1,"pt-3"],[1,"row","justify-content-center"],[1,"col-xl-8"],[1,"text-center"],[1,"text-muted","mb-4"],[1,"col-sm-4"],[1,"text-muted","mb-2"],[1,"font-size-15"],[1,"mt-4","mt-sm-0"],[1,"my-5"],["alt","",1,"img-thumbnail","mx-auto","d-block",3,"src"],[1,"mt-4"],[1,"text-muted","font-size-14"],[1,"mb-4"],[3,"innerHTML"]],template:function(e,s){1&e&&(t.YNc(0,Nt,1,0,"app-loader",0),t.TgZ(1,"div",1)(2,"div",2)(3,"div",3)(4,"i",4),t.NdJ("click",function(){return s.GoBack()}),t.qZA()(),t.TgZ(5,"div",5),t._UZ(6,"app-page-title",6),t.qZA()(),t.TgZ(7,"div",7)(8,"div",8)(9,"div",9)(10,"div",10)(11,"div",11)(12,"div",12)(13,"div",13)(14,"div")(15,"div",14)(16,"h4"),t._uU(17),t.qZA(),t.TgZ(18,"p",15),t._uU(19),t.ALo(20,"date"),t.qZA()(),t._UZ(21,"hr"),t.TgZ(22,"div",14)(23,"div",7)(24,"div",16)(25,"div")(26,"p",17),t._uU(27,"Categories"),t.qZA(),t.TgZ(28,"h5",18),t._uU(29),t.qZA()()(),t.TgZ(30,"div",16)(31,"div",19)(32,"p",17),t._uU(33,"Date"),t.qZA(),t.TgZ(34,"h5",18),t._uU(35),t.ALo(36,"date"),t.qZA()()(),t.TgZ(37,"div",16)(38,"div",19)(39,"p",17),t._uU(40,"Status"),t.qZA(),t.TgZ(41,"h5",18),t._uU(42),t.qZA()()()()(),t._UZ(43,"hr"),t.TgZ(44,"div",20),t._UZ(45,"img",21),t.qZA(),t._UZ(46,"hr"),t.TgZ(47,"div",22)(48,"div",23)(49,"p",24),t._uU(50),t.qZA(),t._UZ(51,"p",25),t.qZA()()()()()()()()()()()),2&e&&(t.Q6J("ngIf",s.showLoader),t.xp6(6),t.Q6J("breadcrumbItems",s.breadCrumbItems),t.xp6(11),t.Oqu(null==s.blog?null:s.blog.title),t.xp6(2),t.hij(" Last Updated : ",t.xi3(20,10,null==s.blog?null:s.blog.updatedAt,"dd-MM-yyyy")," "),t.xp6(10),t.Oqu(s.getCategoryName(null==s.blog?null:s.blog.categoryId)),t.xp6(6),t.Oqu(t.xi3(36,13,null==s.blog?null:s.blog.createdAt,"dd-MM-yyyy")),t.xp6(7),t.Oqu(null==s.blog?null:s.blog.status),t.xp6(3),t.s9C("src",null==s.blog?null:s.blog.image,t.LSH),t.xp6(5),t.hij(" ",null==s.blog?null:s.blog.description," "),t.xp6(1),t.Q6J("innerHTML",null==s.blog?null:s.blog.content,t.oJD))},dependencies:[m.O5,Q.V,G.R,m.uU],styles:[".goback[_ngcontent-%COMP%]{font-size:25px;margin-bottom:20px;cursor:pointer}.backrow[_ngcontent-%COMP%]{align-items:center}.row[_ngcontent-%COMP%]   .backicon[_ngcontent-%COMP%]{width:3%}.row[_ngcontent-%COMP%]   .pageheader[_ngcontent-%COMP%]{width:97%}"]});const Ft=[{path:"blog-categories",component:q},{path:"blogs-list",component:$},{path:"add-blog",component:J},{path:"blog-details",component:U}];class w{}w.\u0275fac=function(e){return new(e||w)},w.\u0275mod=t.oAB({type:w}),w.\u0275inj=t.cJS({imports:[y.Bz.forChild(Ft),y.Bz]});var Rt=h(19668),zt=h(71844);class S{}S.\u0275fac=function(e){return new(e||S)},S.\u0275mod=t.oAB({type:S}),S.\u0275inj=t.cJS({imports:[m.ez,w,y.Bz,j.u3,u.u5,W.zk.forRoot(),u.UX,Rt.v,K.A0,tt.d,zt.Ti]})}}]);